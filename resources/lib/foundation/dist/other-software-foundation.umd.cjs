(function(l,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.OtherSoftwareFoundation={},l.Vue))})(this,function(l,a){"use strict";var Ps=Object.defineProperty;var vs=(l,a,w)=>a in l?Ps(l,a,{enumerable:!0,configurable:!0,writable:!0,value:w}):l[a]=w;var _=(l,a,w)=>vs(l,typeof a!="symbol"?a+"":a,w);class w{constructor(t){_(this,"xhr");_(this,"status");_(this,"success");_(this,"fail");_(this,"partial");_(this,"raw");_(this,"message");_(this,"content");if(this.xhr=t,this.xhr.getResponseHeader("x-stack-router"))throw new Error("Invalid response for MVC HTTP client.");this.status=this.xhr.status,this.success=this.xhr.status>=200&&this.xhr.status<300,this.fail=!this.success,this.content=this.xhr.response,this.message=this.xhr.statusText,this.partial=!!this.xhr.getResponseHeader("x-partial"),this.raw=!!this.xhr.getResponseHeader("x-raw")}}class L extends w{constructor(n){super(n);_(this,"location");_(this,"signature");_(this,"redirect");_(this,"stack");_(this,"toasts");_(this,"errors");let r=JSON.parse(this.xhr.response);this.location=r.location,this.signature=r.signature,this.redirect=r.redirect,this.stack=r.stack,this.errors=r.errors,this.toasts=r.toasts}}const ne=Symbol("StateLocation"),re=Symbol("StateStackSignature"),oe=Symbol("StateManager");function ve(){let e=a.inject(ne);if(!e)throw new Error("Location is used out of router context!");return e}function ke(){let e=a.inject(re);if(!e)throw new Error("Stack signature is used out of router context!");return e}function Le(){let e=a.inject(oe);if(!e)throw new Error("State manager is used out of router context!");return{update:e}}function se(e,t){return"keep"in t?t.child?(e.child?e.child=se(e.child,t.child):e.child=t.child,{...e}):{...e}:{...t}}class V{constructor(t,n,r=void 0,o=void 0){_(this,"method");_(this,"url");_(this,"xhr");_(this,"body");_(this,"signature");this.xhr=new XMLHttpRequest,this.method=t,this.url=n,this.body=r,this.signature=o}static send(t,n,r=void 0,o=void 0){return new V(t,n,r,o).send()}send(){return new Promise((t,n)=>{if(this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader("Language",APP_LOCALE),this.xhr.setRequestHeader("X-Stack-Router","true"),this.xhr.setRequestHeader("X-XSRF-TOKEN",this.readCookie("XSRF-TOKEN")),this.signature)this.xhr.setRequestHeader("X-Stack-Signature",this.signature);else throw new Error("Missing signature!");this.xhr.onload=()=>{this.xhr.readyState===XMLHttpRequest.DONE&&this.xhr.status&&(this.xhr.status<200||this.xhr.status>=300?this.xhr.status===422?n(new L(this.xhr)):n(new w(this.xhr)):t(new L(this.xhr)))},this.xhr.onerror=()=>{n(new w(this.xhr))},this.xhr.send(this.transform(this.body))})}transform(t){return t instanceof Blob||t instanceof ArrayBuffer||t instanceof FormData||t instanceof URLSearchParams||typeof t=="string"?t:t===null?null:(this.xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8"),JSON.stringify(t))}readCookie(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):""}}const Ie={modal:void 0,listener:void 0,show(e){typeof e=="object"&&(e=`All requests must receive a valid MVC response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("dialog"),this.modal.style.display="flex",this.modal.style.width="100%",this.modal.style.height="100dvh",this.modal.style.maxWidth="100%",this.modal.style.maxHeight="100dvh",this.modal.style.padding="2rem",this.modal.style.boxSizing="border-box",this.modal.style.border="none",this.modal.style.backgroundColor="rgba(0, 0, 0, 0.6)",this.modal.style.backdropFilter="blur(0.125rem)",this.modal.addEventListener("click",()=>this.hide());const n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="0.5rem",n.style.border="none",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),this.modal.showModal(),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=void 0,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.key==="Escape"&&this.hide()}},m={},x={addEventListener(e,t){m[e]?m[e].push(t):m[e]=[t]},removeEventListener(e,t){m[e]&&(m[e]=m[e].filter(n=>n!==t),m[e].length===0&&delete m[e])},dispatch(e,t){return m[e]&&m[e].forEach(n=>n(t)),t}};function D(){const e=Le(),t=ke();async function n(c,u,{data:d=void 0,preserveScroll:f=!1,replace:h=!1}={}){return document.body.classList.add("osf-loading"),await V.send(c,u,d,t.value).then(async p=>await e.update(p).then(g=>p.redirect?i(p.redirect):p.raw?Promise.resolve(p.raw):(f||s(),h?o(g):r(g),Promise.resolve(p)))).catch(async p=>p instanceof L?await e.update(p).then(()=>Promise.reject(p)):p.status===423?(x.dispatch("password.confirm",{method:c,url:u,options:{data:d,preserveScroll:f,replace:h}}),Promise.reject(p)):(console.error(p),APP_DEBUG&&p.content&&Ie.show(p.content),Promise.reject(p))).finally(()=>{document.body.classList.remove("osf-loading")})}function r(c){window.history.pushState(c,"",c.location)}function o(c){window.history.replaceState(c,"",c.location)}function s(){window.scroll(0,0)}async function i(c){return c.reload?await new Promise(()=>{window.location.href=c.target}):await n("GET",c.target,{preserveScroll:!0,replace:!1})}return{dispatch:n,get:async function(c){return await n("GET",c)},post:async function(c,u=void 0){return await n("POST",c,{data:u,preserveScroll:!0})},patch:async function(c,u=void 0){return await n("PATCH",c,{data:u,preserveScroll:!0})},put:async function(c,u=void 0){return await n("PUT",c,{data:u,preserveScroll:!0})},delete:async function(c,u=void 0){return await n("DELETE",c,{data:u,preserveScroll:!0})}}}var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function je(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jt="Expected a function",Ve="__lodash_hash_undefined__",xe=1/0,Zt=9007199254740991,Xt="[object Function]",Qt="[object GeneratorFunction]",en="[object Symbol]",tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nn=/^\w*$/,rn=/^\./,on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sn=/[\\^$.*+?()[\]{}|]/g,an=/\\(\\)?/g,cn=/^\[object .+?Constructor\]$/,ln=/^(?:0|[1-9]\d*)$/,un=typeof S=="object"&&S&&S.Object===Object&&S,fn=typeof self=="object"&&self&&self.Object===Object&&self,ae=un||fn||Function("return this")();function dn(e,t){return e==null?void 0:e[t]}function hn(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var pn=Array.prototype,_n=Function.prototype,De=Object.prototype,ie=ae["__core-js_shared__"],Me=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=_n.toString,M=De.hasOwnProperty,He=De.toString,gn=RegExp("^"+Fe.call(M).replace(sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=ae.Symbol,yn=pn.splice,mn=qe(ae,"Map"),I=qe(Object,"create"),Be=Ke?Ke.prototype:void 0,Ue=Be?Be.toString:void 0;function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wn(){this.__data__=I?I(null):{}}function Sn(e){return this.has(e)&&delete this.__data__[e]}function En(e){var t=this.__data__;if(I){var n=t[e];return n===Ve?void 0:n}return M.call(t,e)?t[e]:void 0}function Cn(e){var t=this.__data__;return I?t[e]!==void 0:M.call(t,e)}function bn(e,t){var n=this.__data__;return n[e]=I&&t===void 0?Ve:t,this}C.prototype.clear=wn,C.prototype.delete=Sn,C.prototype.get=En,C.prototype.has=Cn,C.prototype.set=bn;function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(){this.__data__=[]}function Tn(e){var t=this.__data__,n=F(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():yn.call(t,n,1),!0}function On(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]}function Rn(e){return F(this.__data__,e)>-1}function An(e,t){var n=this.__data__,r=F(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}A.prototype.clear=$n,A.prototype.delete=Tn,A.prototype.get=On,A.prototype.has=Rn,A.prototype.set=An;function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(){this.__data__={hash:new C,map:new(mn||A),string:new C}}function Pn(e){return H(this,e).delete(e)}function vn(e){return H(this,e).get(e)}function kn(e){return H(this,e).has(e)}function Ln(e,t){return H(this,e).set(e,t),this}b.prototype.clear=Nn,b.prototype.delete=Pn,b.prototype.get=vn,b.prototype.has=kn,b.prototype.set=Ln;function In(e,t,n){var r=e[t];(!(M.call(e,t)&&Ge(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function F(e,t){for(var n=e.length;n--;)if(Ge(e[n][0],t))return n;return-1}function jn(e){if(!K(e)||Kn(e))return!1;var t=Gn(e)||hn(e)?gn:cn;return t.test(qn(e))}function Vn(e,t,n,r){if(!K(e))return e;t=Fn(t,e)?[t]:Dn(t);for(var o=-1,s=t.length,i=s-1,c=e;c!=null&&++o<s;){var u=Un(t[o]),d=n;if(o!=i){var f=c[u];d=void 0,d===void 0&&(d=K(f)?f:Mn(t[o+1])?[]:{})}In(c,u,d),c=c[u]}return e}function xn(e){if(typeof e=="string")return e;if(le(e))return Ue?Ue.call(e):"";var t=e+"";return t=="0"&&1/e==-xe?"-0":t}function Dn(e){return We(e)?e:Bn(e)}function H(e,t){var n=e.__data__;return Hn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qe(e,t){var n=dn(e,t);return jn(n)?n:void 0}function Mn(e,t){return t=t??Zt,!!t&&(typeof e=="number"||ln.test(e))&&e>-1&&e%1==0&&e<t}function Fn(e,t){if(We(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||le(e)?!0:nn.test(e)||!tn.test(e)||t!=null&&e in Object(t)}function Hn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Kn(e){return!!Me&&Me in e}var Bn=ce(function(e){e=zn(e);var t=[];return rn.test(e)&&t.push(""),e.replace(on,function(n,r,o,s){t.push(o?s.replace(an,"$1"):r||n)}),t});function Un(e){if(typeof e=="string"||le(e))return e;var t=e+"";return t=="0"&&1/e==-xe?"-0":t}function qn(e){if(e!=null){try{return Fe.call(e)}catch{}try{return e+""}catch{}}return""}function ce(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Jt);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i),i};return n.cache=new(ce.Cache||b),n}ce.Cache=b;function Ge(e,t){return e===t||e!==e&&t!==t}var We=Array.isArray;function Gn(e){var t=K(e)?He.call(e):"";return t==Xt||t==Qt}function K(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Wn(e){return!!e&&typeof e=="object"}function le(e){return typeof e=="symbol"||Wn(e)&&He.call(e)==en}function zn(e){return e==null?"":xn(e)}function Yn(e,t,n){return e==null?e:Vn(e,t,n)}var Jn=Yn;const ze=je(Jn);var Zn="Expected a function",Ye="__lodash_hash_undefined__",Je=1/0,Xn="[object Function]",Qn="[object GeneratorFunction]",er="[object Symbol]",tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nr=/^\w*$/,rr=/^\./,or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sr=/[\\^$.*+?()[\]{}|]/g,ar=/\\(\\)?/g,ir=/^\[object .+?Constructor\]$/,cr=typeof S=="object"&&S&&S.Object===Object&&S,lr=typeof self=="object"&&self&&self.Object===Object&&self,ue=cr||lr||Function("return this")();function ur(e,t){return e==null?void 0:e[t]}function fr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var dr=Array.prototype,hr=Function.prototype,Ze=Object.prototype,fe=ue["__core-js_shared__"],Xe=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Qe=hr.toString,de=Ze.hasOwnProperty,et=Ze.toString,pr=RegExp("^"+Qe.call(de).replace(sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=ue.Symbol,_r=dr.splice,gr=ot(ue,"Map"),j=ot(Object,"create"),nt=tt?tt.prototype:void 0,rt=nt?nt.toString:void 0;function $(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yr(){this.__data__=j?j(null):{}}function mr(e){return this.has(e)&&delete this.__data__[e]}function wr(e){var t=this.__data__;if(j){var n=t[e];return n===Ye?void 0:n}return de.call(t,e)?t[e]:void 0}function Sr(e){var t=this.__data__;return j?t[e]!==void 0:de.call(t,e)}function Er(e,t){var n=this.__data__;return n[e]=j&&t===void 0?Ye:t,this}$.prototype.clear=yr,$.prototype.delete=mr,$.prototype.get=wr,$.prototype.has=Sr,$.prototype.set=Er;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cr(){this.__data__=[]}function br(e){var t=this.__data__,n=B(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_r.call(t,n,1),!0}function $r(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]}function Tr(e){return B(this.__data__,e)>-1}function Or(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}N.prototype.clear=Cr,N.prototype.delete=br,N.prototype.get=$r,N.prototype.has=Tr,N.prototype.set=Or;function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rr(){this.__data__={hash:new $,map:new(gr||N),string:new $}}function Ar(e){return U(this,e).delete(e)}function Nr(e){return U(this,e).get(e)}function Pr(e){return U(this,e).has(e)}function vr(e,t){return U(this,e).set(e,t),this}T.prototype.clear=Rr,T.prototype.delete=Ar,T.prototype.get=Nr,T.prototype.has=Pr,T.prototype.set=vr;function B(e,t){for(var n=e.length;n--;)if(Kr(e[n][0],t))return n;return-1}function kr(e,t){t=Vr(t,e)?[t]:jr(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Fr(t[n++])];return n&&n==r?e:void 0}function Lr(e){if(!at(e)||Dr(e))return!1;var t=Br(e)||fr(e)?pr:ir;return t.test(Hr(e))}function Ir(e){if(typeof e=="string")return e;if(pe(e))return rt?rt.call(e):"";var t=e+"";return t=="0"&&1/e==-Je?"-0":t}function jr(e){return st(e)?e:Mr(e)}function U(e,t){var n=e.__data__;return xr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ot(e,t){var n=ur(e,t);return Lr(n)?n:void 0}function Vr(e,t){if(st(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||pe(e)?!0:nr.test(e)||!tr.test(e)||t!=null&&e in Object(t)}function xr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Dr(e){return!!Xe&&Xe in e}var Mr=he(function(e){e=qr(e);var t=[];return rr.test(e)&&t.push(""),e.replace(or,function(n,r,o,s){t.push(o?s.replace(ar,"$1"):r||n)}),t});function Fr(e){if(typeof e=="string"||pe(e))return e;var t=e+"";return t=="0"&&1/e==-Je?"-0":t}function Hr(e){if(e!=null){try{return Qe.call(e)}catch{}try{return e+""}catch{}}return""}function he(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Zn);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i),i};return n.cache=new(he.Cache||T),n}he.Cache=T;function Kr(e,t){return e===t||e!==e&&t!==t}var st=Array.isArray;function Br(e){var t=at(e)?et.call(e):"";return t==Xn||t==Qn}function at(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ur(e){return!!e&&typeof e=="object"}function pe(e){return typeof e=="symbol"||Ur(e)&&et.call(e)==er}function qr(e){return e==null?"":Ir(e)}function Gr(e,t,n){var r=e==null?void 0:kr(e,t);return r===void 0?n:r}var Wr=Gr;const zr=je(Wr),q=Symbol("FormContext");function it(e={}){const t=a.ref(e),n=a.ref({}),r=a.ref({}),o=a.ref(!1);function s(u){ze(r.value,u,!0)}function i(u,d){return zr(t.value,u,d)}function c(u,d){ze(t.value,u,d)}return{data:t,errors:n,touched:r,processing:o,touch:s,value:i,fill:c}}function Yr(e,t,n){return e&&t&&(t.touch(e),t.fill(e,n)),n}function Jr(e,t,n){return e&&t?t.value(e,n):n}const ct=a.defineComponent({name:"FormController",props:{action:{type:String,required:!1},method:{type:String,required:!1,default:"POST"},data:{type:Object,required:!1,default:{}},onSubmit:{type:Function,required:!1}},slots:Object,setup(e,{slots:t,expose:n}){const r=a.ref(),o=it(e.data),s=D(),{data:i,processing:c,errors:u,touched:d}=o;function f(){r.value.dispatchEvent(new SubmitEvent("submit"))}function h(){if(e.onSubmit)return e.onSubmit(i.value,o);if(!e.action)throw new Error("You must either provide action or your custom form handler!");return s.dispatch(e.method,e.action,{data:i.value})}function p(g){g.preventDefault(),g.stopPropagation(),c.value=!0,u.value={},d.value={},a.nextTick(()=>h().catch(R=>{R instanceof L&&(u.value=R.errors)}).finally(()=>{c.value=!1}))}return a.watch(()=>e.data,g=>{i.value=g}),n({ctx:o,submit:f}),a.provide(q,o),()=>a.h("form",{ref:g=>r.value=g,action:e.action,method:e.method,onSubmit:p},t.default({data:i.value,processing:c.value,errors:u.value,touched:d.value,ctx:o,submit:f}))}}),_e=Symbol("ViewResolver"),G=Symbol("StackedView"),W=Symbol("StackedViewDepth"),ge=Symbol("StackedViewParent"),ye=Symbol("StackedViewLocation"),me=Symbol("StackedViewQuery");function lt(e){return Array.isArray(e)?e:[e]}function ut(){const e=a.inject(_e);if(!e)throw new Error("You're trying to get ViewResolver ouf of Router context!");return e}function ft(){const e=a.inject(G);if(!e)throw new Error("You're trying to get stacked view out of Router context!");return e}function dt(){const e=a.inject(W);if(!e)throw new Error("You're trying to get view depth out of Router context!");return e}const we=a.defineComponent({inheritAttrs:!1,name:"RouterView",props:{allowLayouts:{type:Boolean,required:!1,default:!1}},setup(e){const t=ut(),n=dt(),r=ft(),o=a.computed(()=>{var c;return(c=r.value)==null?void 0:c.location}),s=a.computed(()=>{var c;return(c=r.value)==null?void 0:c.query}),i=a.computed(()=>{if(r.value&&r.value.child)return{...r.value.child,parent:r.value}});return a.provide(G,i),a.provide(W,a.computed(()=>n.value+1)),a.provide(ge,a.computed(()=>{var c;return(c=r.value)==null?void 0:c.parent})),a.provide(ye,o),a.provide(me,s),()=>{if(r.value&&"component"in r.value){let c=t(r.value.component);c.inheritAttrs=!!c.inheritAttrs;let u=a.h(c,r.value.props);return e.allowLayouts&&c.layout&&(u=lt(c.layout).concat(u).reverse().reduce((d,f)=>(f=typeof f=="string"?t(f):f,f.inheritAttrs=!!f.inheritAttrs,a.h(f,null,()=>d)))),u}}}}),ht=a.defineComponent({name:"RouterLink",props:{method:{type:String,required:!1,default:"GET"},href:{type:String,required:!1},data:{type:[Object,Array,String,null],required:!1},preserveScroll:{type:Boolean,required:!1},replace:{type:Boolean,required:!1},target:{type:String,required:!1},disabled:{type:Boolean,required:!1},explicit:{type:Boolean,required:!1}},setup(e,{attrs:t,slots:n}){const r=ve(),o=D(),s=a.ref(!1),i=a.computed(()=>{var R;let f=r.value.replace(/\/$/,""),h=(R=e.href)==null?void 0:R.replace(/\/$/,""),p=f===h,g=!e.explicit&&h&&r.value.startsWith(h);return p||g}),c=a.computed(()=>e.href?"a":"button"),u=a.computed(()=>e.href?{target:e.target}:{disabled:e.disabled});function d(f){if(!e.href||!Zr(f,e.href,e.target)||(f.preventDefault(),e.disabled))return;let{method:h,href:p,data:g,preserveScroll:R,replace:Ns}=e;s.value=!0,a.nextTick(()=>{o.dispatch(h,p,{data:g,preserveScroll:R,replace:Ns}).then(()=>{s.value=!1}).catch(()=>{s.value=!1})})}return()=>a.h(c.value,{href:e.href,onClick:d,...u.value,...t,class:[{active:i.value,pending:s.value,disabled:e.disabled}]},n.default({active:i,pending:s}))}});function Zr(e,t,n){return n==="_blank"||Xr(t)?!1:!(e.defaultPrevented||e.button>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Xr(e){try{let t=window.location.host,n=new URL(e).host;return t!==n}catch{return!1}}const Se=Symbol("ToastRegistry");function Ee(){let e=a.inject(Se);if(!e)throw new Error("Toasts are used out of router context!");return e}const pt=a.defineComponent({name:"ToastController",slots:Object,setup(e,{slots:t,attrs:n}){const r=Ee();return()=>a.h("div",n,t.default({toasts:r.value}))}}),_t=a.defineComponent({name:"Toast",props:{toast:{type:Object,required:!0}},slots:Object,setup(e,{slots:t,attrs:n}){const r=Ee(),o=a.ref();function s(){clearTimeout(o.value),r.value=r.value.filter(i=>i.id!==e.toast.id)}return a.onMounted(()=>{o.value=setTimeout(()=>s(),e.toast.duration*1e3)}),a.onBeforeUnmount(()=>{clearTimeout(o.value)}),()=>a.h("li",n,t.default({toast:e.toast,close:s}))}}),Qr=a.defineComponent({name:"PasswordConfirmationController",props:{action:{type:String,required:!0}},slots:Object,setup(e,{slots:t,attrs:n}){const r=D(),o=a.ref(),s=a.ref(!1);function i(d){o.value=d,s.value=!0}async function c(d){let{method:f,url:h,options:p}=o.value;return await r.post(e.action,d).then(async()=>await r.dispatch(f,h,p).then(async g=>(u(),await a.nextTick(()=>g))))}function u(){s.value=!1,o.value=void 0}return a.onMounted(()=>{x.addEventListener("password.confirm",i)}),a.onBeforeUnmount(()=>{x.removeEventListener("password.confirm",i)}),()=>a.h("div",n,t.default({open:s.value,submit:c,cancel:u}))}});function gt(e,t){return wt(mt(e),t)}function yt(e,t,n){return wt(eo(mt(e),t),n)}function mt(e){let t=APP_TRANSLATIONS[e];return typeof t>"u"&&(t=e),t}function eo(e,t){let n=e.split("|"),r=to(n,t);if(r)return r.trim();n=ro(n);let o=oo(t);return n.length===1||n[o]==null?n[0]:n[o]}function to(e,t){for(let n in e){let r=no(n,t);if(r)return r}}function no(e,t){const n=/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s,r=e.match(n);if(!r||r.length!==3)return null;const o=r[1],s=r[2];if(o.includes(",")){const[i,c]=o.split(",",2);if(c==="*"&&t>=Number(i))return s;if(i==="*"&&t<=Number(c))return s;if(t>=Number(i)&&t<=Number(c))return s}return Number(o)==t?s:null}function ro(e){return e.map(t=>t.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}function wt(e,t){return t?Object.keys(t).reduce((n,r)=>n.replace(`:${r}`,t[r].toString()),e):e}function oo(e){switch(APP_LOCALE){case"az":case"az_AZ":case"bo":case"bo_CN":case"bo_IN":case"dz":case"dz_BT":case"id":case"id_ID":case"ja":case"ja_JP":case"jv":case"ka":case"ka_GE":case"km":case"km_KH":case"kn":case"kn_IN":case"ko":case"ko_KR":case"ms":case"ms_MY":case"th":case"th_TH":case"tr":case"tr_CY":case"tr_TR":case"vi":case"vi_VN":case"zh":case"zh_CN":case"zh_HK":case"zh_SG":case"zh_TW":return 0;case"af":case"af_ZA":case"bn":case"bn_BD":case"bn_IN":case"bg":case"bg_BG":case"ca":case"ca_AD":case"ca_ES":case"ca_FR":case"ca_IT":case"da":case"da_DK":case"de":case"de_AT":case"de_BE":case"de_CH":case"de_DE":case"de_LI":case"de_LU":case"el":case"el_CY":case"el_GR":case"en":case"en_AG":case"en_AU":case"en_BW":case"en_CA":case"en_DK":case"en_GB":case"en_HK":case"en_IE":case"en_IN":case"en_NG":case"en_NZ":case"en_PH":case"en_SG":case"en_US":case"en_ZA":case"en_ZM":case"en_ZW":case"eo":case"eo_US":case"es":case"es_AR":case"es_BO":case"es_CL":case"es_CO":case"es_CR":case"es_CU":case"es_DO":case"es_EC":case"es_ES":case"es_GT":case"es_HN":case"es_MX":case"es_NI":case"es_PA":case"es_PE":case"es_PR":case"es_PY":case"es_SV":case"es_US":case"es_UY":case"es_VE":case"et":case"et_EE":case"eu":case"eu_ES":case"eu_FR":case"fa":case"fa_IR":case"fi":case"fi_FI":case"fo":case"fo_FO":case"fur":case"fur_IT":case"fy":case"fy_DE":case"fy_NL":case"gl":case"gl_ES":case"gu":case"gu_IN":case"ha":case"ha_NG":case"he":case"he_IL":case"hu":case"hu_HU":case"is":case"is_IS":case"it":case"it_CH":case"it_IT":case"ku":case"ku_TR":case"lb":case"lb_LU":case"ml":case"ml_IN":case"mn":case"mn_MN":case"mr":case"mr_IN":case"nah":case"nb":case"nb_NO":case"ne":case"ne_NP":case"nl":case"nl_AW":case"nl_BE":case"nl_NL":case"nn":case"nn_NO":case"no":case"om":case"om_ET":case"om_KE":case"or":case"or_IN":case"pa":case"pa_IN":case"pa_PK":case"pap":case"pap_AN":case"pap_AW":case"pap_CW":case"ps":case"ps_AF":case"pt":case"pt_BR":case"pt_PT":case"so":case"so_DJ":case"so_ET":case"so_KE":case"so_SO":case"sq":case"sq_AL":case"sq_MK":case"sv":case"sv_FI":case"sv_SE":case"sw":case"sw_KE":case"sw_TZ":case"ta":case"ta_IN":case"ta_LK":case"te":case"te_IN":case"tk":case"tk_TM":case"ur":case"ur_IN":case"ur_PK":case"zu":case"zu_ZA":return e==1?0:1;case"am":case"am_ET":case"bh":case"fil":case"fil_PH":case"fr":case"fr_BE":case"fr_CA":case"fr_CH":case"fr_FR":case"fr_LU":case"gun":case"hi":case"hi_IN":case"hy":case"hy_AM":case"ln":case"ln_CD":case"mg":case"mg_MG":case"nso":case"nso_ZA":case"ti":case"ti_ER":case"ti_ET":case"wa":case"wa_BE":case"xbr":return e==0||e==1?0:1;case"be":case"be_BY":case"bs":case"bs_BA":case"hr":case"hr_HR":case"ru":case"ru_RU":case"ru_UA":case"sr":case"sr_ME":case"sr_RS":case"uk":case"uk_UA":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"cs_CZ":case"sk":case"sk_SK":return e==1?0:e>=2&&e<=4?1:2;case"ga":case"ga_IE":return e==1?0:e==2?1:2;case"lt":case"lt_LT":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":case"sl_SI":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":case"mk_MK":return e%10==1?0:1;case"mt":case"mt_MT":return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":case"lv_LV":return e==0?0:e%10==1&&e%100!=11?1:2;case"pl":case"pl_PL":return e==1?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":case"cy_GB":return e==1?0:e==2?1:e==8||e==11?2:3;case"ro":case"ro_RO":return e==1?0:e==0||e%100>0&&e%100<20?1:2;case"ar":case"ar_AE":case"ar_BH":case"ar_DZ":case"ar_EG":case"ar_IN":case"ar_IQ":case"ar_JO":case"ar_KW":case"ar_LB":case"ar_LY":case"ar_MA":case"ar_OM":case"ar_QA":case"ar_SA":case"ar_SD":case"ar_SS":case"ar_SY":case"ar_TN":case"ar_YE":return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5;default:return 0}}function Ce(e,t,n,r){const o=new URL(e,r||APP_URL);return t&&so(o.searchParams,t),n&&(o.hash=n),o.toString()}function so(e,t){Object.keys(t).forEach(n=>{be(e,n,a.toRaw(t[n]))})}function be(e,t,n,r){return r&&(t=r+"["+t+"]"),n==null?(e.append(t,""),e):Array.isArray(n)?(n.forEach((o,s)=>{be(e,s.toString(),o,t)}),e):typeof n=="object"?(Object.keys(n).forEach(o=>{be(e,o,n[o],t)}),e):(typeof n=="boolean"&&(n=Number(n)),n==null&&(n=""),e.append(t,n),e)}function St(e,t={},n){return io(ao(e),t,n)}function ao(e){return e.startsWith(APP_FALLBACK_LOCALE)?e.replace(`${APP_FALLBACK_LOCALE}.`,""):APP_AVAILABLE_LOCALES.findIndex(t=>e.startsWith(t))>=0||!e.startsWith("web.")?e:APP_LOCALE!==APP_FALLBACK_LOCALE?`${APP_LOCALE}.${e}`:e}function io(e,t,n){const r=APP_ROUTES[e];if(!r)throw new Error(`Undefined route: ${e}`);const o=co(r,t),s=Object.keys(t).reduce((i,c)=>(r.params.includes(c)||(i[c]=a.toRaw(t[c])),i),{});return Ce(o,s,n,r.domain)}function co(e,t){return e.params.reduce((n,r)=>{let o=e.binding[r]||"id",s=a.toRaw(t[r]);if(typeof s=="object"&&(s=s[o]),!s)throw new Error(`Parameter ${r} is required for uri ${e.uri}.`);return n.replace(new RegExp(`{${r}??}`),s)},e.uri)}/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function z(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const lo=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const Y=()=>{},uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fo=Object.assign,$e=Array.isArray,P=e=>typeof e=="function",y=e=>typeof e=="string",Te=e=>e!==null&&typeof e=="object",J=e=>(Te(e)||P(e))&&P(e.then)&&P(e.catch),ho=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},po=/\B([A-Z])/g,_o=ho(e=>e.replace(po,"-$1").toLowerCase());let Et;const go=()=>Et||(Et=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ct(e){if($e(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=y(r)?So(r):Ct(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(y(e)||Te(e))return e}const yo=/;(?![^(]*\))/g,mo=/:([^]+)/,wo=/\/\*[^]*?\*\//g;function So(e){const t={};return e.replace(wo,"").split(yo).forEach(n=>{if(n){const r=n.split(mo);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Eo(e){if(!e)return"";if(y(e))return e;let t="";for(const n in e){const r=e[n];if(y(r)||typeof r=="number"){const o=n.startsWith("--")?n:_o(n);t+=`${o}:${r};`}}return t}function bt(e){let t="";if(y(e))t=e;else if($e(e))for(let n=0;n<e.length;n++){const r=bt(e[n]);r&&(t+=r+" ")}else if(Te(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Co="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",bo="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",$o=z(Co),To=z(bo),Oo=z("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly"+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Ro(e){return!!e||e===""}const Ao=/[>/="'\u0009\u000a\u000c\u0020]/,Oe={};function No(e){if(Oe.hasOwnProperty(e))return Oe[e];const t=Ao.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Oe[e]=!t}const Po={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function vo(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}const ko=/["'&<>]/;function E(e){const t=""+e,n=ko.exec(t);if(!n)return t;let r="",o,s,i=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==s&&(r+=t.slice(i,s)),i=s+1,r+=o}return i!==s?r+t.slice(i,s):r}const Lo=/^-?>|<!--|-->|--!>|<!-$/g;function Io(e){return e.replace(Lo,"")}/**
* @vue/server-renderer v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jo=z(",key,ref,innerHTML,textContent,ref_key,ref_for");function Vo(e,t){let n="";for(const r in e){if(jo(r)||uo(r)||t==="textarea"&&r==="value")continue;const o=e[r];r==="class"?n+=` class="${Do(o)}"`:r==="style"?n+=` style="${Mo(o)}"`:r==="className"?n+=` class="${String(o)}"`:n+=xo(r,o,t)}return n}function xo(e,t,n){if(!vo(t))return"";const r=n&&(n.indexOf("-")>0||$o(n))?e:Po[e]||e.toLowerCase();return Oo(r)?Ro(t)?` ${r}`:"":No(r)?t===""?` ${r}`:` ${r}="${E(t)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${r}`),"")}function Do(e){return E(bt(e))}function Mo(e){if(!e)return"";if(y(e))return E(e);const t=Ct(e);return E(Eo(t))}function Fo(e,t,n,r,o){e("<!--teleport start-->");const s=o.appContext.provides[a.ssrContextKey],i=s.__teleportBuffers||(s.__teleportBuffers={}),c=i[n]||(i[n]=[]),u=c.length;let d;if(r)t(e),d="<!--teleport start anchor--><!--teleport anchor-->";else{const{getBuffer:f,push:h}=Mt();h("<!--teleport start anchor-->"),t(h),h("<!--teleport anchor-->"),d=f()}c.splice(u,0,d),e("<!--teleport end-->")}let Ho,$t=0,Re;function Ko(){$t++}function Bo(){if(--$t>0)return;let e;for(;Re;){let t=Re;for(Re=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}let Z=!0;const Tt=[];function Ot(){Tt.push(Z),Z=!1}function Rt(){const e=Tt.pop();Z=e===void 0?!0:e}class Uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,process.env.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(t){}trigger(t){this.version++,this.notify(t)}notify(t){Ko();try{if(process.env.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(fo({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bo()}}}const At=new WeakMap;Symbol(process.env.NODE_ENV!=="production"?"Object iterate":""),Symbol(process.env.NODE_ENV!=="production"?"Map keys iterate":""),Symbol(process.env.NODE_ENV!=="production"?"Array iterate":"");function Nt(e,t,n){if(Z&&Ho){let r=At.get(e);r||At.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Uo),o.map=r,o.key=n),process.env.NODE_ENV!=="production"?o.track({target:e,type:t,key:n}):o.track()}}function Ae(e){const t=e&&e.__v_raw;return t?Ae(t):e}function qo(e){return e?e.__v_isRef===!0:!1}const O=[];function Go(e){O.push(e)}function Wo(){O.pop()}let Ne=!1;function X(e,...t){if(Ne)return;Ne=!0,Ot();const n=O.length?O[O.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=zo();if(r)kt(r,n,11,[e+t.map(s=>{var i,c;return(c=(i=s.toString)==null?void 0:i.call(s))!=null?c:JSON.stringify(s)}).join(""),n&&n.proxy,o.map(({vnode:s})=>`at <${It(n,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...Yo(o)),console.warn(...s)}Rt(),Ne=!1}function zo(){let e=O[O.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function Yo(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...Jo(n))}),t}function Jo({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${It(e.component,e.type,r)}`,s=">"+n;return e.props?[o,...Zo(e.props),s]:[o+s]}function Zo(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...Pt(r,e[r]))}),n.length>3&&t.push(" ..."),t}function Pt(e,t,n){return y(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:qo(t)?(t=Pt(e,Ae(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):P(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ae(t),n?t:[`${e}=`,t])}const vt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function kt(e,t,n,r){try{return r?e(...r):e()}catch(o){Xo(o,t,n)}}function Xo(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||lo;if(t){let c=t.parent;const u=t.proxy,d=process.env.NODE_ENV!=="production"?vt[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const f=c.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,u,d)===!1)return}c=c.parent}if(s){Ot(),kt(s,null,10,[e,u,d]),Rt();return}}Qo(e,n,o,r,i)}function Qo(e,t,n,r=!0,o=!1){if(process.env.NODE_ENV!=="production"){const s=vt[t];if(n&&Go(n),X(`Unhandled error${s?` during execution of ${s}`:""}`),n&&Wo(),r)throw e;console.error(e)}else{if(o)throw e;console.error(e)}}let v,Q=[];function Lt(e,t){var n,r;v=e,v?(v.enabled=!0,Q.forEach(({event:o,args:s})=>v.emit(o,...s)),Q=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Lt(s,t)}),setTimeout(()=>{v||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Q=[])},3e3)):Q=[]}{const e=go(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};t("__VUE_INSTANCE_SETTERS__",n=>n),t("__VUE_SSR_SETTERS__",n=>n)}process.env.NODE_ENV;const es=/(?:^|[-_])(\w)/g,ts=e=>e.replace(es,t=>t.toUpperCase()).replace(/[-_]/g,"");function ns(e,t=!0){return P(e)?e.displayName||e.name:e.name||t&&e.__name}function It(e,t,n=!1){let r=ns(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=s=>{for(const i in s)if(s[i]===t)return i};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?ts(r):n?"App":"Anonymous"}process.env.NODE_ENV,process.env.NODE_ENV,process.env.NODE_ENV;function rs(e,t){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:os,setCurrentRenderingInstance:jt,setupComponent:ss,renderComponentRoot:Vt,normalizeVNode:as,pushWarningContext:xt,popWarningContext:Dt}=a.ssrUtils;function Mt(){let e=!1;const t=[];return{getBuffer(){return t},push(n){const r=y(n);if(e&&r){t[t.length-1]+=n;return}t.push(n),e=r,(J(n)||$e(n)&&n.hasAsync)&&(t.hasAsync=!0)}}}function Ft(e,t=null,n){const r=e.component=os(e,t,null);process.env.NODE_ENV!=="production"&&xt(e);const o=ss(r,!0);process.env.NODE_ENV!=="production"&&Dt();const s=J(o);let i=r.sp;return s||i?Promise.resolve(o).then(()=>{if(s&&(i=r.sp),i)return Promise.all(i.map(u=>u.call(r.proxy)))}).catch(Y).then(()=>Ht(r,n)):Ht(r,n)}function Ht(e,t){process.env.NODE_ENV!=="production"&&xt(e.vnode);const n=e.type,{getBuffer:r,push:o}=Mt();if(P(n)){let s=Vt(e);if(!n.props)for(const i in e.attrs)i.startsWith("data-v-")&&((s.props||(s.props={}))[i]="");ee(o,e.subTree=s,e,t)}else{(!e.render||e.render===Y)&&!e.ssrRender&&!n.ssrRender&&y(n.template)&&(n.ssrRender=rs(n.template));const s=e.ssrRender||n.ssrRender;if(s){let i=e.inheritAttrs!==!1?e.attrs:void 0,c=!1,u=e;for(;;){const f=u.vnode.scopeId;f&&(c||(i={...i},c=!0),i[f]="");const h=u.parent;if(h&&h.subTree&&h.subTree===u.vnode)u=h;else break}if(t){c||(i={...i});const f=t.trim().split(" ");for(let h=0;h<f.length;h++)i[f[h]]=""}const d=jt(e);try{s(e.proxy,o,e,i,e.props,e.setupState,e.data,e.ctx)}finally{jt(d)}}else if(e.render&&e.render!==Y)ee(o,e.subTree=Vt(e),e,t);else{const i=n.name||n.__file||"<Anonymous>";a.warn(`Component ${i} is missing template or render function.`),o("<!---->")}}return process.env.NODE_ENV!=="production"&&Dt(),r()}function ee(e,t,n,r){const{type:o,shapeFlag:s,children:i,dirs:c,props:u}=t;switch(c&&(t.props=cs(t,u,c)),o){case a.Text:e(E(i));break;case a.Comment:e(i?`<!--${Io(i)}-->`:"<!---->");break;case a.Static:e(i);break;case a.Fragment:t.slotScopeIds&&(r=(r?r+" ":"")+t.slotScopeIds.join(" ")),e("<!--[-->"),Pe(e,i,n,r),e("<!--]-->");break;default:s&1?is(e,t,n,r):s&6?e(Ft(t,n,r)):s&64?ls(e,t,n,r):s&128?ee(e,t.ssContent,n,r):a.warn("[@vue/server-renderer] Invalid VNode type:",o,`(${typeof o})`)}}function Pe(e,t,n,r){for(let o=0;o<t.length;o++)ee(e,as(t[o]),n,r)}function is(e,t,n,r){const o=t.type;let{props:s,children:i,shapeFlag:c,scopeId:u}=t,d=`<${o}`;s&&(d+=Vo(s,o)),u&&(d+=` ${u}`);let f=n,h=t;for(;f&&h===f.subTree;)h=f.vnode,h.scopeId&&(d+=` ${h.scopeId}`),f=f.parent;if(r&&(d+=` ${r}`),e(d+">"),!To(o)){let p=!1;s&&(s.innerHTML?(p=!0,e(s.innerHTML)):s.textContent?(p=!0,e(E(s.textContent))):o==="textarea"&&s.value&&(p=!0,e(E(s.value)))),p||(c&8?e(E(i)):c&16&&Pe(e,i,n,r)),e(`</${o}>`)}}function cs(e,t,n){const r=[];for(let o=0;o<n.length;o++){const s=n[o],{dir:{getSSRProps:i}}=s;if(i){const c=i(s,e);c&&r.push(c)}}return a.mergeProps(t||{},...r)}function ls(e,t,n,r){const o=t.props&&t.props.to,s=t.props&&t.props.disabled;if(!o)return s||a.warn("[@vue/server-renderer] Teleport is missing target prop."),[];if(!y(o))return a.warn("[@vue/server-renderer] Teleport target must be a query selector string."),[];Fo(e,i=>{Pe(i,t.children,n,r)},o,s||s==="",n)}const{isVNode:us}=a.ssrUtils;function te(e,t,n){if(!e.hasAsync)return t+Bt(e);let r=t;for(let o=n;o<e.length;o+=1){const s=e[o];if(y(s)){r+=s;continue}if(J(s))return s.then(c=>(e[o]=c,te(e,r,o)));const i=te(s,r,0);if(J(i))return i.then(c=>(e[o]=c,te(e,"",o)));r=i}return r}function Kt(e){return te(e,"",0)}function Bt(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];y(r)?t+=r:t+=Bt(r)}return t}async function Ut(e,t={}){if(us(e))return Ut(a.createApp({render:()=>e}),t);const n=a.createVNode(e._component,e._props);n.appContext=e._context,e.provide(a.ssrContextKey,t);const r=await Ft(n),o=await Kt(r);if(await fs(t),t.__watcherHandles)for(const s of t.__watcherHandles)s();return o}async function fs(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const t in e.__teleportBuffers)e.teleports[t]=await Kt(await Promise.all([e.__teleportBuffers[t]]))}}a.initDirectivesForSSR();const qt=a.defineComponent({inheritAttrs:!1,name:"Router",props:{resolver:{type:Function,required:!0},state:{type:Object,required:!0}},setup(e){const t=a.ref(e.state.location),n=a.ref(e.state.stack),r=a.ref(e.state.signature),o=a.ref(e.state.toasts);function s(){return{location:a.toRaw(a.toValue(t)),signature:a.toRaw(a.toValue(r)),stack:a.toRaw(a.toValue(n))}}async function i(u){return t.value=u.location,r.value=u.signature,u.stack&&(n.value=se(a.toRaw(a.toValue(n.value)),u.stack)),u.toasts&&u.toasts.length>0&&(o.value=[...o.value,...u.toasts]),await a.nextTick(()=>s())}a.provide(ne,t),a.provide(re,r),a.provide(oe,i),a.provide(_e,e.resolver),a.provide(W,a.computed(()=>0)),a.provide(G,n),a.provide(Se,o);function c(u){u.state?(t.value=u.state.location,n.value=u.state.stack,r.value=u.state.signature):(window.history.replaceState(s(),"",t.value),window.scroll(0,0))}return a.onMounted(()=>{window.history.replaceState(s(),"",t.value),window.addEventListener("popstate",c)}),a.onBeforeUnmount(()=>{window.removeEventListener("popstate",c)}),()=>a.h(we,{allowLayouts:!0})}});async function ds({initial:e,resolver:t,setup:n}){const r=typeof window>"u",o=e||hs(),s=n({router:qt,props:{resolver:t,state:o}});return r?await Ut(s):""}function hs(){let e=document.getElementById("ias");if(!e||!e.textContent)throw new Error("Cannot find initial script element with MVC state.");return JSON.parse(e.textContent)}const k=a.ref();async function Gt(e,t){return new Promise((n,r)=>{function o(){k.value.processing=!0,a.nextTick(()=>{Promise.resolve(t()).then(i=>{k.value=void 0,a.nextTick(()=>n(i))}).catch(i=>{k.value=void 0,a.nextTick(()=>r(i))})})}function s(){k.value=void 0,a.nextTick(()=>r())}k.value={...e,processing:!1,confirm:o,cancel:s}})}async function ps(e,t){return t!==void 0?Gt(e,t):Gt({},e)}function _s(){return k}function gs(){return ps}function ys(){return a.inject(q,null)}function ms(){let e=a.inject(q);if(!e)throw new Error("Accessing form outside of context.");return e}function ws(){const e=a.inject(ye);if(!e)throw new Error("You're trying to get stacked view parent out of Router context!");return e}function Wt(){const e=a.inject(ge);if(!e)throw new Error("You're trying to get parent view out of Router context!");return e}function Ss(){const e=Wt();return a.computed(()=>{if(e&&e.value&&e.value.location)return Ce(e.value.location,e.value.query)})}function Es(){const e=a.inject(me);if(!e)throw new Error("You're trying to get stacked view query params out of Router context!");return e}function zt(e){return e==null?!0:typeof e=="number"||typeof e=="boolean"?!1:typeof e=="string"?e.trim()==="":e instanceof Array?e.length>0:e instanceof Set||e instanceof Map?e.size>0:!e}function Cs(e){return!zt(e)}function bs(e=16){return Array.from(window.crypto.getRandomValues(new Uint8Array(Math.ceil(e/2))),t=>("0"+(t&255).toString(16)).slice(-2)).join("")}function $s(e){return e.filter(t=>t.parentId===null)}function Ts(e,t){return e.filter(n=>n.left>t.left&&n.right<t.right&&n.parentId===t.id)}function Os(e,t){return e.filter(n=>n.left<t.left&&n.right>t.right)}function Rs(e,t){return e.filter(n=>n.left>t.left&&n.right<t.right)}var Yt=(e=>(e.SUCCESS="success",e.DANGER="danger",e.INFO="info",e.WARNING="warning",e))(Yt||{});function As(){return{install(e){e.component("RouterView",we),e.component("RouterLink",ht),e.component("FormController",ct),e.component("ToastController",pt),e.component("PasswordConfirmationController",Qr),e.component("Toast",_t),e.config.globalProperties.$t=gt,e.config.globalProperties.$tc=yt,e.config.globalProperties.$route=St}}}l.CompleteResponse=L,l.ErrorModal=Ie,l.EventBus=x,l.FormContextInjectionKey=q,l.FormControllerComponent=ct,l.Request=V,l.Response=w,l.RouterComponent=qt,l.RouterLinkComponent=ht,l.RouterViewComponent=we,l.StackedViewDepthInjectionKey=W,l.StackedViewInjectionKey=G,l.StackedViewLocationInjectionKey=ye,l.StackedViewParentInjectionKey=ge,l.StackedViewQueryInjectionKey=me,l.StackedViewResolverInjectionKey=_e,l.StateLocationInjectionKey=ne,l.StateManagerInjectionKey=oe,l.StateStackSignatureInjectionKey=re,l.ToastComponent=_t,l.ToastControllerComponent=pt,l.ToastKind=Yt,l.ToastRegistryInjectionKey=Se,l.blank=zt,l.createFormContext=it,l.createFoundationController=ds,l.createOtherSoftwareFoundation=As,l.filled=Cs,l.getModelFromContext=Jr,l.hash=bs,l.nestedSetAncestors=Os,l.nestedSetChildren=Ts,l.nestedSetDescendants=Rs,l.nestedSetRoot=$s,l.route=St,l.setModelWithContext=Yr,l.trans=gt,l.transChoice=yt,l.updateStack=se,l.url=Ce,l.useConfirmation=gs,l.useCurrentConfirmation=_s,l.useFromContext=ys,l.useHttpClient=D,l.useLocation=ve,l.usePersistentFormContext=ms,l.useStackSignature=ke,l.useStateManager=Le,l.useToasts=Ee,l.useViewDepth=dt,l.useViewLocation=ws,l.useViewParent=Wt,l.useViewParentLocation=Ss,l.useViewQuery=Es,l.useViewResolver=ut,l.useViewStack=ft,l.wrap=lt,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=other-software-foundation.umd.cjs.map
