(function(l,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.OtherSoftwareFoundation={},l.Vue))})(this,function(l,a){"use strict";var ls=Object.defineProperty;var us=(l,a,w)=>a in l?ls(l,a,{enumerable:!0,configurable:!0,writable:!0,value:w}):l[a]=w;var _=(l,a,w)=>us(l,typeof a!="symbol"?a+"":a,w);class w{constructor(t){_(this,"xhr");_(this,"status");_(this,"success");_(this,"fail");_(this,"partial");_(this,"raw");_(this,"message");_(this,"content");if(this.xhr=t,this.xhr.getResponseHeader("x-stack-router"))throw new Error("Invalid response for MVC HTTP client.");this.status=this.xhr.status,this.success=this.xhr.status>=200&&this.xhr.status<300,this.fail=!this.success,this.content=this.xhr.response,this.message=this.xhr.statusText,this.partial=!!this.xhr.getResponseHeader("x-partial"),this.raw=!!this.xhr.getResponseHeader("x-raw")}}class v extends w{constructor(r){super(r);_(this,"location");_(this,"signature");_(this,"redirect");_(this,"stack");_(this,"errors");let n=JSON.parse(this.xhr.response);this.location=n.location,this.signature=n.signature,this.redirect=n.redirect,this.stack=n.stack,this.errors=n.errors}}const Q=Symbol("StateLocation"),ee=Symbol("StateStackSignature"),te=Symbol("StateManager");function Ae(){let e=a.inject(Q);if(!e)throw new Error("Location is used out of router context!");return e}function Oe(){let e=a.inject(ee);if(!e)throw new Error("Stack signature is used out of router context!");return e}function Te(){let e=a.inject(te);if(!e)throw new Error("State manager is used out of router context!");return{update:e}}function re(e,t){return"keep"in t?t.child?(e.child?e.child=re(e.child,t.child):e.child=t.child,{...e}):{...e}:{...t}}class x{constructor(t,r,n=void 0,o=void 0){_(this,"method");_(this,"url");_(this,"xhr");_(this,"body");_(this,"signature");this.xhr=new XMLHttpRequest,this.method=t,this.url=r,this.body=n,this.signature=o}static send(t,r,n=void 0,o=void 0){return new x(t,r,n,o).send()}send(){return new Promise((t,r)=>{if(this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader("Language",APP_LOCALE),this.xhr.setRequestHeader("X-Stack-Router","true"),this.xhr.setRequestHeader("X-XSRF-TOKEN",this.readCookie("XSRF-TOKEN")),this.signature)this.xhr.setRequestHeader("X-Stack-Signature",this.signature);else throw new Error("Missing signature!");this.xhr.onload=()=>{this.xhr.readyState===XMLHttpRequest.DONE&&this.xhr.status&&(this.xhr.status<200||this.xhr.status>=300?this.xhr.status===422?r(new v(this.xhr)):r(new w(this.xhr)):t(new v(this.xhr)))},this.xhr.onerror=()=>{r(new w(this.xhr))},this.xhr.send(this.transform(this.body))})}transform(t){return t instanceof Blob||t instanceof ArrayBuffer||t instanceof FormData||t instanceof URLSearchParams||typeof t=="string"?t:t===null?null:(this.xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8"),JSON.stringify(t))}readCookie(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):""}}const Pe={modal:void 0,listener:void 0,show(e){typeof e=="object"&&(e=`All requests must receive a valid MVC response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("dialog"),this.modal.style.position="fixed",this.modal.style.inset="0",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="2rem",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, 0.6)",this.modal.style.backdropFilter="blur(0.125rem)",this.modal.style.zIndex="200000",this.modal.addEventListener("click",()=>this.hide());const r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="0.5rem",r.style.border="none",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(t.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),this.modal.showModal(),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=void 0,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.key==="Escape"&&this.hide()}};function ne(){const e=Te(),t=Oe();async function r(i,u,{data:d=void 0,preserveScroll:f=!1,replace:h=!1}={}){return await x.send(i,u,d,t.value).then(async p=>await e.update(p).then(g=>p.redirect?c(p.redirect):p.raw?Promise.resolve(p.raw):(f||s(),h?o(g):n(g),Promise.resolve(p)))).catch(async p=>p instanceof v?await e.update(p).then(()=>Promise.reject(p)):(console.error(p),APP_DEBUG&&p.content&&Pe.show(p.content),Promise.reject(p)))}function n(i){window.history.pushState(i,"",i.location)}function o(i){window.history.replaceState(i,"",i.location)}function s(){window.scroll(0,0)}async function c(i){return i.reload?await new Promise(()=>{window.location.href=i.target}):await r("GET",i.target,{preserveScroll:!0,replace:!1})}return{dispatch:r,get:async function(i){return await r("GET",i)},post:async function(i,u=void 0){return await r("POST",i,{data:u,preserveScroll:!0})},patch:async function(i,u=void 0){return await r("PATCH",i,{data:u,preserveScroll:!0})},put:async function(i,u=void 0){return await r("PUT",i,{data:u,preserveScroll:!0})},delete:async function(i,u=void 0){return await r("DELETE",i,{data:u,preserveScroll:!0})}}}var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dt="Expected a function",Ne="__lodash_hash_undefined__",ve=1/0,Ft=9007199254740991,Ht="[object Function]",Kt="[object GeneratorFunction]",Bt="[object Symbol]",Ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qt=/^\w*$/,Gt=/^\./,zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,Yt=/\\(\\)?/g,Jt=/^\[object .+?Constructor\]$/,Zt=/^(?:0|[1-9]\d*)$/,Xt=typeof S=="object"&&S&&S.Object===Object&&S,Qt=typeof self=="object"&&self&&self.Object===Object&&self,oe=Xt||Qt||Function("return this")();function er(e,t){return e==null?void 0:e[t]}function tr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var rr=Array.prototype,nr=Function.prototype,Le=Object.prototype,se=oe["__core-js_shared__"],Ie=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),xe=nr.toString,V=Le.hasOwnProperty,Ve=Le.toString,or=RegExp("^"+xe.call(V).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=oe.Symbol,sr=rr.splice,ar=Fe(oe,"Map"),L=Fe(Object,"create"),Me=je?je.prototype:void 0,De=Me?Me.toString:void 0;function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ir(){this.__data__=L?L(null):{}}function cr(e){return this.has(e)&&delete this.__data__[e]}function lr(e){var t=this.__data__;if(L){var r=t[e];return r===Ne?void 0:r}return V.call(t,e)?t[e]:void 0}function ur(e){var t=this.__data__;return L?t[e]!==void 0:V.call(t,e)}function fr(e,t){var r=this.__data__;return r[e]=L&&t===void 0?Ne:t,this}C.prototype.clear=ir,C.prototype.delete=cr,C.prototype.get=lr,C.prototype.has=ur,C.prototype.set=fr;function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function dr(){this.__data__=[]}function hr(e){var t=this.__data__,r=j(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sr.call(t,r,1),!0}function pr(e){var t=this.__data__,r=j(t,e);return r<0?void 0:t[r][1]}function _r(e){return j(this.__data__,e)>-1}function gr(e,t){var r=this.__data__,n=j(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}T.prototype.clear=dr,T.prototype.delete=hr,T.prototype.get=pr,T.prototype.has=_r,T.prototype.set=gr;function b(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function yr(){this.__data__={hash:new C,map:new(ar||T),string:new C}}function mr(e){return M(this,e).delete(e)}function wr(e){return M(this,e).get(e)}function Sr(e){return M(this,e).has(e)}function Er(e,t){return M(this,e).set(e,t),this}b.prototype.clear=yr,b.prototype.delete=mr,b.prototype.get=wr,b.prototype.has=Sr,b.prototype.set=Er;function Cr(e,t,r){var n=e[t];(!(V.call(e,t)&&He(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function j(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function br(e){if(!D(e)||kr(e))return!1;var t=Ir(e)||tr(e)?or:Jt;return t.test(Lr(e))}function $r(e,t,r,n){if(!D(e))return e;t=Tr(t,e)?[t]:Ar(t);for(var o=-1,s=t.length,c=s-1,i=e;i!=null&&++o<s;){var u=vr(t[o]),d=r;if(o!=c){var f=i[u];d=void 0,d===void 0&&(d=D(f)?f:Or(t[o+1])?[]:{})}Cr(i,u,d),i=i[u]}return e}function Rr(e){if(typeof e=="string")return e;if(ie(e))return De?De.call(e):"";var t=e+"";return t=="0"&&1/e==-ve?"-0":t}function Ar(e){return Ke(e)?e:Nr(e)}function M(e,t){var r=e.__data__;return Pr(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Fe(e,t){var r=er(e,t);return br(r)?r:void 0}function Or(e,t){return t=t??Ft,!!t&&(typeof e=="number"||Zt.test(e))&&e>-1&&e%1==0&&e<t}function Tr(e,t){if(Ke(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ie(e)?!0:qt.test(e)||!Ut.test(e)||t!=null&&e in Object(t)}function Pr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kr(e){return!!Ie&&Ie in e}var Nr=ae(function(e){e=Vr(e);var t=[];return Gt.test(e)&&t.push(""),e.replace(zt,function(r,n,o,s){t.push(o?s.replace(Yt,"$1"):n||r)}),t});function vr(e){if(typeof e=="string"||ie(e))return e;var t=e+"";return t=="0"&&1/e==-ve?"-0":t}function Lr(e){if(e!=null){try{return xe.call(e)}catch{}try{return e+""}catch{}}return""}function ae(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Dt);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var c=e.apply(this,n);return r.cache=s.set(o,c),c};return r.cache=new(ae.Cache||b),r}ae.Cache=b;function He(e,t){return e===t||e!==e&&t!==t}var Ke=Array.isArray;function Ir(e){var t=D(e)?Ve.call(e):"";return t==Ht||t==Kt}function D(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function xr(e){return!!e&&typeof e=="object"}function ie(e){return typeof e=="symbol"||xr(e)&&Ve.call(e)==Bt}function Vr(e){return e==null?"":Rr(e)}function jr(e,t,r){return e==null?e:$r(e,t,r)}var Mr=jr;const Be=ke(Mr);var Dr="Expected a function",Ue="__lodash_hash_undefined__",qe=1/0,Fr="[object Function]",Hr="[object GeneratorFunction]",Kr="[object Symbol]",Br=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,qr=/^\./,Gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zr=/[\\^$.*+?()[\]{}|]/g,Wr=/\\(\\)?/g,Yr=/^\[object .+?Constructor\]$/,Jr=typeof S=="object"&&S&&S.Object===Object&&S,Zr=typeof self=="object"&&self&&self.Object===Object&&self,ce=Jr||Zr||Function("return this")();function Xr(e,t){return e==null?void 0:e[t]}function Qr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var en=Array.prototype,tn=Function.prototype,Ge=Object.prototype,le=ce["__core-js_shared__"],ze=function(){var e=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),We=tn.toString,ue=Ge.hasOwnProperty,Ye=Ge.toString,rn=RegExp("^"+We.call(ue).replace(zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=ce.Symbol,nn=en.splice,on=Qe(ce,"Map"),I=Qe(Object,"create"),Ze=Je?Je.prototype:void 0,Xe=Ze?Ze.toString:void 0;function $(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function sn(){this.__data__=I?I(null):{}}function an(e){return this.has(e)&&delete this.__data__[e]}function cn(e){var t=this.__data__;if(I){var r=t[e];return r===Ue?void 0:r}return ue.call(t,e)?t[e]:void 0}function ln(e){var t=this.__data__;return I?t[e]!==void 0:ue.call(t,e)}function un(e,t){var r=this.__data__;return r[e]=I&&t===void 0?Ue:t,this}$.prototype.clear=sn,$.prototype.delete=an,$.prototype.get=cn,$.prototype.has=ln,$.prototype.set=un;function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function fn(){this.__data__=[]}function dn(e){var t=this.__data__,r=F(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():nn.call(t,r,1),!0}function hn(e){var t=this.__data__,r=F(t,e);return r<0?void 0:t[r][1]}function pn(e){return F(this.__data__,e)>-1}function _n(e,t){var r=this.__data__,n=F(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}P.prototype.clear=fn,P.prototype.delete=dn,P.prototype.get=hn,P.prototype.has=pn,P.prototype.set=_n;function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function gn(){this.__data__={hash:new $,map:new(on||P),string:new $}}function yn(e){return H(this,e).delete(e)}function mn(e){return H(this,e).get(e)}function wn(e){return H(this,e).has(e)}function Sn(e,t){return H(this,e).set(e,t),this}R.prototype.clear=gn,R.prototype.delete=yn,R.prototype.get=mn,R.prototype.has=wn,R.prototype.set=Sn;function F(e,t){for(var r=e.length;r--;)if(Nn(e[r][0],t))return r;return-1}function En(e,t){t=Rn(t,e)?[t]:$n(t);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Pn(t[r++])];return r&&r==n?e:void 0}function Cn(e){if(!tt(e)||On(e))return!1;var t=vn(e)||Qr(e)?rn:Yr;return t.test(kn(e))}function bn(e){if(typeof e=="string")return e;if(de(e))return Xe?Xe.call(e):"";var t=e+"";return t=="0"&&1/e==-qe?"-0":t}function $n(e){return et(e)?e:Tn(e)}function H(e,t){var r=e.__data__;return An(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Qe(e,t){var r=Xr(e,t);return Cn(r)?r:void 0}function Rn(e,t){if(et(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||de(e)?!0:Ur.test(e)||!Br.test(e)||t!=null&&e in Object(t)}function An(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function On(e){return!!ze&&ze in e}var Tn=fe(function(e){e=In(e);var t=[];return qr.test(e)&&t.push(""),e.replace(Gr,function(r,n,o,s){t.push(o?s.replace(Wr,"$1"):n||r)}),t});function Pn(e){if(typeof e=="string"||de(e))return e;var t=e+"";return t=="0"&&1/e==-qe?"-0":t}function kn(e){if(e!=null){try{return We.call(e)}catch{}try{return e+""}catch{}}return""}function fe(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Dr);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var c=e.apply(this,n);return r.cache=s.set(o,c),c};return r.cache=new(fe.Cache||R),r}fe.Cache=R;function Nn(e,t){return e===t||e!==e&&t!==t}var et=Array.isArray;function vn(e){var t=tt(e)?Ye.call(e):"";return t==Fr||t==Hr}function tt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ln(e){return!!e&&typeof e=="object"}function de(e){return typeof e=="symbol"||Ln(e)&&Ye.call(e)==Kr}function In(e){return e==null?"":bn(e)}function xn(e,t,r){var n=e==null?void 0:En(e,t);return n===void 0?r:n}var Vn=xn;const jn=ke(Vn),K=Symbol("FormContext");function rt(e={}){const t=a.ref(e),r=a.ref({}),n=a.ref({}),o=a.ref(!1);function s(u){Be(n.value,u,!0)}function c(u,d){return jn(t.value,u,d)}function i(u,d){Be(t.value,u,d)}return{data:t,errors:r,touched:n,processing:o,touch:s,value:c,fill:i}}function Mn(e,t,r){return e&&t&&(t.touch(e),t.fill(e,r)),r}function Dn(e,t,r){return e&&t?t.value(e,r):r}const nt=a.defineComponent({name:"FormController",props:{action:{type:String,required:!1},method:{type:String,required:!1,default:"POST"},data:{type:Object,required:!1,default:{}},onSubmit:{type:Function,required:!1}},slots:Object,setup(e,{slots:t,expose:r}){const n=a.ref(),o=rt(e.data),s=ne(),{data:c,processing:i,errors:u,touched:d}=o;function f(){n.value.dispatchEvent(new SubmitEvent("submit"))}function h(){if(e.onSubmit)return e.onSubmit(c.value,o);if(!e.action)throw new Error("You must either provide action or your custom form handler!");return s.dispatch(e.method,e.action,{data:c.value})}function p(g){g.preventDefault(),g.stopPropagation(),i.value=!0,u.value={},d.value={},a.nextTick(()=>h().catch(O=>{O instanceof v&&(u.value=O.errors)}).finally(()=>{i.value=!1}))}return a.watch(()=>e.data,g=>{c.value=g}),r({ctx:o,submit:f}),a.provide(K,o),()=>a.h("form",{ref:g=>n.value=g,action:e.action,method:e.method,onSubmit:p},t.default({data:c.value,processing:i.value,errors:u.value,touched:d.value,ctx:o,submit:f}))}}),he=Symbol("ViewResolver"),B=Symbol("StackedView"),U=Symbol("StackedViewDepth"),pe=Symbol("StackedViewParent"),_e=Symbol("StackedViewLocation"),ge=Symbol("StackedViewQuery");function ot(e){return Array.isArray(e)?e:[e]}function st(){const e=a.inject(he);if(!e)throw new Error("You're trying to get ViewResolver ouf of Router context!");return e}function at(){const e=a.inject(B);if(!e)throw new Error("You're trying to get stacked view out of Router context!");return e}function it(){const e=a.inject(U);if(!e)throw new Error("You're trying to get view depth out of Router context!");return e}const ye=a.defineComponent({inheritAttrs:!1,name:"RouterView",props:{allowLayouts:{type:Boolean,required:!1,default:!1}},setup(e){const t=st(),r=it(),n=at(),o=a.computed(()=>{var i;return(i=n.value)==null?void 0:i.location}),s=a.computed(()=>{var i;return(i=n.value)==null?void 0:i.query}),c=a.computed(()=>{if(n.value&&n.value.child)return{...n.value.child,parent:n.value}});return a.provide(B,c),a.provide(U,a.computed(()=>r.value+1)),a.provide(pe,a.computed(()=>{var i;return(i=n.value)==null?void 0:i.parent})),a.provide(_e,o),a.provide(ge,s),()=>{if(n.value&&"component"in n.value){let i=t(n.value.component);i.inheritAttrs=!!i.inheritAttrs;let u=a.h(i,n.value.props);return e.allowLayouts&&i.layout&&(u=ot(i.layout).concat(u).reverse().reduce((d,f)=>(f=typeof f=="string"?t(f):f,f.inheritAttrs=!!f.inheritAttrs,a.h(f,null,()=>d)))),u}}}}),ct=a.defineComponent({name:"RouterLink",props:{method:{type:String,required:!1,default:"GET"},href:{type:String,required:!1},data:{type:[],required:!1},preserveScroll:{type:Boolean,required:!1},replace:{type:Boolean,required:!1},target:{type:String,required:!1},disabled:{type:Boolean,required:!1},explicit:{type:Boolean,required:!1}},setup(e,{attrs:t,slots:r}){const n=Ae(),o=ne(),s=a.ref(!1),c=a.computed(()=>{var O;let f=n.value.replace(/\/$/,""),h=(O=e.href)==null?void 0:O.replace(/\/$/,""),p=f===h,g=!e.explicit&&h&&n.value.startsWith(h);return p||g}),i=a.computed(()=>e.href?"a":"button"),u=a.computed(()=>e.href?{target:e.target}:{disabled:e.disabled});function d(f){if(!e.href||!Fn(f,e.href,e.target)||(f.preventDefault(),e.disabled))return;let{method:h,href:p,data:g,preserveScroll:O,replace:cs}=e;s.value=!0,a.nextTick(()=>{o.dispatch(h,p,{data:g,preserveScroll:O,replace:cs}).then(()=>{s.value=!1}).catch(()=>{s.value=!1})})}return()=>a.h(i.value,{href:e.href,onClick:d,...u.value,...t,class:[{active:c.value,pending:s.value,disabled:e.disabled}]},r.default({active:c,pending:s}))}});function Fn(e,t,r){return r==="_blank"||Hn(t)?!1:!(e.defaultPrevented||e.button>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Hn(e){try{let t=window.location.host,r=new URL(e).host;return t!==r}catch{return!1}}function lt(e,t){return dt(ft(e),t)}function ut(e,t,r){return dt(Kn(ft(e),t),r)}function ft(e){let t=APP_TRANSLATIONS[e];return typeof t>"u"&&(t=e),t}function Kn(e,t){let r=e.split("|"),n=Bn(r,t);if(n)return n.trim();r=qn(r);let o=Gn(t);return r.length===1||r[o]==null?r[0]:r[o]}function Bn(e,t){for(let r in e){let n=Un(r,t);if(n)return n}}function Un(e,t){const r=/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s,n=e.match(r);if(!n||n.length!==3)return null;const o=n[1],s=n[2];if(o.includes(",")){const[c,i]=o.split(",",2);if(i==="*"&&t>=Number(c))return s;if(c==="*"&&t<=Number(i))return s;if(t>=Number(c)&&t<=Number(i))return s}return Number(o)==t?s:null}function qn(e){return e.map(t=>t.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}function dt(e,t){return t?Object.keys(t).reduce((r,n)=>r.replace(`:${n}`,t[n].toString()),e):e}function Gn(e){switch(APP_LOCALE){case"az":case"az_AZ":case"bo":case"bo_CN":case"bo_IN":case"dz":case"dz_BT":case"id":case"id_ID":case"ja":case"ja_JP":case"jv":case"ka":case"ka_GE":case"km":case"km_KH":case"kn":case"kn_IN":case"ko":case"ko_KR":case"ms":case"ms_MY":case"th":case"th_TH":case"tr":case"tr_CY":case"tr_TR":case"vi":case"vi_VN":case"zh":case"zh_CN":case"zh_HK":case"zh_SG":case"zh_TW":return 0;case"af":case"af_ZA":case"bn":case"bn_BD":case"bn_IN":case"bg":case"bg_BG":case"ca":case"ca_AD":case"ca_ES":case"ca_FR":case"ca_IT":case"da":case"da_DK":case"de":case"de_AT":case"de_BE":case"de_CH":case"de_DE":case"de_LI":case"de_LU":case"el":case"el_CY":case"el_GR":case"en":case"en_AG":case"en_AU":case"en_BW":case"en_CA":case"en_DK":case"en_GB":case"en_HK":case"en_IE":case"en_IN":case"en_NG":case"en_NZ":case"en_PH":case"en_SG":case"en_US":case"en_ZA":case"en_ZM":case"en_ZW":case"eo":case"eo_US":case"es":case"es_AR":case"es_BO":case"es_CL":case"es_CO":case"es_CR":case"es_CU":case"es_DO":case"es_EC":case"es_ES":case"es_GT":case"es_HN":case"es_MX":case"es_NI":case"es_PA":case"es_PE":case"es_PR":case"es_PY":case"es_SV":case"es_US":case"es_UY":case"es_VE":case"et":case"et_EE":case"eu":case"eu_ES":case"eu_FR":case"fa":case"fa_IR":case"fi":case"fi_FI":case"fo":case"fo_FO":case"fur":case"fur_IT":case"fy":case"fy_DE":case"fy_NL":case"gl":case"gl_ES":case"gu":case"gu_IN":case"ha":case"ha_NG":case"he":case"he_IL":case"hu":case"hu_HU":case"is":case"is_IS":case"it":case"it_CH":case"it_IT":case"ku":case"ku_TR":case"lb":case"lb_LU":case"ml":case"ml_IN":case"mn":case"mn_MN":case"mr":case"mr_IN":case"nah":case"nb":case"nb_NO":case"ne":case"ne_NP":case"nl":case"nl_AW":case"nl_BE":case"nl_NL":case"nn":case"nn_NO":case"no":case"om":case"om_ET":case"om_KE":case"or":case"or_IN":case"pa":case"pa_IN":case"pa_PK":case"pap":case"pap_AN":case"pap_AW":case"pap_CW":case"ps":case"ps_AF":case"pt":case"pt_BR":case"pt_PT":case"so":case"so_DJ":case"so_ET":case"so_KE":case"so_SO":case"sq":case"sq_AL":case"sq_MK":case"sv":case"sv_FI":case"sv_SE":case"sw":case"sw_KE":case"sw_TZ":case"ta":case"ta_IN":case"ta_LK":case"te":case"te_IN":case"tk":case"tk_TM":case"ur":case"ur_IN":case"ur_PK":case"zu":case"zu_ZA":return e==1?0:1;case"am":case"am_ET":case"bh":case"fil":case"fil_PH":case"fr":case"fr_BE":case"fr_CA":case"fr_CH":case"fr_FR":case"fr_LU":case"gun":case"hi":case"hi_IN":case"hy":case"hy_AM":case"ln":case"ln_CD":case"mg":case"mg_MG":case"nso":case"nso_ZA":case"ti":case"ti_ER":case"ti_ET":case"wa":case"wa_BE":case"xbr":return e==0||e==1?0:1;case"be":case"be_BY":case"bs":case"bs_BA":case"hr":case"hr_HR":case"ru":case"ru_RU":case"ru_UA":case"sr":case"sr_ME":case"sr_RS":case"uk":case"uk_UA":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"cs_CZ":case"sk":case"sk_SK":return e==1?0:e>=2&&e<=4?1:2;case"ga":case"ga_IE":return e==1?0:e==2?1:2;case"lt":case"lt_LT":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":case"sl_SI":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":case"mk_MK":return e%10==1?0:1;case"mt":case"mt_MT":return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":case"lv_LV":return e==0?0:e%10==1&&e%100!=11?1:2;case"pl":case"pl_PL":return e==1?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":case"cy_GB":return e==1?0:e==2?1:e==8||e==11?2:3;case"ro":case"ro_RO":return e==1?0:e==0||e%100>0&&e%100<20?1:2;case"ar":case"ar_AE":case"ar_BH":case"ar_DZ":case"ar_EG":case"ar_IN":case"ar_IQ":case"ar_JO":case"ar_KW":case"ar_LB":case"ar_LY":case"ar_MA":case"ar_OM":case"ar_QA":case"ar_SA":case"ar_SD":case"ar_SS":case"ar_SY":case"ar_TN":case"ar_YE":return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5;default:return 0}}function me(e,t,r,n){const o=new URL(e,n||APP_URL);return t&&zn(o.searchParams,t),r&&(o.hash=r),o.toString()}function zn(e,t){Object.keys(t).forEach(r=>{we(e,r,a.toRaw(t[r]))})}function we(e,t,r,n){return n&&(t=n+"["+t+"]"),r==null?(e.append(t,""),e):Array.isArray(r)?(r.forEach((o,s)=>{we(e,s.toString(),o,t)}),e):typeof r=="object"?(Object.keys(r).forEach(o=>{we(e,o,r[o],t)}),e):(typeof r=="boolean"&&(r=Number(r)),r==null&&(r=""),e.append(t,r),e)}function ht(e,t={},r){return Yn(Wn(e),t,r)}function Wn(e){return e.startsWith(APP_FALLBACK_LOCALE)?e.replace(`${APP_FALLBACK_LOCALE}.`,""):APP_AVAILABLE_LOCALES.findIndex(t=>e.startsWith(t))>=0||!e.startsWith("web.")?e:APP_LOCALE!==APP_FALLBACK_LOCALE?`${APP_LOCALE}.${e}`:e}function Yn(e,t,r){const n=APP_ROUTES[e];if(!n)throw new Error(`Undefined route: ${e}`);const o=Jn(n,t),s=Object.keys(t).reduce((c,i)=>(n.params.includes(i)||(c[i]=a.toRaw(t[i])),c),{});return me(o,s,r,n.domain)}function Jn(e,t){return e.params.reduce((r,n)=>{let o=e.binding[n]||"id",s=a.toRaw(t[n]);if(typeof s=="object"&&(s=s[o]),!s)throw new Error(`Parameter ${n} is required for uri ${e.uri}.`);return r.replace(new RegExp(`{${n}??}`),s)},e.uri)}/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function q(e,t){const r=new Set(e.split(","));return n=>r.has(n)}process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const G=()=>{},Zn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xn=Object.assign,Se=Array.isArray,k=e=>typeof e=="function",y=e=>typeof e=="string",Ee=e=>e!==null&&typeof e=="object",z=e=>(Ee(e)||k(e))&&k(e.then)&&k(e.catch),Qn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},eo=/\B([A-Z])/g,to=Qn(e=>e.replace(eo,"-$1").toLowerCase());let pt;const ro=()=>pt||(pt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _t(e){if(Se(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=y(n)?ao(n):_t(n);if(o)for(const s in o)t[s]=o[s]}return t}else if(y(e)||Ee(e))return e}const no=/;(?![^(]*\))/g,oo=/:([^]+)/,so=/\/\*[^]*?\*\//g;function ao(e){const t={};return e.replace(so,"").split(no).forEach(r=>{if(r){const n=r.split(oo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function io(e){let t="";if(!e||y(e))return t;for(const r in e){const n=e[r];if(y(n)||typeof n=="number"){const o=r.startsWith("--")?r:to(r);t+=`${o}:${n};`}}return t}function gt(e){let t="";if(y(e))t=e;else if(Se(e))for(let r=0;r<e.length;r++){const n=gt(e[r]);n&&(t+=n+" ")}else if(Ee(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const co="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",lo="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",uo=q(co),fo=q(lo),ho=q("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly"+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function po(e){return!!e||e===""}const _o=/[>/="'\u0009\u000a\u000c\u0020]/,Ce={};function go(e){if(Ce.hasOwnProperty(e))return Ce[e];const t=_o.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Ce[e]=!t}const yo={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function mo(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}const wo=/["'&<>]/;function E(e){const t=""+e,r=wo.exec(t);if(!r)return t;let n="",o,s,c=0;for(s=r.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}c!==s&&(n+=t.slice(c,s)),c=s+1,n+=o}return c!==s?n+t.slice(c,s):n}const So=/^-?>|<!--|-->|--!>|<!-$/g;function Eo(e){return e.replace(So,"")}/**
* @vue/server-renderer v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Co=q(",key,ref,innerHTML,textContent,ref_key,ref_for");function bo(e,t){let r="";for(const n in e){if(Co(n)||Zn(n)||t==="textarea"&&n==="value")continue;const o=e[n];n==="class"?r+=` class="${Ro(o)}"`:n==="style"?r+=` style="${Ao(o)}"`:r+=$o(n,o,t)}return r}function $o(e,t,r){if(!mo(t))return"";const n=r&&(r.indexOf("-")>0||uo(r))?e:yo[e]||e.toLowerCase();return ho(n)?po(t)?` ${n}`:"":go(n)?t===""?` ${n}`:` ${n}="${E(t)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${n}`),"")}function Ro(e){return E(gt(e))}function Ao(e){if(!e)return"";if(y(e))return E(e);const t=_t(e);return E(io(t))}function Oo(e,t,r,n,o){e("<!--teleport start-->");const s=o.appContext.provides[a.ssrContextKey],c=s.__teleportBuffers||(s.__teleportBuffers={}),i=c[r]||(c[r]=[]),u=i.length;let d;if(n)t(e),d="<!--teleport start anchor--><!--teleport anchor-->";else{const{getBuffer:f,push:h}=kt();h("<!--teleport start anchor-->"),t(h),h("<!--teleport anchor-->"),d=f()}i.splice(u,0,d),e("<!--teleport end-->")}let yt,W=!0;const mt=[];function wt(){mt.push(W),W=!1}function St(){const e=mt.pop();W=e===void 0?!0:e}function To(e,t,r){var n;t.get(e)!==e._trackId&&(t.set(e,e._trackId),e.deps[e._depsLength]!==t?e.deps[e._depsLength++]=t:e._depsLength++,process.env.NODE_ENV!=="production"&&((n=e.onTrack)==null||n.call(e,Xn({effect:e},r))))}const Po=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Et=new WeakMap;Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function Ct(e,t,r){if(W&&yt){let n=Et.get(e);n||Et.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=Po(()=>n.delete(r))),To(yt,o,process.env.NODE_ENV!=="production"?{target:e,type:t,key:r}:void 0)}}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function ko(e){return!!(e&&e.__v_isRef===!0)}const A=[];function No(e){A.push(e)}function vo(){A.pop()}let $e=!1;function Y(e,...t){if($e)return;$e=!0,wt();const r=A.length?A[A.length-1].component:null,n=r&&r.appContext.config.warnHandler,o=Lo();if(n)Rt(n,r,11,[e+t.map(s=>{var c,i;return(i=(c=s.toString)==null?void 0:c.call(s))!=null?i:JSON.stringify(s)}).join(""),r&&r.proxy,o.map(({vnode:s})=>`at <${Ot(r,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...Io(o)),console.warn(...s)}St(),$e=!1}function Lo(){let e=A[A.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function Io(e){const t=[];return e.forEach((r,n)=>{t.push(...n===0?[]:[`
`],...xo(r))}),t}function xo({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,o=` at <${Ot(e.component,e.type,n)}`,s=">"+r;return e.props?[o,...Vo(e.props),s]:[o+s]}function Vo(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(n=>{t.push(...bt(n,e[n]))}),r.length>3&&t.push(" ..."),t}function bt(e,t,r){return y(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:ko(t)?(t=bt(e,be(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):k(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=be(t),r?t:[`${e}=`,t])}const $t={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function Rt(e,t,r,n){try{return n?e(...n):e()}catch(o){jo(o,t,r)}}function jo(e,t,r,n=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const c=t.proxy,i=process.env.NODE_ENV!=="production"?$t[r]:`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const d=s.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,c,i)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){wt(),Rt(u,null,10,[e,c,i]),St();return}}Mo(e,r,o,n)}function Mo(e,t,r,n=!0){if(process.env.NODE_ENV!=="production"){const o=$t[t];if(r&&No(r),Y(`Unhandled error${o?` during execution of ${o}`:""}`),r&&vo(),n)throw e;console.error(e)}else console.error(e)}let N,J=[];function At(e,t){var r,n;N=e,N?(N.enabled=!0,J.forEach(({event:o,args:s})=>N.emit(o,...s)),J=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{At(s,t)}),setTimeout(()=>{N||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,J=[])},3e3)):J=[]}{const e=ro(),t=(r,n)=>{let o;return(o=e[r])||(o=e[r]=[]),o.push(n),s=>{o.length>1?o.forEach(c=>c(s)):o[0](s)}};t("__VUE_INSTANCE_SETTERS__",r=>r),t("__VUE_SSR_SETTERS__",r=>r)}process.env.NODE_ENV;const Do=/(?:^|[-_])(\w)/g,Fo=e=>e.replace(Do,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ho(e,t=!0){return k(e)?e.displayName||e.name:e.name||t&&e.__name}function Ot(e,t,r=!1){let n=Ho(t);if(!n&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(n=o[1])}if(!n&&e&&e.parent){const o=s=>{for(const c in s)if(s[c]===t)return c};n=o(e.components||e.parent.type.components)||o(e.appContext.components)}return n?Fo(n):r?"App":"Anonymous"}process.env.NODE_ENV,process.env.NODE_ENV,process.env.NODE_ENV;function Ko(e,t){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:Bo,setCurrentRenderingInstance:Tt,setupComponent:Uo,renderComponentRoot:Pt,normalizeVNode:qo}=a.ssrUtils;function kt(){let e=!1;const t=[];return{getBuffer(){return t},push(r){const n=y(r);if(e&&n){t[t.length-1]+=r;return}t.push(r),e=n,(z(r)||Se(r)&&r.hasAsync)&&(t.hasAsync=!0)}}}function Nt(e,t=null,r){const n=Bo(e,t,null),o=Uo(n,!0),s=z(o),c=n.sp;if(s||c){let i=s?o:Promise.resolve();return c&&(i=i.then(()=>Promise.all(c.map(u=>u.call(n.proxy)))).catch(G)),i.then(()=>vt(n,r))}else return vt(n,r)}function vt(e,t){const r=e.type,{getBuffer:n,push:o}=kt();if(k(r)){let s=Pt(e);if(!r.props)for(const c in e.attrs)c.startsWith("data-v-")&&((s.props||(s.props={}))[c]="");Z(o,e.subTree=s,e,t)}else{(!e.render||e.render===G)&&!e.ssrRender&&!r.ssrRender&&y(r.template)&&(r.ssrRender=Ko(r.template));for(const c of e.scope.effects)c.computed&&(c.computed._dirty=!0,c.computed._cacheable=!0);const s=e.ssrRender||r.ssrRender;if(s){let c=e.inheritAttrs!==!1?e.attrs:void 0,i=!1,u=e;for(;;){const f=u.vnode.scopeId;f&&(i||(c={...c},i=!0),c[f]="");const h=u.parent;if(h&&h.subTree&&h.subTree===u.vnode)u=h;else break}if(t){i||(c={...c});const f=t.trim().split(" ");for(let h=0;h<f.length;h++)c[f[h]]=""}const d=Tt(e);try{s(e.proxy,o,e,c,e.props,e.setupState,e.data,e.ctx)}finally{Tt(d)}}else if(e.render&&e.render!==G)Z(o,e.subTree=Pt(e),e,t);else{const c=r.name||r.__file||"<Anonymous>";a.warn(`Component ${c} is missing template or render function.`),o("<!---->")}}return n()}function Z(e,t,r,n){const{type:o,shapeFlag:s,children:c}=t;switch(o){case a.Text:e(E(c));break;case a.Comment:e(c?`<!--${Eo(c)}-->`:"<!---->");break;case a.Static:e(c);break;case a.Fragment:t.slotScopeIds&&(n=(n?n+" ":"")+t.slotScopeIds.join(" ")),e("<!--[-->"),Re(e,c,r,n),e("<!--]-->");break;default:s&1?Go(e,t,r,n):s&6?e(Nt(t,r,n)):s&64?Wo(e,t,r,n):s&128?Z(e,t.ssContent,r,n):a.warn("[@vue/server-renderer] Invalid VNode type:",o,`(${typeof o})`)}}function Re(e,t,r,n){for(let o=0;o<t.length;o++)Z(e,qo(t[o]),r,n)}function Go(e,t,r,n){const o=t.type;let{props:s,children:c,shapeFlag:i,scopeId:u,dirs:d}=t,f=`<${o}`;d&&(s=zo(t,s,d)),s&&(f+=bo(s,o)),u&&(f+=` ${u}`);let h=r,p=t;for(;h&&p===h.subTree;)p=h.vnode,p.scopeId&&(f+=` ${p.scopeId}`),h=h.parent;if(n&&(f+=` ${n}`),e(f+">"),!fo(o)){let g=!1;s&&(s.innerHTML?(g=!0,e(s.innerHTML)):s.textContent?(g=!0,e(E(s.textContent))):o==="textarea"&&s.value&&(g=!0,e(E(s.value)))),g||(i&8?e(E(c)):i&16&&Re(e,c,r,n)),e(`</${o}>`)}}function zo(e,t,r){const n=[];for(let o=0;o<r.length;o++){const s=r[o],{dir:{getSSRProps:c}}=s;if(c){const i=c(s,e);i&&n.push(i)}}return a.mergeProps(t||{},...n)}function Wo(e,t,r,n){const o=t.props&&t.props.to,s=t.props&&t.props.disabled;if(!o)return s||a.warn("[@vue/server-renderer] Teleport is missing target prop."),[];if(!y(o))return a.warn("[@vue/server-renderer] Teleport target must be a query selector string."),[];Oo(e,c=>{Re(c,t.children,r,n)},o,s||s==="",r)}const{isVNode:Yo}=a.ssrUtils;function X(e,t,r){if(!e.hasAsync)return t+It(e);let n=t;for(let o=r;o<e.length;o+=1){const s=e[o];if(y(s)){n+=s;continue}if(z(s))return s.then(i=>(e[o]=i,X(e,n,o)));const c=X(s,n,0);if(z(c))return c.then(i=>(e[o]=i,X(e,"",o)));n=c}return n}function Lt(e){return X(e,"",0)}function It(e){let t="";for(let r=0;r<e.length;r++){let n=e[r];y(n)?t+=n:t+=It(n)}return t}async function xt(e,t={}){if(Yo(e))return xt(a.createApp({render:()=>e}),t);const r=a.createVNode(e._component,e._props);r.appContext=e._context,e.provide(a.ssrContextKey,t);const n=await Nt(r),o=await Lt(n);if(await Jo(t),t.__watcherHandles)for(const s of t.__watcherHandles)s();return o}async function Jo(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const t in e.__teleportBuffers)e.teleports[t]=await Lt(await Promise.all([e.__teleportBuffers[t]]))}}a.initDirectivesForSSR();const Vt=a.defineComponent({inheritAttrs:!1,name:"Router",props:{resolver:{type:Function,required:!0},state:{type:Object,required:!0}},setup(e){const t=a.ref(e.state.location),r=a.ref(e.state.stack),n=a.ref(e.state.signature);function o(){return{location:a.toRaw(a.toValue(t)),signature:a.toRaw(a.toValue(n)),stack:a.toRaw(a.toValue(r))}}async function s(i){return t.value=i.location,n.value=i.signature,i.stack&&(r.value=re(a.toRaw(a.toValue(r.value)),i.stack)),await a.nextTick(()=>o())}a.provide(Q,t),a.provide(ee,n),a.provide(te,s),a.provide(he,e.resolver),a.provide(U,a.computed(()=>0)),a.provide(B,r);function c(i){i.state?(t.value=i.state.location,r.value=i.state.stack,n.value=i.state.signature):(window.history.replaceState(o(),"",t.value),window.scroll(0,0))}return a.onMounted(()=>{window.history.replaceState(o(),"",t.value),window.addEventListener("popstate",c)}),a.onBeforeUnmount(()=>{window.removeEventListener("popstate",c)}),()=>a.h(ye,{allowLayouts:!0})}});async function Zo({initial:e,resolver:t,setup:r}){const n=typeof window>"u",o=e||Xo(),s=r({router:Vt,props:{resolver:t,state:o}});return n?await xt(s):""}function Xo(){let e=document.getElementById("ias");if(!e||!e.textContent)throw new Error("Cannot find initial script element with MVC state.");return JSON.parse(e.textContent)}function Qo(){return a.inject(K,null)}function es(){let e=a.inject(K);if(!e)throw new Error("Accessing form outside of context.");return e}function ts(){const e=a.inject(_e);if(!e)throw new Error("You're trying to get stacked view parent out of Router context!");return e}function jt(){const e=a.inject(pe);if(!e)throw new Error("You're trying to get parent view out of Router context!");return e}function rs(){const e=jt();return a.computed(()=>{if(e&&e.value&&e.value.location)return me(e.value.location,e.value.query)})}function ns(){const e=a.inject(ge);if(!e)throw new Error("You're trying to get stacked view query params out of Router context!");return e}const m={},os={addEventListener(e,t){m[e]?m[e].push(t):m[e]=[t]},remoteEventListener(e,t){m[e]&&(m[e]=m[e].filter(r=>r!==t),m[e].length===0&&delete m[e])},dispatch(e,t){return m[e]&&m[e].forEach(r=>r(t)),t}};function Mt(e){return e==null?!0:typeof e=="number"||typeof e=="boolean"?!1:typeof e=="string"?e.trim()==="":item instanceof Array?item.length>0:item instanceof Set||item instanceof Map?item.size>0:!e}function ss(e){return!Mt(e)}function as(e=16){return Array.from(window.crypto.getRandomValues(new Uint8Array(Math.ceil(e/2))),t=>("0"+(t&255).toString(16)).slice(-2)).join("")}function is(){return{install(e){e.component("RouterView",ye),e.component("RouterLink",ct),e.component("FormController",nt),e.config.globalProperties.$t=lt,e.config.globalProperties.$tc=ut,e.config.globalProperties.$route=ht}}}l.CompleteResponse=v,l.ErrorModal=Pe,l.EventBus=os,l.FormContextInjectionKey=K,l.FormControllerComponent=nt,l.Request=x,l.Response=w,l.RouterComponent=Vt,l.RouterLinkComponent=ct,l.RouterViewComponent=ye,l.StackedViewDepthInjectionKey=U,l.StackedViewInjectionKey=B,l.StackedViewLocationInjectionKey=_e,l.StackedViewParentInjectionKey=pe,l.StackedViewQueryInjectionKey=ge,l.StackedViewResolverInjectionKey=he,l.StateLocationInjectionKey=Q,l.StateManagerInjectionKey=te,l.StateStackSignatureInjectionKey=ee,l.blank=Mt,l.createFormContext=rt,l.createFoundationController=Zo,l.createOtherSoftwareFoundation=is,l.filled=ss,l.getModelFromContext=Dn,l.hash=as,l.route=ht,l.setModelWithContext=Mn,l.trans=lt,l.transChoice=ut,l.updateStack=re,l.url=me,l.useFromContext=Qo,l.useHttpClient=ne,l.useLocation=Ae,l.usePersistentFormContext=es,l.useStackSignature=Oe,l.useStateManager=Te,l.useViewDepth=it,l.useViewLocation=ts,l.useViewParent=jt,l.useViewParentLocation=rs,l.useViewQuery=ns,l.useViewResolver=st,l.useViewStack=at,l.wrap=ot,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=other-software-foundation.umd.cjs.map
