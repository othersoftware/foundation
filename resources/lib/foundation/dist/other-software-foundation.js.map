{"version":3,"file":"other-software-foundation.js","sources":["../src/Http/Client/Response.ts","../src/Services/StateManager.ts","../src/Http/Client/Request.ts","../src/Support/ErrorModal.ts","../src/Events/EventBus.ts","../src/Composables/UseHttpClient.ts","../../../../node_modules/lodash.set/index.js","../../../../node_modules/lodash.get/index.js","../src/Services/FormContext.ts","../../../../node_modules/lodash.clonedeep/index.js","../src/Components/Controllers/FormControllerComponent.ts","../src/Services/StackedView.ts","../src/Support/Wrap.ts","../src/Composables/UseViewResolver.ts","../src/Composables/UseViewStack.ts","../src/Composables/UseViewDepth.ts","../src/Components/Routing/RouterViewComponent.ts","../src/Components/Routing/RouterLinkComponent.ts","../src/Services/ToastManager.ts","../src/Components/Controllers/ToastControllerComponent.ts","../src/Components/Controllers/PasswordConfirmationControllerComponent.ts","../src/Support/Translator.ts","../src/Support/Url.ts","../src/Support/Route.ts","../../../../node_modules/@vue/shared/dist/shared.esm-bundler.js","../../../../node_modules/@vue/server-renderer/dist/server-renderer.esm-bundler.js","../src/Components/Routing/RouterComponent.ts","../src/Application/Factory.ts","../src/Composables/UseConfirmation.ts","../src/Composables/UseFormApi.ts","../src/Composables/UseFormContext.ts","../src/Composables/UseViewLocation.ts","../src/Composables/UseViewParent.ts","../src/Composables/UseViewQuery.ts","../src/Support/Empty.ts","../src/Support/Hash.ts","../src/Support/NestedSet.ts","../src/Types/Toast.ts","../src/main.ts"],"sourcesContent":["import type { StackedView } from '../../Types/StackedView';\nimport type { RouterRedirect } from '../../Types/RouterRedirect';\nimport type { ToastRegistry } from '../../Types/Toast';\nimport type { Authenticated, Abilities } from '../../Types/State';\n\nexport class Response {\n  protected readonly xhr: XMLHttpRequest;\n\n  public readonly status: number;\n  public readonly success: boolean;\n  public readonly fail: boolean;\n  public readonly partial: boolean;\n  public readonly raw: boolean;\n  public readonly message: string;\n  public readonly content: string;\n\n  constructor(xhr: XMLHttpRequest) {\n    this.xhr = xhr;\n\n    if (this.xhr.getResponseHeader('x-stack-router')) {\n      throw new Error('Invalid response for MVC HTTP client.');\n    }\n\n    this.status = this.xhr.status;\n    this.success = (this.xhr.status >= 200 && this.xhr.status < 300);\n    this.fail = !this.success;\n    this.content = this.xhr.response;\n    this.message = this.xhr.statusText;\n\n    this.partial = !!this.xhr.getResponseHeader('x-partial');\n    this.raw = !!this.xhr.getResponseHeader('x-raw');\n  }\n}\n\nexport class CompleteResponse extends Response {\n  public readonly abilities: Abilities;\n  public readonly authenticated: Authenticated | null;\n  public readonly location: string;\n  public readonly signature: string;\n  public readonly redirect: RouterRedirect;\n  public readonly stack: StackedView;\n  public readonly toasts: ToastRegistry;\n  public readonly errors: Record<string, string[]>;\n\n  constructor(xhr: XMLHttpRequest) {\n    super(xhr);\n\n    let data = JSON.parse(this.xhr.response);\n\n    this.abilities = data.abilities;\n    this.authenticated = data.authenticated;\n    this.location = data.location;\n    this.signature = data.signature;\n    this.redirect = data.redirect;\n    this.stack = data.stack;\n    this.errors = data.errors;\n    this.toasts = data.toasts;\n  }\n}\n","import { type InjectionKey, inject, type Ref } from 'vue';\nimport type { StateManager, Authenticated, Abilities } from '../Types/State';\nimport type { StackedView, StackedViewResolved } from '../Types/StackedView';\n\nexport const StateLocationInjectionKey = Symbol('StateLocation') as InjectionKey<Ref<string>>;\nexport const StateStackSignatureInjectionKey = Symbol('StateStackSignature') as InjectionKey<Ref<string>>;\nexport const StateAuthenticated = Symbol('StateAuthenticated') as InjectionKey<Ref<Authenticated | null>>;\nexport const StateAbilities = Symbol('StateAbilities') as InjectionKey<Ref<Abilities>>;\nexport const StateManagerInjectionKey = Symbol('StateManager') as InjectionKey<StateManager>;\n\nexport function useAbilities() {\n  let abilities = inject(StateAbilities);\n\n  if (!abilities) {\n    throw new Error('Abilities are used out of router context!');\n  }\n\n  return abilities;\n}\n\nexport function useAuthenticated() {\n  let authenticated = inject(StateAuthenticated);\n\n  if (!authenticated) {\n    throw new Error('Authenticated is used out of router context!');\n  }\n\n  return authenticated;\n}\n\nexport function useLocation() {\n  let location = inject(StateLocationInjectionKey);\n\n  if (!location) {\n    throw new Error('Location is used out of router context!');\n  }\n\n  return location;\n}\n\nexport function useStackSignature() {\n  let signature = inject(StateStackSignatureInjectionKey);\n\n  if (!signature) {\n    throw new Error('Stack signature is used out of router context!');\n  }\n\n  return signature;\n}\n\nexport function useStateManager() {\n  let manager = inject(StateManagerInjectionKey);\n\n  if (!manager) {\n    throw new Error('State manager is used out of router context!');\n  }\n\n  return { update: manager };\n}\n\nexport function updateStack(current: StackedViewResolved, fresh: StackedView): StackedViewResolved {\n  if ('keep' in fresh) {\n    if (fresh.child) {\n      if (current.child) {\n        current.child = updateStack(current.child, fresh.child);\n      } else {\n        current.child = fresh.child as StackedViewResolved;\n      }\n\n      return { ...current };\n    }\n\n    return { ...current };\n  }\n\n  return { ...fresh };\n}\n","import { Response, CompleteResponse } from './Response';\n\nexport type Method = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | string;\nexport type Body = XMLHttpRequestBodyInit | Object | null | undefined;\nexport type Signature = string | undefined;\n\nexport class Request {\n  protected method: Method;\n  protected url: string;\n  protected xhr: XMLHttpRequest;\n  protected body: Body;\n  protected signature: Signature;\n\n  static send(method: Method, url: string, body: Body = undefined, signature: Signature = undefined) {\n    return new Request(method, url, body, signature).send();\n  }\n\n  constructor(method: Method, url: string, body: Body = undefined, signature: Signature = undefined) {\n    this.xhr = new XMLHttpRequest();\n    this.method = method;\n    this.url = url;\n    this.body = body;\n    this.signature = signature;\n  }\n\n  public send(): Promise<CompleteResponse> {\n    return new Promise((resolve, reject) => {\n      this.xhr.open(this.method, this.url, true);\n\n      this.xhr.setRequestHeader('Language', APP_LOCALE);\n      this.xhr.setRequestHeader('X-Stack-Router', 'true');\n      this.xhr.setRequestHeader('X-XSRF-TOKEN', this.readCookie('XSRF-TOKEN'));\n\n      if (this.signature) {\n        this.xhr.setRequestHeader('X-Stack-Signature', this.signature);\n      } else {\n        throw new Error('Missing signature!');\n      }\n\n      this.xhr.onload = () => {\n        if (this.xhr.readyState === XMLHttpRequest.DONE && this.xhr.status) {\n          if (this.xhr.status < 200 || this.xhr.status >= 300) {\n            if (this.xhr.status === 422) {\n              reject(new CompleteResponse(this.xhr));\n            } else {\n              reject(new Response(this.xhr));\n            }\n          } else {\n            resolve(new CompleteResponse(this.xhr));\n          }\n        }\n      };\n\n      this.xhr.onerror = () => {\n        reject(new Response(this.xhr));\n      };\n\n      this.xhr.send(this.transform(this.body));\n    });\n  }\n\n  protected transform(body: any) {\n    if (body instanceof Blob || body instanceof ArrayBuffer || body instanceof FormData || body instanceof URLSearchParams) {\n      return body;\n    }\n\n    if (typeof body === 'string') {\n      return body;\n    }\n\n    if (body === null) {\n      return null;\n    }\n\n    this.xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n\n    return JSON.stringify(body);\n  }\n\n  protected readCookie(name: string): string {\n    const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\n    return (match ? decodeURIComponent(match[3]) : '');\n  }\n}\n","export const ErrorModal = {\n  modal: undefined as HTMLDialogElement | undefined,\n  listener: undefined as any,\n\n  show(html: Record<string, unknown> | string): void {\n    if (typeof html === 'object') {\n      html = `All requests must receive a valid MVC response, however a plain JSON response was received.<hr>${JSON.stringify(html)}`;\n    }\n\n    const page = document.createElement('html');\n    page.innerHTML = html;\n    page.querySelectorAll('a').forEach((a) => a.setAttribute('target', '_top'));\n\n    this.modal = document.createElement('dialog') as HTMLDialogElement;\n    this.modal.style.display = 'flex';\n    this.modal.style.width = '100%';\n    this.modal.style.height = '100dvh';\n    this.modal.style.maxWidth = '100%';\n    this.modal.style.maxHeight = '100dvh';\n    this.modal.style.padding = '2rem';\n    this.modal.style.boxSizing = 'border-box';\n    this.modal.style.border = 'none';\n    this.modal.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n    this.modal.style.backdropFilter = 'blur(0.125rem)';\n    this.modal.addEventListener('click', () => this.hide());\n\n    const iframe = document.createElement('iframe');\n    iframe.style.backgroundColor = 'white';\n    iframe.style.borderRadius = '0.5rem';\n    iframe.style.border = 'none';\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n    this.modal.appendChild(iframe);\n\n    document.body.prepend(this.modal);\n    document.body.style.overflow = 'hidden';\n\n    if (!iframe.contentWindow) {\n      throw new Error('iframe not yet ready.');\n    }\n\n    iframe.contentWindow.document.open();\n    iframe.contentWindow.document.write(page.outerHTML);\n    iframe.contentWindow.document.close();\n\n    this.listener = this.hideOnEscape.bind(this);\n\n    this.modal.showModal();\n\n    document.addEventListener('keydown', this.listener);\n  },\n\n  hide(): void {\n    this.modal!.outerHTML = '';\n    this.modal = undefined;\n    document.body.style.overflow = 'visible';\n    document.removeEventListener('keydown', this.listener!);\n  },\n\n  hideOnEscape(event: KeyboardEvent): void {\n    if (event.key === 'Escape') {\n      this.hide();\n    }\n  },\n};\n","type EventName = string;\ntype EventHandler = (event?: any) => boolean | undefined | void;\ntype EventHandlerRegistry = EventHandler[];\ntype EventSubscriptions = Record<EventName, EventHandlerRegistry>;\n\nconst subscriptions: EventSubscriptions = {};\n\nexport const EventBus = {\n\n  addEventListener(name: EventName, callback: EventHandler) {\n    if (subscriptions[name]) {\n      subscriptions[name].push(callback);\n    } else {\n      subscriptions[name] = [callback];\n    }\n  },\n\n  removeEventListener(name: EventName, callback: EventHandler) {\n    if (!subscriptions[name]) {\n      return;\n    }\n\n    subscriptions[name] = subscriptions[name].filter((handler) => {\n      return handler !== callback;\n    });\n\n    if (subscriptions[name].length === 0) {\n      delete subscriptions[name];\n    }\n  },\n\n  dispatch<T>(name: EventName, event?: T): T | undefined {\n    if (subscriptions[name]) {\n      subscriptions[name].forEach((handler) => handler(event));\n    }\n\n    return event;\n  },\n\n};\n","import { useStateManager, useStackSignature } from '../Services/StateManager';\nimport { Request, type Method, type Body } from '../Http/Client/Request';\nimport type { State } from '../Types/State';\nimport { ErrorModal } from '../Support/ErrorModal';\nimport type { RouterRedirect } from '../Types/RouterRedirect';\nimport type { Response } from '../Http/Client/Response';\nimport { CompleteResponse } from '../Http/Client/Response';\nimport { EventBus } from '../Events/EventBus';\n\ninterface HttpOptions {\n  data?: Body | undefined,\n  preserveScroll?: boolean,\n  replace?: boolean,\n}\n\nexport function useHttpClient() {\n  const state = useStateManager();\n  const signature = useStackSignature();\n\n  async function dispatch(method: Method, url: string, { data = undefined, preserveScroll = false, replace = false }: HttpOptions = {}) {\n    document.body.classList.add('osf-loading');\n\n    return await Request.send(method, url, data, signature.value).then(async (response: CompleteResponse) => {\n      return await state.update(response).then((fresh) => {\n        if (response.redirect) {\n          return handleRedirectResponse(response.redirect);\n        }\n\n        if (response.raw) {\n          return Promise.resolve(response.raw);\n        }\n\n        if (!preserveScroll) {\n          resetScrollPosition();\n        }\n\n        if (replace) {\n          historyReplaceState(fresh);\n        } else {\n          historyPushState(fresh);\n        }\n\n        return Promise.resolve(response);\n      });\n    }).catch(async (error: Response | CompleteResponse) => {\n      if (error instanceof CompleteResponse) {\n        return await state.update(error).then(() => Promise.reject(error));\n      }\n\n      if (error.status === 423) {\n        EventBus.dispatch('password.confirm', { method, url, options: { data, preserveScroll, replace } });\n\n        return Promise.reject(error);\n      }\n\n      console.error(error);\n\n      if (APP_DEBUG && error.content) {\n        ErrorModal.show(error.content);\n      }\n\n      return Promise.reject(error);\n    }).finally(() => {\n      document.body.classList.remove('osf-loading');\n    });\n  }\n\n  function historyPushState(state: State) {\n    window.history.pushState(state, '', state.location);\n  }\n\n  function historyReplaceState(state: State) {\n    window.history.replaceState(state, '', state.location);\n  }\n\n  function resetScrollPosition() {\n    window.scroll(0, 0);\n  }\n\n  async function handleRedirectResponse(redirect: RouterRedirect) {\n    if (redirect.reload) {\n      return await new Promise(() => {\n        window.location.href = redirect.target;\n      });\n    }\n\n    return await dispatch('GET', redirect.target, {\n      preserveScroll: true,\n      replace: false,\n    });\n  }\n\n  return {\n    dispatch,\n\n    get: async function (url: string) {\n      return await dispatch('GET', url);\n    },\n\n    post: async function (url: string, data: Body | undefined = undefined) {\n      return await dispatch('POST', url, { data, preserveScroll: true });\n    },\n\n    patch: async function (url: string, data: Body | undefined = undefined) {\n      return await dispatch('PATCH', url, { data, preserveScroll: true });\n    },\n\n    put: async function (url: string, data: Body | undefined = undefined) {\n      return await dispatch('PUT', url, { data, preserveScroll: true });\n    },\n\n    delete: async function (url: string, data: Body | undefined = undefined) {\n      return await dispatch('DELETE', url, { data, preserveScroll: true });\n    },\n  };\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","import { ref, type Ref, type InjectionKey } from 'vue';\nimport lodashSet from 'lodash.set';\nimport lodashGet from 'lodash.get';\n\nexport const FormContextInjectionKey = Symbol('FormContext') as InjectionKey<FormContextInterface>;\n\nexport function createFormContext(initial: Record<string, any> = {}, initialReadonly: boolean = false) {\n  const data = ref(initial) as Ref<Record<string, any>>;\n  const errors = ref({}) as Ref<Record<string, string[]>>;\n  const touched = ref({}) as Ref<Record<string, boolean>>;\n  const processing = ref(false);\n  const readonly = ref(initialReadonly);\n\n  function touch(name: string) {\n    lodashSet(touched.value, name, true);\n  }\n\n  function value(name: string, value: any) {\n    return lodashGet(data.value, name, value);\n  }\n\n  function fill(name: string, value: any) {\n    lodashSet(data.value, name, value);\n  }\n\n  return {\n    data,\n    errors,\n    touched,\n    processing,\n    readonly,\n    touch,\n    value,\n    fill,\n  };\n}\n\nexport type FormContextInterface = ReturnType<typeof createFormContext>;\n\nexport function setModelWithContext(name: Nullable<string>, ctx: Nullable<FormContextInterface>, value: any) {\n  if (name && ctx) {\n    ctx.touch(name);\n    ctx.fill(name, value);\n  }\n\n  return value;\n}\n\nexport function getModelFromContext(name: Nullable<string>, ctx: Nullable<FormContextInterface>, value: any) {\n  if (name && ctx) {\n    return ctx.value(name, value);\n  }\n\n  return value;\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","import { type PropType, ref, type Ref, nextTick, watch, provide, defineComponent, h, type SlotsType, toValue } from 'vue';\nimport type { Method } from '../../Http/Client/Request';\nimport type { Response } from '../../Http/Client/Response';\nimport { CompleteResponse } from '../../Http/Client/Response';\nimport { useHttpClient } from '../../Composables/UseHttpClient';\nimport { createFormContext, FormContextInjectionKey, type FormContextInterface } from '../../Services/FormContext';\nimport lodashCloneDeep from 'lodash.clonedeep';\n\ntype FormHandler = (data: any, ctx: FormContextInterface) => Promise<any>;\n\nexport const FormControllerComponent = defineComponent({\n  name: 'FormController',\n  props: {\n    action: {\n      type: String,\n      required: false,\n    },\n    method: {\n      type: String as PropType<Method>,\n      required: false,\n      default: 'POST',\n    },\n    data: {\n      type: Object,\n      required: false,\n      default: {},\n    },\n    readonly: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    onSubmit: {\n      type: Function as PropType<FormHandler>,\n      required: false,\n    },\n  },\n  slots: Object as SlotsType<{\n    default: {\n      data: any\n      processing: boolean,\n      errors: Record<string, string[]>,\n      touched: Record<string, boolean>,\n      ctx: FormContextInterface,\n      submit: () => void,\n    },\n  }>,\n  setup(props, { slots, expose }) {\n    const element = ref() as Ref<HTMLFormElement>;\n    const ctx = createFormContext(lodashCloneDeep(toValue(props.data)), toValue(props.readonly));\n    const http = useHttpClient();\n\n    const { data, processing, readonly, errors, touched } = ctx;\n\n    function submit() {\n      element.value.dispatchEvent(new SubmitEvent('submit'));\n    }\n\n    function dispatch() {\n      if (props.onSubmit) {\n        return props.onSubmit(data.value, ctx);\n      }\n\n      if (!props.action) {\n        throw new Error('You must either provide action or your custom form handler!');\n      }\n\n      return http.dispatch(props.method, props.action, { data: data.value });\n    }\n\n    function handleSubmit(event: Event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      processing.value = true;\n      errors.value = {};\n      touched.value = {};\n\n      // noinspection JSIgnoredPromiseFromCall\n      nextTick(() => dispatch().catch((error: Response | CompleteResponse) => {\n        if (error instanceof CompleteResponse) {\n          errors.value = error.errors;\n        }\n      }).finally(() => {\n        processing.value = false;\n      }));\n    }\n\n    watch(() => props.data, (values) => {\n      data.value = lodashCloneDeep(toValue(values));\n    });\n\n    watch(() => props.readonly, (value) => {\n      readonly.value = toValue(value);\n    });\n\n    expose({\n      ctx,\n      submit,\n    });\n\n    provide(FormContextInjectionKey, ctx);\n\n    return () => h('form', {\n      ref: (el) => element.value = el as HTMLFormElement,\n      action: props.action,\n      method: props.method,\n      novalidate: true,\n      onSubmit: handleSubmit,\n    }, slots.default({\n      data: data.value,\n      processing: processing.value,\n      errors: errors.value,\n      touched: touched.value,\n      ctx,\n      submit,\n    }));\n  },\n});\n","import { type InjectionKey, type Ref } from 'vue';\nimport { type ViewResolver } from '../Types/ViewResolver';\nimport { type StackedViewResolved } from '../Types/StackedView';\n\nexport const StackedViewResolverInjectionKey = Symbol('ViewResolver') as InjectionKey<ViewResolver>;\nexport const StackedViewInjectionKey = Symbol('StackedView') as InjectionKey<Ref<StackedViewResolved | undefined>>;\nexport const StackedViewDepthInjectionKey = Symbol('StackedViewDepth') as InjectionKey<Ref<number>>;\nexport const StackedViewParentInjectionKey = Symbol('StackedViewParent') as InjectionKey<Ref<StackedViewResolved | undefined>>;\nexport const StackedViewLocationInjectionKey = Symbol('StackedViewLocation') as InjectionKey<Ref<string | undefined>>;\nexport const StackedViewQueryInjectionKey = Symbol('StackedViewQuery') as InjectionKey<Ref<Record<string, any> | undefined>>;\n","export function wrap<T>(item: T): T[] & any[] {\n  return Array.isArray(item) ? item : [item];\n}\n","import { inject } from 'vue';\nimport { StackedViewResolverInjectionKey } from '../Services/StackedView';\nimport type { ViewResolver } from '../Types/ViewResolver';\n\nexport function useViewResolver(): ViewResolver {\n  const resolver = inject(StackedViewResolverInjectionKey);\n\n  if (!resolver) {\n    throw new Error('You\\'re trying to get ViewResolver ouf of Router context!');\n  }\n\n  return resolver;\n}\n","import { inject, type Ref } from 'vue';\nimport { StackedViewInjectionKey } from '../Services/StackedView';\nimport { type StackedViewResolved } from '../Types/StackedView';\n\nexport function useViewStack(): Ref<StackedViewResolved | undefined> {\n  const view = inject(StackedViewInjectionKey);\n\n  if (!view) {\n    throw new Error('You\\'re trying to get stacked view out of Router context!');\n  }\n\n  return view;\n}\n","import { inject, type Ref } from 'vue';\nimport { StackedViewDepthInjectionKey } from '../Services/StackedView';\n\nexport function useViewDepth(): Ref<number> {\n  const view = inject(StackedViewDepthInjectionKey);\n\n  if (!view) {\n    throw new Error('You\\'re trying to get view depth out of Router context!');\n  }\n\n  return view;\n}\n","import { defineComponent, provide, h, type PropType, computed } from 'vue';\nimport { StackedViewInjectionKey, StackedViewQueryInjectionKey, StackedViewLocationInjectionKey, StackedViewDepthInjectionKey, StackedViewParentInjectionKey } from '../../Services/StackedView';\nimport { wrap } from '../../Support/Wrap';\nimport { useViewResolver } from '../../Composables/UseViewResolver';\nimport { useViewStack } from '../../Composables/UseViewStack';\nimport { useViewDepth } from '../../Composables/UseViewDepth';\nimport type { StackedViewResolved } from '../../Types/StackedView';\n\nexport const RouterViewComponent = defineComponent({\n  inheritAttrs: false,\n  name: 'RouterView',\n  props: {\n    allowLayouts: {\n      type: Boolean as PropType<boolean>,\n      required: false,\n      default: true,\n    },\n  },\n  setup(props) {\n    const resolver = useViewResolver();\n    const depth = useViewDepth();\n    const view = useViewStack();\n\n    const location = computed(() => view.value?.location);\n    const query = computed(() => view.value?.query);\n\n    const stack = computed(() => {\n      if (view.value && view.value.child) {\n        return { ...view.value.child, parent: view.value } satisfies StackedViewResolved;\n      } else {\n        return undefined;\n      }\n    });\n\n    provide(StackedViewInjectionKey, stack);\n    provide(StackedViewDepthInjectionKey, computed(() => depth.value + 1));\n    provide(StackedViewParentInjectionKey, computed(() => view.value?.parent));\n    provide(StackedViewLocationInjectionKey, location);\n    provide(StackedViewQueryInjectionKey, query);\n\n    return () => {\n      if (view.value && 'component' in view.value) {\n        let component = resolver(view.value.component);\n        let viewProps = view.value.props;\n\n        component.inheritAttrs = !!component.inheritAttrs;\n\n        let children = h(component, viewProps);\n\n        if (props.allowLayouts && component.layout) {\n          children = wrap(component.layout).concat(children).reverse().reduce((child, layout) => {\n            layout = typeof layout === 'string' ? resolver(layout) : layout;\n\n            layout.inheritAttrs = !!layout.inheritAttrs;\n\n            return h(layout, viewProps, () => child);\n          });\n        }\n\n        return children;\n      }\n    };\n  },\n});\n","import { defineComponent, ref, computed, h, type PropType, nextTick } from 'vue';\nimport { type Body, type Method } from '../../Http/Client/Request';\nimport { useLocation } from '../../Services/StateManager';\nimport { useHttpClient } from '../../Composables/UseHttpClient';\n\nexport const RouterLinkComponent = defineComponent({\n  name: 'RouterLink',\n  props: {\n    method: { type: String as PropType<Method>, required: false, default: 'GET' },\n    href: { type: String as PropType<string | null | undefined>, required: false },\n    data: { type: [Object, Array, String, null] as PropType<Body>, required: false },\n    preserveScroll: { type: Boolean, required: false },\n    replace: { type: Boolean, required: false },\n    target: { type: String as PropType<string>, required: false },\n    disabled: { type: Boolean, required: false },\n    explicit: { type: Boolean, required: false },\n  },\n  setup(props, { attrs, slots }) {\n    const location = useLocation();\n    const http = useHttpClient();\n    const pending = ref(false);\n\n    const active = computed(() => {\n      let current = location.value.replace(/\\/$/, '');\n      let target = props.href?.replace(/\\/$/, '');\n      let explicit = current === target;\n      let implicit = (!props.explicit && target && location.value.startsWith(target));\n\n      return explicit || implicit;\n    });\n\n    const as = computed(() => props.href ? 'a' : 'button');\n    const specific = computed(() => props.href ? { target: props.target } : { disabled: props.disabled });\n\n    function onClick(event: MouseEvent) {\n      if (!props.href || !shouldInterceptEvent(event, props.href, props.target)) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (props.disabled) {\n        return;\n      }\n\n      let { method, href, data, preserveScroll, replace } = props;\n\n      pending.value = true;\n\n      // noinspection JSIgnoredPromiseFromCall\n      nextTick(() => {\n        http.dispatch(method, href, { data, preserveScroll, replace }).then(() => {\n          pending.value = false;\n        }).catch(() => {\n          pending.value = false;\n        });\n      });\n    }\n\n    return () => h(\n      as.value,\n      {\n        href: props.href,\n        onClick,\n        ...specific.value,\n        ...attrs,\n        class: [{ active: active.value, pending: pending.value, disabled: props.disabled }],\n      },\n      // @ts-ignore\n      slots.default({ active, pending }),\n    );\n  },\n});\n\nfunction shouldInterceptEvent(event: MouseEvent, href: string, target?: string) {\n  if (target === '_blank' || isCrossOriginHref(href)) {\n    return false;\n  }\n\n  return !(\n    event.defaultPrevented ||\n    event.button > 1 ||\n    event.altKey ||\n    event.ctrlKey ||\n    event.metaKey ||\n    event.shiftKey\n  );\n}\n\nfunction isCrossOriginHref(href: string) {\n  try {\n    let currentOrigin = window.location.host;\n    let targetOrigin = new URL(href).host;\n\n    return currentOrigin !== targetOrigin;\n  } catch (e) {\n    return false;\n  }\n}\n","import { type InjectionKey, inject, type Ref } from 'vue';\nimport type { ToastRegistry } from '../Types/Toast';\n\nexport const ToastRegistryInjectionKey = Symbol('ToastRegistry') as InjectionKey<Ref<ToastRegistry>>;\n\nexport function useToasts() {\n  let toasts = inject(ToastRegistryInjectionKey);\n\n  if (!toasts) {\n    throw new Error('Toasts are used out of router context!');\n  }\n\n  return toasts;\n}\n","import { defineComponent, type SlotsType, h, type PropType, onMounted, ref, onBeforeUnmount } from 'vue';\nimport type { ToastRegistry, Toast } from '../../Types/Toast';\nimport { useToasts } from '../../Services/ToastManager';\n\nexport const ToastControllerComponent = defineComponent({\n  name: 'ToastController',\n  slots: Object as SlotsType<{\n    default: { toasts: ToastRegistry },\n  }>,\n  setup(props, { slots, attrs }) {\n    const toasts = useToasts();\n\n    return () => h('div', attrs, slots.default({ toasts: toasts.value }));\n  },\n});\n\nexport const ToastComponent = defineComponent({\n  name: 'Toast',\n  props: {\n    toast: { type: Object as PropType<Toast>, required: true },\n  },\n  slots: Object as SlotsType<{\n    default: { toast: Toast, close: () => void },\n  }>,\n  setup(props, { slots, attrs }) {\n    const toasts = useToasts();\n    const timeout = ref();\n\n    function close() {\n      clearTimeout(timeout.value);\n      toasts.value = toasts.value.filter((toast) => toast.id !== props.toast.id);\n    }\n\n    onMounted(() => {\n      timeout.value = setTimeout(() => close(), props.toast.duration * 1000);\n    });\n\n    onBeforeUnmount(() => {\n      clearTimeout(timeout.value);\n    });\n\n    return () => h('li', attrs, slots.default({ toast: props.toast, close }));\n  },\n});\n","import { defineComponent, type SlotsType, h, ref, onMounted, onBeforeUnmount, nextTick } from 'vue';\nimport { EventBus } from '../../Events/EventBus';\nimport { useHttpClient } from '../../Composables/UseHttpClient';\n\nexport const PasswordConfirmationControllerComponent = defineComponent({\n  name: 'PasswordConfirmationController',\n  props: {\n    action: { type: String, required: true },\n  },\n  slots: Object as SlotsType<{\n    default: { open: boolean, submit: (data: any) => void, cancel: () => void },\n  }>,\n  setup(props, { slots, attrs }) {\n    const http = useHttpClient();\n    const original = ref();\n    const open = ref(false);\n\n    function onPasswordConfirm(event: any) {\n      original.value = event;\n      open.value = true;\n    }\n\n    async function submit(data: any) {\n      let { method, url, options } = original.value;\n\n      return await http.post(props.action, data).then(async () => {\n        return await http.dispatch(method, url, options).then(async (res) => {\n          cancel();\n          return await nextTick(() => res);\n        });\n      });\n    }\n\n    function cancel() {\n      open.value = false;\n      original.value = undefined;\n    }\n\n    onMounted(() => {\n      EventBus.addEventListener('password.confirm', onPasswordConfirm);\n    });\n\n    onBeforeUnmount(() => {\n      EventBus.removeEventListener('password.confirm', onPasswordConfirm);\n    });\n\n    return () => h('div', attrs, slots.default({ open: open.value, submit, cancel }));\n  },\n});\n","export type Locale = {\n  name: string,\n  code: string,\n}\n\nexport function trans(key: string, replace?: Record<string, string | number | boolean>) {\n  return makeReplacements(get(key), replace);\n}\n\nexport function transChoice(key: string, number: number, replace?: Record<string, string | number | boolean>) {\n  return makeReplacements(choose(get(key), number), replace);\n}\n\nfunction get(key: string) {\n  let translation = APP_TRANSLATIONS[key];\n\n  if (typeof translation === 'undefined') {\n    translation = key;\n  }\n\n  return translation;\n}\n\nfunction choose(line: string, number: number) {\n  let segments = line.split('|');\n  let value = extract(segments, number);\n\n  if (value) {\n    return value.trim();\n  }\n\n  segments = stripConditions(segments);\n  let pluralIndex = getPluralIndex(number);\n\n  if (segments.length === 1 || segments[pluralIndex] == undefined) {\n    return segments[0];\n  }\n\n  return segments[pluralIndex];\n}\n\nfunction extract(segments: string[], number: number) {\n  for (let part in segments) {\n    let line = extractFromString(part, number);\n\n    if (line) {\n      return line;\n    }\n  }\n}\n\nfunction extractFromString(part: string, number: number) {\n  const regex = /^[\\{\\[]([^\\[\\]\\{\\}]*)[\\}\\]](.*)/s;\n  const matches = part.match(regex);\n\n  if (!matches || matches.length !== 3) {\n    return null;\n  }\n\n  const condition = matches[1];\n  const value = matches[2];\n\n  if (condition.includes(',')) {\n    const [from, to] = condition.split(',', 2);\n\n    if (to === '*' && number >= Number(from)) {\n      return value;\n    } else if (from === '*' && number <= Number(to)) {\n      return value;\n    } else if (number >= Number(from) && number <= Number(to)) {\n      return value;\n    }\n  }\n\n  return Number(condition) == number ? value : null;\n}\n\nfunction stripConditions(segments: string[]) {\n  return segments.map(part => part.replace(/^[\\{\\[]([^\\[\\]\\{\\}]*)[\\}\\]]/, ''));\n}\n\nfunction makeReplacements(line: string, replace?: Record<string, string | number | boolean>) {\n  if (replace) {\n    return Object.keys(replace).reduce((prev, key) => prev.replace(`:${key}`, replace[key].toString()), line);\n  }\n\n  return line;\n}\n\nfunction getPluralIndex(number: number) {\n  switch (APP_LOCALE) {\n    case 'az':\n    case 'az_AZ':\n    case 'bo':\n    case 'bo_CN':\n    case 'bo_IN':\n    case 'dz':\n    case 'dz_BT':\n    case 'id':\n    case 'id_ID':\n    case 'ja':\n    case 'ja_JP':\n    case 'jv':\n    case 'ka':\n    case 'ka_GE':\n    case 'km':\n    case 'km_KH':\n    case 'kn':\n    case 'kn_IN':\n    case 'ko':\n    case 'ko_KR':\n    case 'ms':\n    case 'ms_MY':\n    case 'th':\n    case 'th_TH':\n    case 'tr':\n    case 'tr_CY':\n    case 'tr_TR':\n    case 'vi':\n    case 'vi_VN':\n    case 'zh':\n    case 'zh_CN':\n    case 'zh_HK':\n    case 'zh_SG':\n    case 'zh_TW':\n      return 0;\n    case 'af':\n    case 'af_ZA':\n    case 'bn':\n    case 'bn_BD':\n    case 'bn_IN':\n    case 'bg':\n    case 'bg_BG':\n    case 'ca':\n    case 'ca_AD':\n    case 'ca_ES':\n    case 'ca_FR':\n    case 'ca_IT':\n    case 'da':\n    case 'da_DK':\n    case 'de':\n    case 'de_AT':\n    case 'de_BE':\n    case 'de_CH':\n    case 'de_DE':\n    case 'de_LI':\n    case 'de_LU':\n    case 'el':\n    case 'el_CY':\n    case 'el_GR':\n    case 'en':\n    case 'en_AG':\n    case 'en_AU':\n    case 'en_BW':\n    case 'en_CA':\n    case 'en_DK':\n    case 'en_GB':\n    case 'en_HK':\n    case 'en_IE':\n    case 'en_IN':\n    case 'en_NG':\n    case 'en_NZ':\n    case 'en_PH':\n    case 'en_SG':\n    case 'en_US':\n    case 'en_ZA':\n    case 'en_ZM':\n    case 'en_ZW':\n    case 'eo':\n    case 'eo_US':\n    case 'es':\n    case 'es_AR':\n    case 'es_BO':\n    case 'es_CL':\n    case 'es_CO':\n    case 'es_CR':\n    case 'es_CU':\n    case 'es_DO':\n    case 'es_EC':\n    case 'es_ES':\n    case 'es_GT':\n    case 'es_HN':\n    case 'es_MX':\n    case 'es_NI':\n    case 'es_PA':\n    case 'es_PE':\n    case 'es_PR':\n    case 'es_PY':\n    case 'es_SV':\n    case 'es_US':\n    case 'es_UY':\n    case 'es_VE':\n    case 'et':\n    case 'et_EE':\n    case 'eu':\n    case 'eu_ES':\n    case 'eu_FR':\n    case 'fa':\n    case 'fa_IR':\n    case 'fi':\n    case 'fi_FI':\n    case 'fo':\n    case 'fo_FO':\n    case 'fur':\n    case 'fur_IT':\n    case 'fy':\n    case 'fy_DE':\n    case 'fy_NL':\n    case 'gl':\n    case 'gl_ES':\n    case 'gu':\n    case 'gu_IN':\n    case 'ha':\n    case 'ha_NG':\n    case 'he':\n    case 'he_IL':\n    case 'hu':\n    case 'hu_HU':\n    case 'is':\n    case 'is_IS':\n    case 'it':\n    case 'it_CH':\n    case 'it_IT':\n    case 'ku':\n    case 'ku_TR':\n    case 'lb':\n    case 'lb_LU':\n    case 'ml':\n    case 'ml_IN':\n    case 'mn':\n    case 'mn_MN':\n    case 'mr':\n    case 'mr_IN':\n    case 'nah':\n    case 'nb':\n    case 'nb_NO':\n    case 'ne':\n    case 'ne_NP':\n    case 'nl':\n    case 'nl_AW':\n    case 'nl_BE':\n    case 'nl_NL':\n    case 'nn':\n    case 'nn_NO':\n    case 'no':\n    case 'om':\n    case 'om_ET':\n    case 'om_KE':\n    case 'or':\n    case 'or_IN':\n    case 'pa':\n    case 'pa_IN':\n    case 'pa_PK':\n    case 'pap':\n    case 'pap_AN':\n    case 'pap_AW':\n    case 'pap_CW':\n    case 'ps':\n    case 'ps_AF':\n    case 'pt':\n    case 'pt_BR':\n    case 'pt_PT':\n    case 'so':\n    case 'so_DJ':\n    case 'so_ET':\n    case 'so_KE':\n    case 'so_SO':\n    case 'sq':\n    case 'sq_AL':\n    case 'sq_MK':\n    case 'sv':\n    case 'sv_FI':\n    case 'sv_SE':\n    case 'sw':\n    case 'sw_KE':\n    case 'sw_TZ':\n    case 'ta':\n    case 'ta_IN':\n    case 'ta_LK':\n    case 'te':\n    case 'te_IN':\n    case 'tk':\n    case 'tk_TM':\n    case 'ur':\n    case 'ur_IN':\n    case 'ur_PK':\n    case 'zu':\n    case 'zu_ZA':\n      return (number == 1) ? 0 : 1;\n    case 'am':\n    case 'am_ET':\n    case 'bh':\n    case 'fil':\n    case 'fil_PH':\n    case 'fr':\n    case 'fr_BE':\n    case 'fr_CA':\n    case 'fr_CH':\n    case 'fr_FR':\n    case 'fr_LU':\n    case 'gun':\n    case 'hi':\n    case 'hi_IN':\n    case 'hy':\n    case 'hy_AM':\n    case 'ln':\n    case 'ln_CD':\n    case 'mg':\n    case 'mg_MG':\n    case 'nso':\n    case 'nso_ZA':\n    case 'ti':\n    case 'ti_ER':\n    case 'ti_ET':\n    case 'wa':\n    case 'wa_BE':\n    case 'xbr':\n      return ((number == 0) || (number == 1)) ? 0 : 1;\n    case 'be':\n    case 'be_BY':\n    case 'bs':\n    case 'bs_BA':\n    case 'hr':\n    case 'hr_HR':\n    case 'ru':\n    case 'ru_RU':\n    case 'ru_UA':\n    case 'sr':\n    case 'sr_ME':\n    case 'sr_RS':\n    case 'uk':\n    case 'uk_UA':\n      return ((number % 10 == 1) && (number % 100 != 11)) ? 0 : (((number % 10 >= 2) && (number % 10 <= 4) && ((number % 100 < 10) || (number % 100 >= 20))) ? 1 : 2);\n    case 'cs':\n    case 'cs_CZ':\n    case 'sk':\n    case 'sk_SK':\n      return (number == 1) ? 0 : (((number >= 2) && (number <= 4)) ? 1 : 2);\n    case 'ga':\n    case 'ga_IE':\n      return (number == 1) ? 0 : ((number == 2) ? 1 : 2);\n    case 'lt':\n    case 'lt_LT':\n      return ((number % 10 == 1) && (number % 100 != 11)) ? 0 : (((number % 10 >= 2) && ((number % 100 < 10) || (number % 100 >= 20))) ? 1 : 2);\n    case 'sl':\n    case 'sl_SI':\n      return (number % 100 == 1) ? 0 : ((number % 100 == 2) ? 1 : (((number % 100 == 3) || (number % 100 == 4)) ? 2 : 3));\n    case 'mk':\n    case 'mk_MK':\n      return (number % 10 == 1) ? 0 : 1;\n    case 'mt':\n    case 'mt_MT':\n      return (number == 1) ? 0 : (((number == 0) || ((number % 100 > 1) && (number % 100 < 11))) ? 1 : (((number % 100 > 10) && (number % 100 < 20)) ? 2 : 3));\n    case 'lv':\n    case 'lv_LV':\n      return (number == 0) ? 0 : (((number % 10 == 1) && (number % 100 != 11)) ? 1 : 2);\n    case 'pl':\n    case 'pl_PL':\n      return (number == 1) ? 0 : (((number % 10 >= 2) && (number % 10 <= 4) && ((number % 100 < 12) || (number % 100 > 14))) ? 1 : 2);\n    case 'cy':\n    case 'cy_GB':\n      return (number == 1) ? 0 : ((number == 2) ? 1 : (((number == 8) || (number == 11)) ? 2 : 3));\n    case 'ro':\n    case 'ro_RO':\n      return (number == 1) ? 0 : (((number == 0) || ((number % 100 > 0) && (number % 100 < 20))) ? 1 : 2);\n    case 'ar':\n    case 'ar_AE':\n    case 'ar_BH':\n    case 'ar_DZ':\n    case 'ar_EG':\n    case 'ar_IN':\n    case 'ar_IQ':\n    case 'ar_JO':\n    case 'ar_KW':\n    case 'ar_LB':\n    case 'ar_LY':\n    case 'ar_MA':\n    case 'ar_OM':\n    case 'ar_QA':\n    case 'ar_SA':\n    case 'ar_SD':\n    case 'ar_SS':\n    case 'ar_SY':\n    case 'ar_TN':\n    case 'ar_YE':\n      return (number == 0) ? 0 : ((number == 1) ? 1 : ((number == 2) ? 2 : (((number % 100 >= 3) && (number % 100 <= 10)) ? 3 : (((number % 100 >= 11) && (number % 100 <= 99)) ? 4 : 5))));\n    default:\n      return 0;\n  }\n}\n","import { toRaw } from 'vue';\n\nexport function url(uri: string, params?: Record<string, any>, hash?: string, base?: string | null) {\n  const url = new URL(uri, base || APP_URL);\n\n  if (params) {\n    attachSearchParameters(url.searchParams, params);\n  }\n\n  if (hash) {\n    url.hash = hash;\n  }\n\n  return url.toString();\n}\n\n\nfunction attachSearchParameters(search: URLSearchParams, params: Record<string, any>) {\n  Object.keys(params).forEach((key) => {\n    appendSearchParameter(search, key, toRaw(params[key]));\n  });\n}\n\n\nfunction appendSearchParameter(search: URLSearchParams, name: string, value: any, prev?: string) {\n  if (prev) {\n    name = prev + '[' + name + ']';\n  }\n\n  if (value == null) {\n    search.append(name, '');\n    return search;\n  }\n\n  if (Array.isArray(value)) {\n    value.forEach((arrValue, arrIndex) => {\n      appendSearchParameter(search, arrIndex.toString(), arrValue, name);\n    });\n\n    return search;\n  }\n\n  if (typeof value === 'object') {\n    Object.keys(value).forEach((key) => {\n      appendSearchParameter(search, key, value[key], name);\n    });\n\n    return search;\n  }\n\n  if (typeof value === 'boolean') {\n    value = Number(value);\n  }\n\n  if (value == null) {\n    value = '';\n  }\n\n  search.append(name, value);\n\n  return search;\n}\n","import { toRaw } from 'vue';\nimport { url } from './Url';\n\ntype Params = Record<string, any>;\n\nexport type Route = {\n  uri: string;\n  domain: string;\n  params: string[];\n  binding: Record<string, string>;\n}\n\nexport function route(name: string, params: Params = {}, hash?: string) {\n  return build(localizeName(name), params, hash);\n}\n\n\nfunction localizeName(name: string) {\n  if (name.startsWith(APP_FALLBACK_LOCALE)) {\n    return name.replace(`${APP_FALLBACK_LOCALE}.`, '');\n  }\n\n  if (APP_AVAILABLE_LOCALES.findIndex(lang => name.startsWith(lang)) >= 0) {\n    return name;\n  }\n\n  if (!name.startsWith('web.')) {\n    return name;\n  }\n\n  if (APP_LOCALE !== APP_FALLBACK_LOCALE) {\n    return `${APP_LOCALE}.${name}`;\n  }\n\n  return name;\n}\n\n\nfunction build(name: string, params: Params, hash?: string) {\n  const route = APP_ROUTES[name];\n\n  if (!route) {\n    throw new Error(`Undefined route: ${name}`);\n  }\n\n  const uri = replaceRouteParameters(route, params);\n\n  const search = Object.keys(params).reduce((prev, key) => {\n    if (!route.params.includes(key)) {\n      prev[key] = toRaw(params[key]);\n    }\n\n    return prev;\n  }, {});\n\n  return url(uri, search, hash, route.domain);\n}\n\n\nfunction replaceRouteParameters(route: Route, params: Params) {\n  return route.params.reduce((uri, param) => {\n    let binding = route.binding[param] || 'id';\n    let value = toRaw(params[param]);\n\n    if (typeof value === 'object') {\n      value = value[binding];\n    }\n\n    if (!value) {\n      throw new Error(`Parameter ${param} is required for uri ${route.uri}.`);\n    }\n\n    return uri.replace(new RegExp(`\\{${param}\\??\\}`), value);\n  }, route.uri);\n}\n","/**\n* @vue/shared v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction makeMap(str) {\n  const map = /* @__PURE__ */ Object.create(null);\n  for (const key of str.split(\",\")) map[key] = 1;\n  return (val) => val in map;\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst isOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // uppercase letter\n(key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction(\n  (str) => {\n    return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n  }\n);\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction(\n  (str) => {\n    const s = str ? `on${capitalize(str)}` : ``;\n    return s;\n  }\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, ...arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](...arg);\n  }\n};\nconst def = (obj, key, value, writable = false) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    writable,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\nfunction genCacheKey(source, options) {\n  return source + JSON.stringify(\n    options,\n    (_, val) => typeof val === \"function\" ? val.toString() : val\n  );\n}\n\nconst PatchFlags = {\n  \"TEXT\": 1,\n  \"1\": \"TEXT\",\n  \"CLASS\": 2,\n  \"2\": \"CLASS\",\n  \"STYLE\": 4,\n  \"4\": \"STYLE\",\n  \"PROPS\": 8,\n  \"8\": \"PROPS\",\n  \"FULL_PROPS\": 16,\n  \"16\": \"FULL_PROPS\",\n  \"NEED_HYDRATION\": 32,\n  \"32\": \"NEED_HYDRATION\",\n  \"STABLE_FRAGMENT\": 64,\n  \"64\": \"STABLE_FRAGMENT\",\n  \"KEYED_FRAGMENT\": 128,\n  \"128\": \"KEYED_FRAGMENT\",\n  \"UNKEYED_FRAGMENT\": 256,\n  \"256\": \"UNKEYED_FRAGMENT\",\n  \"NEED_PATCH\": 512,\n  \"512\": \"NEED_PATCH\",\n  \"DYNAMIC_SLOTS\": 1024,\n  \"1024\": \"DYNAMIC_SLOTS\",\n  \"DEV_ROOT_FRAGMENT\": 2048,\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\n  \"CACHED\": -1,\n  \"-1\": \"CACHED\",\n  \"BAIL\": -2,\n  \"-2\": \"BAIL\"\n};\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst ShapeFlags = {\n  \"ELEMENT\": 1,\n  \"1\": \"ELEMENT\",\n  \"FUNCTIONAL_COMPONENT\": 2,\n  \"2\": \"FUNCTIONAL_COMPONENT\",\n  \"STATEFUL_COMPONENT\": 4,\n  \"4\": \"STATEFUL_COMPONENT\",\n  \"TEXT_CHILDREN\": 8,\n  \"8\": \"TEXT_CHILDREN\",\n  \"ARRAY_CHILDREN\": 16,\n  \"16\": \"ARRAY_CHILDREN\",\n  \"SLOTS_CHILDREN\": 32,\n  \"32\": \"SLOTS_CHILDREN\",\n  \"TELEPORT\": 64,\n  \"64\": \"TELEPORT\",\n  \"SUSPENSE\": 128,\n  \"128\": \"SUSPENSE\",\n  \"COMPONENT_SHOULD_KEEP_ALIVE\": 256,\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\n  \"COMPONENT_KEPT_ALIVE\": 512,\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\n  \"COMPONENT\": 6,\n  \"6\": \"COMPONENT\"\n};\n\nconst SlotFlags = {\n  \"STABLE\": 1,\n  \"1\": \"STABLE\",\n  \"DYNAMIC\": 2,\n  \"2\": \"DYNAMIC\",\n  \"FORWARDED\": 3,\n  \"3\": \"FORWARDED\"\n};\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  start = Math.max(0, Math.min(start, source.length));\n  end = Math.max(0, Math.min(end, source.length));\n  if (start > end) return \"\";\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  if (!styles) return \"\";\n  if (isString(styles)) return styles;\n  let ret = \"\";\n  for (const key in styles) {\n    const value = styles[key];\n    if (isString(value) || typeof value === \"number\") {\n      const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props) return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst MATH_TAGS = \"annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isMathMLTag = /* @__PURE__ */ makeMap(MATH_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\nconst isKnownMathMLAttr = /* @__PURE__ */ makeMap(\n  `accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns`\n);\nfunction isRenderableAttrValue(value) {\n  if (value == null) {\n    return false;\n  }\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\nconst cssVarNameEscapeSymbolsRE = /[ !\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~]/g;\nfunction getEscapedCssVarName(key, doubleEscape) {\n  return key.replace(\n    cssVarNameEscapeSymbolsRE,\n    (s) => doubleEscape ? s === '\"' ? '\\\\\\\\\\\\\"' : `\\\\\\\\${s}` : `\\\\${s}`\n  );\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length) return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b) return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst isRef = (val) => {\n  return !!(val && val[\"__v_isRef\"] === true);\n};\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? isRef(val) ? toDisplayString(val.value) : JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (isRef(val)) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce(\n        (entries, [key, val2], i) => {\n          entries[stringifySymbol(key, i) + \" =>\"] = val2;\n          return entries;\n        },\n        {}\n      )\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()].map((v) => stringifySymbol(v))\n    };\n  } else if (isSymbol(val)) {\n    return stringifySymbol(val);\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst stringifySymbol = (v, i = \"\") => {\n  var _a;\n  return (\n    // Symbol.description in es2019+ so we need to cast here to pass\n    // the lib: es2016 check\n    isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v\n  );\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, camelize, capitalize, cssVarNameEscapeSymbolsRE, def, escapeHtml, escapeHtmlComment, extend, genCacheKey, genPropsAccessExp, generateCodeFrame, getEscapedCssVarName, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownMathMLAttr, isKnownSvgAttr, isMap, isMathMLTag, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isRenderableAttrValue, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/**\n* @vue/server-renderer v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { createVNode, ssrUtils, ssrContextKey, warn as warn$2, Fragment, Static, Comment, Text, mergeProps, createApp, initDirectivesForSSR } from 'vue';\nimport { isOn, isRenderableAttrValue, isSVGTag, propsToAttrMap, isBooleanAttr, includeBooleanAttr, isSSRSafeAttrName, escapeHtml, normalizeClass, isString, normalizeStyle, stringifyStyle, makeMap, isArray, toDisplayString, extend, isFunction, EMPTY_OBJ, getGlobalThis, NOOP, isObject, looseEqual, looseIndexOf, isPromise, escapeHtmlComment, isVoidTag } from '@vue/shared';\nexport { includeBooleanAttr as ssrIncludeBooleanAttr } from '@vue/shared';\n\nconst shouldIgnoreProp = /* @__PURE__ */ makeMap(\n  `,key,ref,innerHTML,textContent,ref_key,ref_for`\n);\nfunction ssrRenderAttrs(props, tag) {\n  let ret = \"\";\n  for (const key in props) {\n    if (shouldIgnoreProp(key) || isOn(key) || tag === \"textarea\" && key === \"value\") {\n      continue;\n    }\n    const value = props[key];\n    if (key === \"class\") {\n      ret += ` class=\"${ssrRenderClass(value)}\"`;\n    } else if (key === \"style\") {\n      ret += ` style=\"${ssrRenderStyle(value)}\"`;\n    } else if (key === \"className\") {\n      ret += ` class=\"${String(value)}\"`;\n    } else {\n      ret += ssrRenderDynamicAttr(key, value, tag);\n    }\n  }\n  return ret;\n}\nfunction ssrRenderDynamicAttr(key, value, tag) {\n  if (!isRenderableAttrValue(value)) {\n    return ``;\n  }\n  const attrKey = tag && (tag.indexOf(\"-\") > 0 || isSVGTag(tag)) ? key : propsToAttrMap[key] || key.toLowerCase();\n  if (isBooleanAttr(attrKey)) {\n    return includeBooleanAttr(value) ? ` ${attrKey}` : ``;\n  } else if (isSSRSafeAttrName(attrKey)) {\n    return value === \"\" ? ` ${attrKey}` : ` ${attrKey}=\"${escapeHtml(value)}\"`;\n  } else {\n    console.warn(\n      `[@vue/server-renderer] Skipped rendering unsafe attribute name: ${attrKey}`\n    );\n    return ``;\n  }\n}\nfunction ssrRenderAttr(key, value) {\n  if (!isRenderableAttrValue(value)) {\n    return ``;\n  }\n  return ` ${key}=\"${escapeHtml(value)}\"`;\n}\nfunction ssrRenderClass(raw) {\n  return escapeHtml(normalizeClass(raw));\n}\nfunction ssrRenderStyle(raw) {\n  if (!raw) {\n    return \"\";\n  }\n  if (isString(raw)) {\n    return escapeHtml(raw);\n  }\n  const styles = normalizeStyle(raw);\n  return escapeHtml(stringifyStyle(styles));\n}\n\nfunction ssrRenderComponent(comp, props = null, children = null, parentComponent = null, slotScopeId) {\n  return renderComponentVNode(\n    createVNode(comp, props, children),\n    parentComponent,\n    slotScopeId\n  );\n}\n\nconst { ensureValidVNode } = ssrUtils;\nfunction ssrRenderSlot(slots, slotName, slotProps, fallbackRenderFn, push, parentComponent, slotScopeId) {\n  push(`<!--[-->`);\n  ssrRenderSlotInner(\n    slots,\n    slotName,\n    slotProps,\n    fallbackRenderFn,\n    push,\n    parentComponent,\n    slotScopeId\n  );\n  push(`<!--]-->`);\n}\nfunction ssrRenderSlotInner(slots, slotName, slotProps, fallbackRenderFn, push, parentComponent, slotScopeId, transition) {\n  const slotFn = slots[slotName];\n  if (slotFn) {\n    const slotBuffer = [];\n    const bufferedPush = (item) => {\n      slotBuffer.push(item);\n    };\n    const ret = slotFn(\n      slotProps,\n      bufferedPush,\n      parentComponent,\n      slotScopeId ? \" \" + slotScopeId : \"\"\n    );\n    if (isArray(ret)) {\n      const validSlotContent = ensureValidVNode(ret);\n      if (validSlotContent) {\n        renderVNodeChildren(\n          push,\n          validSlotContent,\n          parentComponent,\n          slotScopeId\n        );\n      } else if (fallbackRenderFn) {\n        fallbackRenderFn();\n      }\n    } else {\n      let isEmptySlot = true;\n      if (transition) {\n        isEmptySlot = false;\n      } else {\n        for (let i = 0; i < slotBuffer.length; i++) {\n          if (!isComment(slotBuffer[i])) {\n            isEmptySlot = false;\n            break;\n          }\n        }\n      }\n      if (isEmptySlot) {\n        if (fallbackRenderFn) {\n          fallbackRenderFn();\n        }\n      } else {\n        let start = 0;\n        let end = slotBuffer.length;\n        if (transition && slotBuffer[0] === \"<!--[-->\" && slotBuffer[end - 1] === \"<!--]-->\") {\n          start++;\n          end--;\n        }\n        for (let i = start; i < end; i++) {\n          push(slotBuffer[i]);\n        }\n      }\n    }\n  } else if (fallbackRenderFn) {\n    fallbackRenderFn();\n  }\n}\nconst commentTestRE = /^<!--[\\s\\S]*-->$/;\nconst commentRE = /<!--[^]*?-->/gm;\nfunction isComment(item) {\n  if (typeof item !== \"string\" || !commentTestRE.test(item)) return false;\n  if (item.length <= 8) return true;\n  return !item.replace(commentRE, \"\").trim();\n}\n\nfunction ssrRenderTeleport(parentPush, contentRenderFn, target, disabled, parentComponent) {\n  parentPush(\"<!--teleport start-->\");\n  const context = parentComponent.appContext.provides[ssrContextKey];\n  const teleportBuffers = context.__teleportBuffers || (context.__teleportBuffers = {});\n  const targetBuffer = teleportBuffers[target] || (teleportBuffers[target] = []);\n  const bufferIndex = targetBuffer.length;\n  let teleportContent;\n  if (disabled) {\n    contentRenderFn(parentPush);\n    teleportContent = `<!--teleport start anchor--><!--teleport anchor-->`;\n  } else {\n    const { getBuffer, push } = createBuffer();\n    push(`<!--teleport start anchor-->`);\n    contentRenderFn(push);\n    push(`<!--teleport anchor-->`);\n    teleportContent = getBuffer();\n  }\n  targetBuffer.splice(bufferIndex, 0, teleportContent);\n  parentPush(\"<!--teleport end-->\");\n}\n\nfunction ssrInterpolate(value) {\n  return escapeHtml(toDisplayString(value));\n}\n\nlet activeSub;\nlet batchDepth = 0;\nlet batchedSub;\nfunction startBatch() {\n  batchDepth++;\n}\nfunction endBatch() {\n  if (--batchDepth > 0) {\n    return;\n  }\n  let error;\n  while (batchedSub) {\n    let e = batchedSub;\n    batchedSub = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= ~8;\n      if (e.flags & 1) {\n        try {\n          ;\n          e.trigger();\n        } catch (err) {\n          if (!error) error = err;\n        }\n      }\n      e = next;\n    }\n  }\n  if (error) throw error;\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\n\nclass Dep {\n  constructor(computed) {\n    this.computed = computed;\n    this.version = 0;\n    /**\n     * Link between this dep and the current active effect\n     */\n    this.activeLink = void 0;\n    /**\n     * Doubly linked list representing the subscribing effects (tail)\n     */\n    this.subs = void 0;\n    /**\n     * For object property deps cleanup\n     */\n    this.map = void 0;\n    this.key = void 0;\n    /**\n     * Subscriber counter\n     */\n    this.sc = 0;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.subsHead = void 0;\n    }\n  }\n  track(debugInfo) {\n    {\n      return;\n    }\n  }\n  trigger(debugInfo) {\n    this.version++;\n    this.notify(debugInfo);\n  }\n  notify(debugInfo) {\n    startBatch();\n    try {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (let head = this.subsHead; head; head = head.nextSub) {\n          if (head.sub.onTrigger && !(head.sub.flags & 8)) {\n            head.sub.onTrigger(\n              extend(\n                {\n                  effect: head.sub\n                },\n                debugInfo\n              )\n            );\n          }\n        }\n      }\n      for (let link = this.subs; link; link = link.prevSub) {\n        if (link.sub.notify()) {\n          ;\n          link.sub.dep.notify();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n  }\n}\nconst targetMap = /* @__PURE__ */ new WeakMap();\nSymbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Object iterate\" : \"\"\n);\nSymbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Map keys iterate\" : \"\"\n);\nSymbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Array iterate\" : \"\"\n);\nfunction track(target, type, key) {\n  if (shouldTrack && activeSub) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = new Dep());\n      dep.map = depsMap;\n      dep.key = key;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      dep.track({\n        target,\n        type,\n        key\n      });\n    } else {\n      dep.track();\n    }\n  }\n}\n\nfunction isProxy(value) {\n  return value ? !!value[\"__v_raw\"] : false;\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\n\nfunction isRef(r) {\n  return r ? r[\"__v_isRef\"] === true : false;\n}\n\nconst stack = [];\nfunction pushWarningContext$1(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext$1() {\n  stack.pop();\n}\nlet isWarning = false;\nfunction warn$1(msg, ...args) {\n  if (isWarning) return;\n  isWarning = true;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        // eslint-disable-next-line no-restricted-syntax\n        msg + args.map((a) => {\n          var _a, _b;\n          return (_b = (_a = a.toString) == null ? void 0 : _a.call(a)) != null ? _b : JSON.stringify(a);\n        }).join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n  isWarning = false;\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\n\nconst ErrorTypeStrings = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush\",\n  [15]: \"component update\",\n  [16]: \"app unmount cleanup function\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  try {\n    return args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  const { errorHandler, throwUnhandledErrorInProduction } = instance && instance.appContext.config || EMPTY_OBJ;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings[type] : `https://vuejs.org/error-reference/#runtime-${type}`;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    if (errorHandler) {\n      pauseTracking();\n      callWithErrorHandling(errorHandler, null, 10, [\n        err,\n        exposedInstance,\n        errorInfo\n      ]);\n      resetTracking();\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev, throwUnhandledErrorInProduction);\n}\nfunction logError(err, type, contextVNode, throwInDev = true, throwInProd = false) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings[type];\n    if (contextVNode) {\n      pushWarningContext$1(contextVNode);\n    }\n    warn$1(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext$1();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else if (throwInProd) {\n    throw err;\n  } else {\n    console.error(err);\n  }\n}\n\nlet devtools;\nlet buffer = [];\nfunction setDevtoolsHook(hook, target) {\n  var _a, _b;\n  devtools = hook;\n  if (devtools) {\n    devtools.enabled = true;\n    buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    // eslint-disable-next-line no-restricted-syntax\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    buffer = [];\n  }\n}\n\n{\n  const g = getGlobalThis();\n  const registerGlobalSetter = (key, setter) => {\n    let setters;\n    if (!(setters = g[key])) setters = g[key] = [];\n    setters.push(setter);\n    return (v) => {\n      if (setters.length > 1) setters.forEach((set) => set(v));\n      else setters[0](v);\n    };\n  };\n  registerGlobalSetter(\n    `__VUE_INSTANCE_SETTERS__`,\n    (v) => v\n  );\n  registerGlobalSetter(\n    `__VUE_SSR_SETTERS__`,\n    (v) => v\n  );\n}\n!!(process.env.NODE_ENV !== \"production\") ? {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  },\n  set() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  },\n  deleteProperty() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  }\n} : {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  }\n};\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst warn = !!(process.env.NODE_ENV !== \"production\") ? warn$1 : NOOP;\n!!(process.env.NODE_ENV !== \"production\") || true ? devtools : void 0;\n!!(process.env.NODE_ENV !== \"production\") || true ? setDevtoolsHook : NOOP;\n\nfunction ssrRenderList(source, renderItem) {\n  if (isArray(source) || isString(source)) {\n    for (let i = 0, l = source.length; i < l; i++) {\n      renderItem(source[i], i);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn(`The v-for range expect an integer value but got ${source}.`);\n      return;\n    }\n    for (let i = 0; i < source; i++) {\n      renderItem(i + 1, i);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      const arr = Array.from(source);\n      for (let i = 0, l = arr.length; i < l; i++) {\n        renderItem(arr[i], i);\n      }\n    } else {\n      const keys = Object.keys(source);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        renderItem(source[key], key, i);\n      }\n    }\n  }\n}\n\nasync function ssrRenderSuspense(push, { default: renderContent }) {\n  if (renderContent) {\n    renderContent();\n  } else {\n    push(`<!---->`);\n  }\n}\n\nfunction ssrGetDirectiveProps(instance, dir, value, arg, modifiers = {}) {\n  if (typeof dir !== \"function\" && dir.getSSRProps) {\n    return dir.getSSRProps(\n      {\n        dir,\n        instance: ssrUtils.getComponentPublicInstance(instance.$),\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      },\n      null\n    ) || {};\n  }\n  return {};\n}\n\nconst ssrLooseEqual = looseEqual;\nfunction ssrLooseContain(arr, value) {\n  return looseIndexOf(arr, value) > -1;\n}\nfunction ssrRenderDynamicModel(type, model, value) {\n  switch (type) {\n    case \"radio\":\n      return looseEqual(model, value) ? \" checked\" : \"\";\n    case \"checkbox\":\n      return (isArray(model) ? ssrLooseContain(model, value) : model) ? \" checked\" : \"\";\n    default:\n      return ssrRenderAttr(\"value\", model);\n  }\n}\nfunction ssrGetDynamicModelProps(existingProps = {}, model) {\n  const { type, value } = existingProps;\n  switch (type) {\n    case \"radio\":\n      return looseEqual(model, value) ? { checked: true } : null;\n    case \"checkbox\":\n      return (isArray(model) ? ssrLooseContain(model, value) : model) ? { checked: true } : null;\n    default:\n      return { value: model };\n  }\n}\n\nfunction ssrCompile(template, instance) {\n  {\n    throw new Error(\n      `On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.`\n    );\n  }\n}\n\nconst {\n  createComponentInstance,\n  setCurrentRenderingInstance,\n  setupComponent,\n  renderComponentRoot,\n  normalizeVNode,\n  pushWarningContext,\n  popWarningContext\n} = ssrUtils;\nfunction createBuffer() {\n  let appendable = false;\n  const buffer = [];\n  return {\n    getBuffer() {\n      return buffer;\n    },\n    push(item) {\n      const isStringItem = isString(item);\n      if (appendable && isStringItem) {\n        buffer[buffer.length - 1] += item;\n        return;\n      }\n      buffer.push(item);\n      appendable = isStringItem;\n      if (isPromise(item) || isArray(item) && item.hasAsync) {\n        buffer.hasAsync = true;\n      }\n    }\n  };\n}\nfunction renderComponentVNode(vnode, parentComponent = null, slotScopeId) {\n  const instance = vnode.component = createComponentInstance(\n    vnode,\n    parentComponent,\n    null\n  );\n  if (!!(process.env.NODE_ENV !== \"production\")) pushWarningContext(vnode);\n  const res = setupComponent(\n    instance,\n    true\n    /* isSSR */\n  );\n  if (!!(process.env.NODE_ENV !== \"production\")) popWarningContext();\n  const hasAsyncSetup = isPromise(res);\n  let prefetches = instance.sp;\n  if (hasAsyncSetup || prefetches) {\n    const p = Promise.resolve(res).then(() => {\n      if (hasAsyncSetup) prefetches = instance.sp;\n      if (prefetches) {\n        return Promise.all(\n          prefetches.map((prefetch) => prefetch.call(instance.proxy))\n        );\n      }\n    }).catch(NOOP);\n    return p.then(() => renderComponentSubTree(instance, slotScopeId));\n  } else {\n    return renderComponentSubTree(instance, slotScopeId);\n  }\n}\nfunction renderComponentSubTree(instance, slotScopeId) {\n  if (!!(process.env.NODE_ENV !== \"production\")) pushWarningContext(instance.vnode);\n  const comp = instance.type;\n  const { getBuffer, push } = createBuffer();\n  if (isFunction(comp)) {\n    let root = renderComponentRoot(instance);\n    if (!comp.props) {\n      for (const key in instance.attrs) {\n        if (key.startsWith(`data-v-`)) {\n          (root.props || (root.props = {}))[key] = ``;\n        }\n      }\n    }\n    renderVNode(push, instance.subTree = root, instance, slotScopeId);\n  } else {\n    if ((!instance.render || instance.render === NOOP) && !instance.ssrRender && !comp.ssrRender && isString(comp.template)) {\n      comp.ssrRender = ssrCompile(comp.template);\n    }\n    const ssrRender = instance.ssrRender || comp.ssrRender;\n    if (ssrRender) {\n      let attrs = instance.inheritAttrs !== false ? instance.attrs : void 0;\n      let hasCloned = false;\n      let cur = instance;\n      while (true) {\n        const scopeId = cur.vnode.scopeId;\n        if (scopeId) {\n          if (!hasCloned) {\n            attrs = { ...attrs };\n            hasCloned = true;\n          }\n          attrs[scopeId] = \"\";\n        }\n        const parent = cur.parent;\n        if (parent && parent.subTree && parent.subTree === cur.vnode) {\n          cur = parent;\n        } else {\n          break;\n        }\n      }\n      if (slotScopeId) {\n        if (!hasCloned) attrs = { ...attrs };\n        const slotScopeIdList = slotScopeId.trim().split(\" \");\n        for (let i = 0; i < slotScopeIdList.length; i++) {\n          attrs[slotScopeIdList[i]] = \"\";\n        }\n      }\n      const prev = setCurrentRenderingInstance(instance);\n      try {\n        ssrRender(\n          instance.proxy,\n          push,\n          instance,\n          attrs,\n          // compiler-optimized bindings\n          instance.props,\n          instance.setupState,\n          instance.data,\n          instance.ctx\n        );\n      } finally {\n        setCurrentRenderingInstance(prev);\n      }\n    } else if (instance.render && instance.render !== NOOP) {\n      renderVNode(\n        push,\n        instance.subTree = renderComponentRoot(instance),\n        instance,\n        slotScopeId\n      );\n    } else {\n      const componentName = comp.name || comp.__file || `<Anonymous>`;\n      warn$2(`Component ${componentName} is missing template or render function.`);\n      push(`<!---->`);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) popWarningContext();\n  return getBuffer();\n}\nfunction renderVNode(push, vnode, parentComponent, slotScopeId) {\n  const { type, shapeFlag, children, dirs, props } = vnode;\n  if (dirs) {\n    vnode.props = applySSRDirectives(vnode, props, dirs);\n  }\n  switch (type) {\n    case Text:\n      push(escapeHtml(children));\n      break;\n    case Comment:\n      push(\n        children ? `<!--${escapeHtmlComment(children)}-->` : `<!---->`\n      );\n      break;\n    case Static:\n      push(children);\n      break;\n    case Fragment:\n      if (vnode.slotScopeIds) {\n        slotScopeId = (slotScopeId ? slotScopeId + \" \" : \"\") + vnode.slotScopeIds.join(\" \");\n      }\n      push(`<!--[-->`);\n      renderVNodeChildren(\n        push,\n        children,\n        parentComponent,\n        slotScopeId\n      );\n      push(`<!--]-->`);\n      break;\n    default:\n      if (shapeFlag & 1) {\n        renderElementVNode(push, vnode, parentComponent, slotScopeId);\n      } else if (shapeFlag & 6) {\n        push(renderComponentVNode(vnode, parentComponent, slotScopeId));\n      } else if (shapeFlag & 64) {\n        renderTeleportVNode(push, vnode, parentComponent, slotScopeId);\n      } else if (shapeFlag & 128) {\n        renderVNode(push, vnode.ssContent, parentComponent, slotScopeId);\n      } else {\n        warn$2(\n          \"[@vue/server-renderer] Invalid VNode type:\",\n          type,\n          `(${typeof type})`\n        );\n      }\n  }\n}\nfunction renderVNodeChildren(push, children, parentComponent, slotScopeId) {\n  for (let i = 0; i < children.length; i++) {\n    renderVNode(push, normalizeVNode(children[i]), parentComponent, slotScopeId);\n  }\n}\nfunction renderElementVNode(push, vnode, parentComponent, slotScopeId) {\n  const tag = vnode.type;\n  let { props, children, shapeFlag, scopeId } = vnode;\n  let openTag = `<${tag}`;\n  if (props) {\n    openTag += ssrRenderAttrs(props, tag);\n  }\n  if (scopeId) {\n    openTag += ` ${scopeId}`;\n  }\n  let curParent = parentComponent;\n  let curVnode = vnode;\n  while (curParent && curVnode === curParent.subTree) {\n    curVnode = curParent.vnode;\n    if (curVnode.scopeId) {\n      openTag += ` ${curVnode.scopeId}`;\n    }\n    curParent = curParent.parent;\n  }\n  if (slotScopeId) {\n    openTag += ` ${slotScopeId}`;\n  }\n  push(openTag + `>`);\n  if (!isVoidTag(tag)) {\n    let hasChildrenOverride = false;\n    if (props) {\n      if (props.innerHTML) {\n        hasChildrenOverride = true;\n        push(props.innerHTML);\n      } else if (props.textContent) {\n        hasChildrenOverride = true;\n        push(escapeHtml(props.textContent));\n      } else if (tag === \"textarea\" && props.value) {\n        hasChildrenOverride = true;\n        push(escapeHtml(props.value));\n      }\n    }\n    if (!hasChildrenOverride) {\n      if (shapeFlag & 8) {\n        push(escapeHtml(children));\n      } else if (shapeFlag & 16) {\n        renderVNodeChildren(\n          push,\n          children,\n          parentComponent,\n          slotScopeId\n        );\n      }\n    }\n    push(`</${tag}>`);\n  }\n}\nfunction applySSRDirectives(vnode, rawProps, dirs) {\n  const toMerge = [];\n  for (let i = 0; i < dirs.length; i++) {\n    const binding = dirs[i];\n    const {\n      dir: { getSSRProps }\n    } = binding;\n    if (getSSRProps) {\n      const props = getSSRProps(binding, vnode);\n      if (props) toMerge.push(props);\n    }\n  }\n  return mergeProps(rawProps || {}, ...toMerge);\n}\nfunction renderTeleportVNode(push, vnode, parentComponent, slotScopeId) {\n  const target = vnode.props && vnode.props.to;\n  const disabled = vnode.props && vnode.props.disabled;\n  if (!target) {\n    if (!disabled) {\n      warn$2(`[@vue/server-renderer] Teleport is missing target prop.`);\n    }\n    return [];\n  }\n  if (!isString(target)) {\n    warn$2(\n      `[@vue/server-renderer] Teleport target must be a query selector string.`\n    );\n    return [];\n  }\n  ssrRenderTeleport(\n    push,\n    (push2) => {\n      renderVNodeChildren(\n        push2,\n        vnode.children,\n        parentComponent,\n        slotScopeId\n      );\n    },\n    target,\n    disabled || disabled === \"\",\n    parentComponent\n  );\n}\n\nconst { isVNode: isVNode$1 } = ssrUtils;\nfunction nestedUnrollBuffer(buffer, parentRet, startIndex) {\n  if (!buffer.hasAsync) {\n    return parentRet + unrollBufferSync$1(buffer);\n  }\n  let ret = parentRet;\n  for (let i = startIndex; i < buffer.length; i += 1) {\n    const item = buffer[i];\n    if (isString(item)) {\n      ret += item;\n      continue;\n    }\n    if (isPromise(item)) {\n      return item.then((nestedItem) => {\n        buffer[i] = nestedItem;\n        return nestedUnrollBuffer(buffer, ret, i);\n      });\n    }\n    const result = nestedUnrollBuffer(item, ret, 0);\n    if (isPromise(result)) {\n      return result.then((nestedItem) => {\n        buffer[i] = nestedItem;\n        return nestedUnrollBuffer(buffer, \"\", i);\n      });\n    }\n    ret = result;\n  }\n  return ret;\n}\nfunction unrollBuffer$1(buffer) {\n  return nestedUnrollBuffer(buffer, \"\", 0);\n}\nfunction unrollBufferSync$1(buffer) {\n  let ret = \"\";\n  for (let i = 0; i < buffer.length; i++) {\n    let item = buffer[i];\n    if (isString(item)) {\n      ret += item;\n    } else {\n      ret += unrollBufferSync$1(item);\n    }\n  }\n  return ret;\n}\nasync function renderToString(input, context = {}) {\n  if (isVNode$1(input)) {\n    return renderToString(createApp({ render: () => input }), context);\n  }\n  const vnode = createVNode(input._component, input._props);\n  vnode.appContext = input._context;\n  input.provide(ssrContextKey, context);\n  const buffer = await renderComponentVNode(vnode);\n  const result = await unrollBuffer$1(buffer);\n  await resolveTeleports(context);\n  if (context.__watcherHandles) {\n    for (const unwatch of context.__watcherHandles) {\n      unwatch();\n    }\n  }\n  return result;\n}\nasync function resolveTeleports(context) {\n  if (context.__teleportBuffers) {\n    context.teleports = context.teleports || {};\n    for (const key in context.__teleportBuffers) {\n      context.teleports[key] = await unrollBuffer$1(\n        await Promise.all([context.__teleportBuffers[key]])\n      );\n    }\n  }\n}\n\nconst { isVNode } = ssrUtils;\nasync function unrollBuffer(buffer, stream) {\n  if (buffer.hasAsync) {\n    for (let i = 0; i < buffer.length; i++) {\n      let item = buffer[i];\n      if (isPromise(item)) {\n        item = await item;\n      }\n      if (isString(item)) {\n        stream.push(item);\n      } else {\n        await unrollBuffer(item, stream);\n      }\n    }\n  } else {\n    unrollBufferSync(buffer, stream);\n  }\n}\nfunction unrollBufferSync(buffer, stream) {\n  for (let i = 0; i < buffer.length; i++) {\n    let item = buffer[i];\n    if (isString(item)) {\n      stream.push(item);\n    } else {\n      unrollBufferSync(item, stream);\n    }\n  }\n}\nfunction renderToSimpleStream(input, context, stream) {\n  if (isVNode(input)) {\n    return renderToSimpleStream(\n      createApp({ render: () => input }),\n      context,\n      stream\n    );\n  }\n  const vnode = createVNode(input._component, input._props);\n  vnode.appContext = input._context;\n  input.provide(ssrContextKey, context);\n  Promise.resolve(renderComponentVNode(vnode)).then((buffer) => unrollBuffer(buffer, stream)).then(() => resolveTeleports(context)).then(() => {\n    if (context.__watcherHandles) {\n      for (const unwatch of context.__watcherHandles) {\n        unwatch();\n      }\n    }\n  }).then(() => stream.push(null)).catch((error) => {\n    stream.destroy(error);\n  });\n  return stream;\n}\nfunction renderToStream(input, context = {}) {\n  console.warn(\n    `[@vue/server-renderer] renderToStream is deprecated - use renderToNodeStream instead.`\n  );\n  return renderToNodeStream(input, context);\n}\nfunction renderToNodeStream(input, context = {}) {\n  {\n    throw new Error(\n      `ESM build of renderToStream() does not support renderToNodeStream(). Use pipeToNodeWritable() with an existing Node.js Writable stream instance instead.`\n    );\n  }\n}\nfunction pipeToNodeWritable(input, context = {}, writable) {\n  renderToSimpleStream(input, context, {\n    push(content) {\n      if (content != null) {\n        writable.write(content);\n      } else {\n        writable.end();\n      }\n    },\n    destroy(err) {\n      writable.destroy(err);\n    }\n  });\n}\nfunction renderToWebStream(input, context = {}) {\n  if (typeof ReadableStream !== \"function\") {\n    throw new Error(\n      `ReadableStream constructor is not available in the global scope. If the target environment does support web streams, consider using pipeToWebWritable() with an existing WritableStream instance instead.`\n    );\n  }\n  const encoder = new TextEncoder();\n  let cancelled = false;\n  return new ReadableStream({\n    start(controller) {\n      renderToSimpleStream(input, context, {\n        push(content) {\n          if (cancelled) return;\n          if (content != null) {\n            controller.enqueue(encoder.encode(content));\n          } else {\n            controller.close();\n          }\n        },\n        destroy(err) {\n          controller.error(err);\n        }\n      });\n    },\n    cancel() {\n      cancelled = true;\n    }\n  });\n}\nfunction pipeToWebWritable(input, context = {}, writable) {\n  const writer = writable.getWriter();\n  const encoder = new TextEncoder();\n  let hasReady = false;\n  try {\n    hasReady = isPromise(writer.ready);\n  } catch (e) {\n  }\n  renderToSimpleStream(input, context, {\n    async push(content) {\n      if (hasReady) {\n        await writer.ready;\n      }\n      if (content != null) {\n        return writer.write(encoder.encode(content));\n      } else {\n        return writer.close();\n      }\n    },\n    destroy(err) {\n      console.log(err);\n      writer.close();\n    }\n  });\n}\n\ninitDirectivesForSSR();\n\nexport { pipeToNodeWritable, pipeToWebWritable, renderToNodeStream, renderToSimpleStream, renderToStream, renderToString, renderToWebStream, ssrGetDirectiveProps, ssrGetDynamicModelProps, ssrInterpolate, ssrLooseContain, ssrLooseEqual, ssrRenderAttr, ssrRenderAttrs, ssrRenderClass, ssrRenderComponent, ssrRenderDynamicAttr, ssrRenderDynamicModel, ssrRenderList, ssrRenderSlot, ssrRenderSlotInner, ssrRenderStyle, ssrRenderSuspense, ssrRenderTeleport, renderVNode as ssrRenderVNode };\n","import { defineComponent, type PropType, provide, h, ref, nextTick, toValue, toRaw, onMounted, onBeforeUnmount, computed } from 'vue';\nimport { type ViewResolver } from '../../Types/ViewResolver';\nimport { type State, type InitialState } from '../../Types/State';\nimport type { CompleteResponse } from '../../Http/Client/Response';\nimport { StackedViewResolverInjectionKey, StackedViewInjectionKey, StackedViewDepthInjectionKey } from '../../Services/StackedView';\nimport { StateLocationInjectionKey, StateManagerInjectionKey, StateStackSignatureInjectionKey, updateStack, StateAuthenticated, StateAbilities } from '../../Services/StateManager';\nimport { RouterViewComponent } from './RouterViewComponent';\nimport { ToastRegistryInjectionKey } from '../../Services/ToastManager';\n\n\nexport const RouterComponent = defineComponent({\n  inheritAttrs: false,\n  name: 'Router',\n  props: {\n    resolver: {\n      type: Function as PropType<ViewResolver>,\n      required: true,\n    },\n    state: {\n      type: Object as PropType<InitialState>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const abilities = ref(props.state.abilities);\n    const authenticated = ref(props.state.authenticated);\n    const location = ref(props.state.location);\n    const stack = ref(props.state.stack);\n    const signature = ref(props.state.signature);\n    const toasts = ref(props.state.toasts);\n\n    function buildState() {\n      return {\n        location: toRaw(toValue(location)),\n        signature: toRaw(toValue(signature)),\n        stack: toRaw(toValue(stack)),\n      };\n    }\n\n    async function update(fresh: CompleteResponse): Promise<State> {\n      abilities.value = fresh.abilities;\n      authenticated.value = fresh.authenticated;\n\n      if (fresh.location) {\n        location.value = fresh.location;\n      }\n\n      if (fresh.signature) {\n        signature.value = fresh.signature;\n      }\n\n      if (fresh.stack) {\n        stack.value = updateStack(toRaw(toValue(stack.value)), fresh.stack);\n      }\n\n      if (fresh.toasts && fresh.toasts.length > 0) {\n        toasts.value = [...toasts.value, ...fresh.toasts];\n      }\n\n      return await nextTick(() => buildState());\n    }\n\n    provide(StateAbilities, abilities);\n    provide(StateAuthenticated, authenticated);\n    provide(StateLocationInjectionKey, location);\n    provide(StateStackSignatureInjectionKey, signature);\n    provide(StateManagerInjectionKey, update);\n    provide(StackedViewResolverInjectionKey, props.resolver);\n    provide(StackedViewDepthInjectionKey, computed(() => 0));\n    provide(StackedViewInjectionKey, stack);\n    provide(ToastRegistryInjectionKey, toasts);\n\n    function handlePopStateEvent(event: PopStateEvent) {\n      if (event.state) {\n        location.value = event.state.location;\n        stack.value = event.state.stack;\n        signature.value = event.state.signature;\n      } else {\n        window.history.replaceState(buildState(), '', location.value);\n        window.scroll(0, 0);\n      }\n    }\n\n    onMounted(() => {\n      window.history.replaceState(buildState(), '', location.value);\n      window.addEventListener('popstate', handlePopStateEvent);\n    });\n\n    onBeforeUnmount(() => {\n      window.removeEventListener('popstate', handlePopStateEvent);\n    });\n\n    return () => {\n      return h(RouterViewComponent);\n    };\n  },\n});\n","import { renderToString } from '@vue/server-renderer';\nimport { type State } from '../Types/State';\nimport { type ViewResolver } from '../Types/ViewResolver';\nimport { RouterComponent } from '../Components/Routing/RouterComponent';\n\ntype Factory = (options: FactoryOptions) => any;\n\ntype FactoryOptions = {\n  router: typeof RouterComponent,\n  props: { resolver: ViewResolver, state: State },\n}\n\ntype Options = {\n  initial?: State | undefined,\n  resolver: ViewResolver,\n  setup: Factory,\n}\n\nexport async function createFoundationController({ initial, resolver, setup }: Options) {\n  const isServer = typeof window === 'undefined';\n  const state = initial || readInitialState();\n\n  const app = setup({ router: RouterComponent, props: { resolver, state } });\n\n  if (isServer) {\n    return await renderToString(app);\n  }\n\n  return '';\n}\n\n\nfunction readInitialState(): State {\n  let element = document.getElementById('ias');\n\n  if (!element || !element.textContent) {\n    throw new Error('Cannot find initial script element with MVC state.');\n  }\n\n  return JSON.parse(element.textContent);\n}\n","import { ref, type Ref, nextTick } from 'vue';\n\ninterface Config {\n  title?: string;\n  description?: string;\n  yes?: string;\n  no?: string;\n}\n\nexport interface Confirmation extends Config {\n  processing: boolean,\n  confirm: () => void;\n  cancel: () => void;\n}\n\ntype Callback<T> = () => Promise<T> | T;\n\nconst confirmation = ref() as Ref<Confirmation | undefined>;\n\nasync function createConfirmation<T>(config: Config, callback: Callback<T>): Promise<T> {\n  return new Promise((resolve, reject) => {\n    function confirm() {\n      confirmation.value!.processing = true;\n\n      nextTick(() => {\n        Promise.resolve(callback()).then((value: T) => {\n          confirmation.value = undefined;\n          nextTick(() => resolve(value));\n        }).catch((error) => {\n          confirmation.value = undefined;\n          nextTick(() => reject(error));\n        });\n      });\n    }\n\n    function cancel() {\n      confirmation.value = undefined;\n      nextTick(() => reject());\n    }\n\n    confirmation.value = { ...config, processing: false, confirm, cancel };\n  });\n}\n\nasync function factory<T>(callback: Callback<T>): Promise<T>;\nasync function factory<T>(config: Config, callback: Callback<T>): Promise<T>;\nasync function factory<T>(configOrCallback: any, callback?: Callback<T>): Promise<T> {\n  if (callback !== undefined) {\n    return createConfirmation(configOrCallback, callback);\n  } else {\n    return createConfirmation({}, configOrCallback);\n  }\n}\n\nexport function useCurrentConfirmation() {\n  return confirmation;\n}\n\nexport function useConfirmation() {\n  return factory;\n}\n","import { ref, type Ref } from 'vue';\nimport type { FormContextInterface } from '../Services/FormContext.ts';\n\ntype FormApi = {\n  ctx: FormContextInterface;\n  submit: () => void;\n}\n\nexport function useFormApi() {\n  return ref() as Ref<FormApi>;\n}\n","import { inject } from 'vue';\nimport { FormContextInjectionKey, type FormContextInterface } from '../Services/FormContext';\n\nexport function useFormContext(): FormContextInterface | null {\n  return inject(FormContextInjectionKey, null);\n}\n\nexport function usePersistentFormContext(): FormContextInterface {\n  let context = inject(FormContextInjectionKey);\n\n  if (!context) {\n    throw new Error('Accessing form outside of context.');\n  }\n\n  return context;\n}\n","import { inject, type Ref } from 'vue';\nimport { StackedViewLocationInjectionKey } from '../Services/StackedView';\n\nexport function useViewLocation(): Ref<string | undefined> {\n  const view = inject(StackedViewLocationInjectionKey);\n\n  if (!view) {\n    throw new Error('You\\'re trying to get stacked view parent out of Router context!');\n  }\n\n  return view;\n}\n","import { inject, type Ref, computed } from 'vue';\nimport { StackedViewParentInjectionKey } from '../Services/StackedView';\nimport type { StackedViewResolved } from '../Types/StackedView';\nimport { url } from '../Support/Url';\n\nexport function useViewParent(): Ref<StackedViewResolved | undefined> {\n  const view = inject(StackedViewParentInjectionKey);\n\n  if (!view) {\n    throw new Error('You\\'re trying to get parent view out of Router context!');\n  }\n\n  return view;\n}\n\nexport function useViewParentLocation() {\n  const parent = useViewParent();\n\n  return computed(() => {\n    if (parent && parent.value && parent.value.location) {\n      return url(parent.value.location, parent.value.query);\n    }\n  });\n}\n","import { inject, type Ref } from 'vue';\nimport { StackedViewQueryInjectionKey } from '../Services/StackedView';\n\nexport function useViewQuery(): Ref<Record<string, any> | undefined> {\n  const view = inject(StackedViewQueryInjectionKey);\n\n  if (!view) {\n    throw new Error('You\\'re trying to get stacked view query params out of Router context!');\n  }\n\n  return view;\n}\n","export function blank(value: any) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n\n  if (typeof value === 'number' || typeof value === 'boolean') {\n    return false;\n  }\n\n  if (typeof value === 'string') {\n    return value.trim() === '';\n  }\n\n  if (value instanceof Array) {\n    return value.length > 0;\n  }\n\n  if (value instanceof Set || value instanceof Map) {\n    return value.size > 0;\n  }\n\n  return !value;\n}\n\nexport function filled(value: any) {\n  return !blank(value);\n}\n","export function hash(length: number = 16): string {\n  return Array.from(window.crypto.getRandomValues(new Uint8Array(Math.ceil(length / 2))), (b) => ('0' + (b & 0xFF).toString(16)).slice(-2)).join('');\n}\n","export type NestedSetItem = {\n  id: number;\n  left: number;\n  right: number;\n  parentId: number | null;\n  title: string;\n}\n\nexport type NestedSet<T extends NestedSetItem = any> = T[];\n\nexport function nestedSetRoot<T extends NestedSetItem = any>(data: NestedSet<T>) {\n  return data.filter((node) => node.parentId === null);\n}\n\nexport function nestedSetChildren<T extends NestedSetItem = any>(data: NestedSet<T>, item: T) {\n  return data.filter((node) => (node.left > item.left && node.right < item.right && node.parentId === item.id));\n}\n\nexport function nestedSetAncestors<T extends NestedSetItem = any>(data: NestedSet<T>, item: T) {\n  return data.filter((node) => (node.left < item.left && node.right > item.right));\n}\n\nexport function nestedSetDescendants<T extends NestedSetItem = any>(data: NestedSet<T>, item: T) {\n  return data.filter((node) => (node.left > item.left && node.right < item.right));\n}\n","export enum ToastKind {\n  SUCCESS = 'success',\n  DANGER = 'danger',\n  INFO = 'info',\n  WARNING = 'warning',\n}\n\nexport interface Toast {\n  id: string,\n  description: string,\n  duration: number,\n  kind: ToastKind,\n}\n\nexport type ToastRegistry = Toast[];\n","import type { App, Plugin } from 'vue';\nimport { FormControllerComponent } from './Components/Controllers/FormControllerComponent';\nimport { RouterViewComponent } from './Components/Routing/RouterViewComponent';\nimport { RouterLinkComponent } from './Components/Routing/RouterLinkComponent';\nimport { ToastControllerComponent, ToastComponent } from './Components/Controllers/ToastControllerComponent';\nimport { PasswordConfirmationControllerComponent } from './Components/Controllers/PasswordConfirmationControllerComponent';\nimport { trans, transChoice } from './Support/Translator';\nimport { route } from './Support/Route';\n\nexport * from './Application/Factory';\n\nexport * from './Components/Controllers/FormControllerComponent';\nexport * from './Components/Controllers/ToastControllerComponent';\n\nexport * from './Components/Routing/RouterComponent';\nexport * from './Components/Routing/RouterLinkComponent';\nexport * from './Components/Routing/RouterViewComponent';\n\nexport * from './Composables/UseConfirmation';\nexport * from './Composables/UseFormApi';\nexport * from './Composables/UseFormContext';\nexport * from './Composables/UseHttpClient';\nexport * from './Composables/UseViewDepth';\nexport * from './Composables/UseViewLocation';\nexport * from './Composables/UseViewParent';\nexport * from './Composables/UseViewQuery';\nexport * from './Composables/UseViewResolver';\nexport * from './Composables/UseViewStack';\n\nexport * from './Events/EventBus';\n\nexport * from './Http/Client/Request';\nexport * from './Http/Client/Response';\n\nexport * from './Services/FormContext';\nexport * from './Services/StateManager';\nexport * from './Services/StackedView';\nexport * from './Services/ToastManager';\n\nexport * from './Support/Empty';\nexport * from './Support/ErrorModal';\nexport * from './Support/Hash';\nexport * from './Support/NestedSet';\nexport * from './Support/Route';\nexport * from './Support/Translator';\nexport * from './Support/Url';\nexport * from './Support/Wrap';\n\nexport * from './Types/HeadMeta';\nexport * from './Types/RouterRedirect';\nexport * from './Types/StackedView';\nexport * from './Types/State';\nexport * from './Types/Toast';\nexport * from './Types/ViewResolver';\n\nexport function createOtherSoftwareFoundation(): Plugin {\n  return {\n    install(app: App) {\n      app.component('RouterView', RouterViewComponent);\n      app.component('RouterLink', RouterLinkComponent);\n      app.component('FormController', FormControllerComponent);\n      app.component('ToastController', ToastControllerComponent);\n      app.component('PasswordConfirmationController', PasswordConfirmationControllerComponent);\n      app.component('Toast', ToastComponent);\n\n      app.config.globalProperties.$t = trans;\n      app.config.globalProperties.$tc = transChoice;\n      app.config.globalProperties.$route = route;\n    },\n  };\n}\n"],"names":["Response","xhr","__publicField","CompleteResponse","data","StateLocationInjectionKey","StateStackSignatureInjectionKey","StateAuthenticated","StateAbilities","StateManagerInjectionKey","useAbilities","abilities","inject","useAuthenticated","authenticated","useLocation","location","useStackSignature","signature","useStateManager","manager","updateStack","current","fresh","Request","method","url","body","resolve","reject","name","match","ErrorModal","html","page","a","iframe","event","subscriptions","EventBus","callback","handler","useHttpClient","state","dispatch","preserveScroll","replace","response","handleRedirectResponse","resetScrollPosition","historyReplaceState","historyPushState","error","redirect","FUNC_ERROR_TEXT","HASH_UNDEFINED","MAX_SAFE_INTEGER","funcTag","genTag","symbolTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reRegExpChar","reEscapeChar","reIsHostCtor","reIsUint","freeGlobal","global","freeSelf","root","getValue","object","key","isHostObject","value","result","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","funcToString","hasOwnProperty","objectToString","reIsNative","Symbol","splice","Map","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","index","length","entry","hashClear","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","assignValue","objValue","eq","array","baseIsNative","isObject","isMasked","pattern","isFunction","toSource","baseSet","path","customizer","isKey","castPath","nested","toKey","newValue","isIndex","baseToString","isSymbol","isArray","stringToPath","map","isKeyable","type","func","memoize","string","toString","number","quote","resolver","memoized","args","cache","other","tag","isObjectLike","set","lodash_set","baseGet","get","defaultValue","lodash_get","FormContextInjectionKey","createFormContext","initial","initialReadonly","ref","errors","touched","processing","readonly","touch","lodashSet","lodashGet","fill","setModelWithContext","ctx","getModelFromContext","LARGE_ARRAY_SIZE","argsTag","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","cloneableTags","freeExports","exports","freeModule","module","moduleExports","addMapEntry","pair","addSetEntry","arrayEach","iteratee","arrayPush","values","offset","arrayReduce","accumulator","initAccum","baseTimes","n","mapToArray","overArg","transform","arg","setToArray","Buffer","Uint8Array","getPrototype","objectCreate","propertyIsEnumerable","nativeGetSymbols","nativeIsBuffer","nativeKeys","DataView","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolValueOf","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArguments","skipIndexes","baseAssign","source","copyObject","keys","baseClone","isDeep","isFull","stack","isArr","initCloneArray","copyArray","getTag","isFunc","isBuffer","cloneBuffer","initCloneObject","copySymbols","initCloneByTag","stacked","props","getAllKeys","subValue","baseCreate","proto","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","baseKeys","isPrototype","buffer","cloneArrayBuffer","arrayBuffer","cloneDataView","dataView","cloneMap","cloneFunc","cloneRegExp","regexp","cloneSet","cloneSymbol","symbol","cloneTypedArray","typedArray","getSymbols","stubArray","Ctor","ctorString","cloneDeep","isArrayLikeObject","isArrayLike","isLength","stubFalse","FormControllerComponent","defineComponent","slots","expose","element","lodashCloneDeep","toValue","http","submit","handleSubmit","nextTick","watch","provide","h","el","StackedViewResolverInjectionKey","StackedViewInjectionKey","StackedViewDepthInjectionKey","StackedViewParentInjectionKey","StackedViewLocationInjectionKey","StackedViewQueryInjectionKey","wrap","item","useViewResolver","useViewStack","view","useViewDepth","RouterViewComponent","depth","computed","_a","query","component","viewProps","children","child","layout","RouterLinkComponent","attrs","pending","active","target","explicit","implicit","as","specific","onClick","shouldInterceptEvent","href","isCrossOriginHref","currentOrigin","targetOrigin","ToastRegistryInjectionKey","useToasts","toasts","ToastControllerComponent","ToastComponent","timeout","close","toast","onMounted","onBeforeUnmount","PasswordConfirmationControllerComponent","original","open","onPasswordConfirm","options","res","cancel","trans","makeReplacements","transChoice","choose","translation","line","segments","extract","stripConditions","pluralIndex","getPluralIndex","part","extractFromString","regex","matches","condition","from","to","prev","uri","params","hash","base","attachSearchParameters","search","appendSearchParameter","toRaw","arrValue","arrIndex","route","build","localizeName","lang","replaceRouteParameters","param","binding","makeMap","str","val","EMPTY_OBJ","NOOP","isOn","isString","isPromise","cacheStringFunction","fn","hyphenateRE","hyphenate","_globalThis","getGlobalThis","normalizeStyle","i","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","stringifyStyle","styles","normalizedKey","normalizeClass","SVG_TAGS","VOID_TAGS","isSVGTag","isVoidTag","specialBooleanAttrs","isBooleanAttr","includeBooleanAttr","unsafeAttrCharRE","attrValidationCache","isSSRSafeAttrName","isUnsafe","propsToAttrMap","isRenderableAttrValue","escapeRE","escapeHtml","escaped","commentStripRE","escapeHtmlComment","src","shouldIgnoreProp","ssrRenderAttrs","ssrRenderClass","ssrRenderStyle","ssrRenderDynamicAttr","attrKey","raw","ensureValidVNode","ssrUtils","ssrRenderTeleport","parentPush","contentRenderFn","disabled","parentComponent","context","ssrContextKey","teleportBuffers","targetBuffer","bufferIndex","teleportContent","getBuffer","push","createBuffer","observed","isRef","r","pushWarningContext$1","vnode","popWarningContext$1","isWarning","warn$1","msg","instance","appWarnHandler","trace","getComponentTrace","callWithErrorHandling","_b","formatComponentName","warnArgs","formatTrace","currentVNode","normalizedStack","last","parentInstance","logs","formatTraceEntry","recurseCount","postfix","isRoot","formatProps","formatProp","ErrorTypeStrings","err","handleError","throwInDev","contextVNode","errorHandler","throwUnhandledErrorInProduction","cur","exposedInstance","errorInfo","errorCapturedHooks","logError","throwInProd","info","devtools","setDevtoolsHook","hook","newHook","g","registerGlobalSetter","setter","setters","v","classifyRE","classify","c","getComponentName","Component","includeInferred","inferFromRegistry","registry","ssrCompile","template","createComponentInstance","setCurrentRenderingInstance","setupComponent","renderComponentRoot","normalizeVNode","pushWarningContext","popWarningContext","appendable","isStringItem","renderComponentVNode","slotScopeId","hasAsyncSetup","prefetches","prefetch","renderComponentSubTree","comp","renderVNode","ssrRender","hasCloned","scopeId","parent","slotScopeIdList","componentName","warn$2","shapeFlag","dirs","applySSRDirectives","Text","Comment","Static","Fragment","renderVNodeChildren","renderElementVNode","renderTeleportVNode","openTag","curParent","curVnode","hasChildrenOverride","rawProps","toMerge","getSSRProps","mergeProps","push2","isVNode$1","nestedUnrollBuffer","parentRet","startIndex","unrollBufferSync$1","nestedItem","unrollBuffer$1","renderToString","input","createApp","createVNode","resolveTeleports","unwatch","isVNode","initDirectivesForSSR","RouterComponent","buildState","update","handlePopStateEvent","createFoundationController","setup","isServer","readInitialState","app","confirmation","createConfirmation","config","confirm","factory","configOrCallback","useCurrentConfirmation","useConfirmation","useFormApi","useFormContext","usePersistentFormContext","useViewLocation","useViewParent","useViewParentLocation","useViewQuery","blank","filled","b","nestedSetRoot","node","nestedSetChildren","nestedSetAncestors","nestedSetDescendants","ToastKind","createOtherSoftwareFoundation"],"mappings":";;;;AAKO,MAAMA,GAAS;AAAA,EAWpB,YAAYC,GAAqB;AAVd,IAAAC,EAAA;AAEH,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAKd,QAFA,KAAK,MAAMD,GAEP,KAAK,IAAI,kBAAkB,gBAAgB;AACvC,YAAA,IAAI,MAAM,uCAAuC;AAGpD,SAAA,SAAS,KAAK,IAAI,QACvB,KAAK,UAAW,KAAK,IAAI,UAAU,OAAO,KAAK,IAAI,SAAS,KACvD,KAAA,OAAO,CAAC,KAAK,SACb,KAAA,UAAU,KAAK,IAAI,UACnB,KAAA,UAAU,KAAK,IAAI,YAExB,KAAK,UAAU,CAAC,CAAC,KAAK,IAAI,kBAAkB,WAAW,GACvD,KAAK,MAAM,CAAC,CAAC,KAAK,IAAI,kBAAkB,OAAO;AAAA,EAAA;AAEnD;AAEO,MAAME,WAAyBH,GAAS;AAAA,EAU7C,YAAYC,GAAqB;AAC/B,UAAMA,CAAG;AAVK,IAAAC,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAKd,QAAIE,IAAO,KAAK,MAAM,KAAK,IAAI,QAAQ;AAEvC,SAAK,YAAYA,EAAK,WACtB,KAAK,gBAAgBA,EAAK,eAC1B,KAAK,WAAWA,EAAK,UACrB,KAAK,YAAYA,EAAK,WACtB,KAAK,WAAWA,EAAK,UACrB,KAAK,QAAQA,EAAK,OAClB,KAAK,SAASA,EAAK,QACnB,KAAK,SAASA,EAAK;AAAA,EAAA;AAEvB;ACtDa,MAAAC,KAA4B,OAAO,eAAe,GAClDC,KAAkC,OAAO,qBAAqB,GAC9DC,KAAqB,OAAO,oBAAoB,GAChDC,KAAiB,OAAO,gBAAgB,GACxCC,KAA2B,OAAO,cAAc;AAEtD,SAASC,KAAe;AACzB,MAAAC,IAAYC,EAAOJ,EAAc;AAErC,MAAI,CAACG;AACG,UAAA,IAAI,MAAM,2CAA2C;AAGtD,SAAAA;AACT;AAEO,SAASE,KAAmB;AAC7B,MAAAC,IAAgBF,EAAOL,EAAkB;AAE7C,MAAI,CAACO;AACG,UAAA,IAAI,MAAM,8CAA8C;AAGzD,SAAAA;AACT;AAEO,SAASC,KAAc;AACxB,MAAAC,IAAWJ,EAAOP,EAAyB;AAE/C,MAAI,CAACW;AACG,UAAA,IAAI,MAAM,yCAAyC;AAGpD,SAAAA;AACT;AAEO,SAASC,KAAoB;AAC9B,MAAAC,IAAYN,EAAON,EAA+B;AAEtD,MAAI,CAACY;AACG,UAAA,IAAI,MAAM,gDAAgD;AAG3D,SAAAA;AACT;AAEO,SAASC,KAAkB;AAC5B,MAAAC,IAAUR,EAAOH,EAAwB;AAE7C,MAAI,CAACW;AACG,UAAA,IAAI,MAAM,8CAA8C;AAGzD,SAAA,EAAE,QAAQA,EAAQ;AAC3B;AAEgB,SAAAC,GAAYC,GAA8BC,GAAyC;AACjG,SAAI,UAAUA,IACRA,EAAM,SACJD,EAAQ,QACVA,EAAQ,QAAQD,GAAYC,EAAQ,OAAOC,EAAM,KAAK,IAEtDD,EAAQ,QAAQC,EAAM,OAGjB,EAAE,GAAGD,EAAQ,KAGf,EAAE,GAAGA,EAAQ,IAGf,EAAE,GAAGC,EAAM;AACpB;ACtEO,MAAMC,GAAQ;AAAA,EAWnB,YAAYC,GAAgBC,GAAaC,IAAa,QAAWT,IAAuB,QAAW;AAVzF,IAAAhB,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAOH,SAAA,MAAM,IAAI,eAAe,GAC9B,KAAK,SAASuB,GACd,KAAK,MAAMC,GACX,KAAK,OAAOC,GACZ,KAAK,YAAYT;AAAA,EAAA;AAAA,EATnB,OAAO,KAAKO,GAAgBC,GAAaC,IAAa,QAAWT,IAAuB,QAAW;AACjG,WAAO,IAAIM,GAAQC,GAAQC,GAAKC,GAAMT,CAAS,EAAE,KAAK;AAAA,EAAA;AAAA,EAWjD,OAAkC;AACvC,WAAO,IAAI,QAAQ,CAACU,GAASC,MAAW;AAOtC,UANA,KAAK,IAAI,KAAK,KAAK,QAAQ,KAAK,KAAK,EAAI,GAEpC,KAAA,IAAI,iBAAiB,YAAY,UAAU,GAC3C,KAAA,IAAI,iBAAiB,kBAAkB,MAAM,GAClD,KAAK,IAAI,iBAAiB,gBAAgB,KAAK,WAAW,YAAY,CAAC,GAEnE,KAAK;AACP,aAAK,IAAI,iBAAiB,qBAAqB,KAAK,SAAS;AAAA;AAEvD,cAAA,IAAI,MAAM,oBAAoB;AAGjC,WAAA,IAAI,SAAS,MAAM;AACtB,QAAI,KAAK,IAAI,eAAe,eAAe,QAAQ,KAAK,IAAI,WACtD,KAAK,IAAI,SAAS,OAAO,KAAK,IAAI,UAAU,MAC1C,KAAK,IAAI,WAAW,MACtBA,EAAO,IAAI1B,GAAiB,KAAK,GAAG,CAAC,IAErC0B,EAAO,IAAI7B,GAAS,KAAK,GAAG,CAAC,IAG/B4B,EAAQ,IAAIzB,GAAiB,KAAK,GAAG,CAAC;AAAA,MAG5C,GAEK,KAAA,IAAI,UAAU,MAAM;AACvB,QAAA0B,EAAO,IAAI7B,GAAS,KAAK,GAAG,CAAC;AAAA,MAC/B,GAEA,KAAK,IAAI,KAAK,KAAK,UAAU,KAAK,IAAI,CAAC;AAAA,IAAA,CACxC;AAAA,EAAA;AAAA,EAGO,UAAU2B,GAAW;AAKzB,WAJAA,aAAgB,QAAQA,aAAgB,eAAeA,aAAgB,YAAYA,aAAgB,mBAInG,OAAOA,KAAS,WACXA,IAGLA,MAAS,OACJ,QAGJ,KAAA,IAAI,iBAAiB,gBAAgB,gCAAgC,GAEnE,KAAK,UAAUA,CAAI;AAAA,EAAA;AAAA,EAGlB,WAAWG,GAAsB;AACnC,UAAAC,IAAQ,SAAS,OAAO,MAAM,IAAI,OAAO,eAAeD,IAAO,WAAW,CAAC;AAEjF,WAAQC,IAAQ,mBAAmBA,EAAM,CAAC,CAAC,IAAI;AAAA,EAAA;AAEnD;ACpFO,MAAMC,KAAa;AAAA,EACxB,OAAO;AAAA,EACP,UAAU;AAAA,EAEV,KAAKC,GAA8C;AAC7C,IAAA,OAAOA,KAAS,aAClBA,IAAO,kGAAkG,KAAK,UAAUA,CAAI,CAAC;AAGzH,UAAAC,IAAO,SAAS,cAAc,MAAM;AAC1C,IAAAA,EAAK,YAAYD,GACZC,EAAA,iBAAiB,GAAG,EAAE,QAAQ,CAACC,MAAMA,EAAE,aAAa,UAAU,MAAM,CAAC,GAErE,KAAA,QAAQ,SAAS,cAAc,QAAQ,GACvC,KAAA,MAAM,MAAM,UAAU,QACtB,KAAA,MAAM,MAAM,QAAQ,QACpB,KAAA,MAAM,MAAM,SAAS,UACrB,KAAA,MAAM,MAAM,WAAW,QACvB,KAAA,MAAM,MAAM,YAAY,UACxB,KAAA,MAAM,MAAM,UAAU,QACtB,KAAA,MAAM,MAAM,YAAY,cACxB,KAAA,MAAM,MAAM,SAAS,QACrB,KAAA,MAAM,MAAM,kBAAkB,sBAC9B,KAAA,MAAM,MAAM,iBAAiB,kBAClC,KAAK,MAAM,iBAAiB,SAAS,MAAM,KAAK,MAAM;AAEhD,UAAAC,IAAS,SAAS,cAAc,QAAQ;AAW1C,QAVJA,EAAO,MAAM,kBAAkB,SAC/BA,EAAO,MAAM,eAAe,UAC5BA,EAAO,MAAM,SAAS,QACtBA,EAAO,MAAM,QAAQ,QACrBA,EAAO,MAAM,SAAS,QACjB,KAAA,MAAM,YAAYA,CAAM,GAEpB,SAAA,KAAK,QAAQ,KAAK,KAAK,GACvB,SAAA,KAAK,MAAM,WAAW,UAE3B,CAACA,EAAO;AACJ,YAAA,IAAI,MAAM,uBAAuB;AAGlC,IAAAA,EAAA,cAAc,SAAS,KAAK,GACnCA,EAAO,cAAc,SAAS,MAAMF,EAAK,SAAS,GAC3CE,EAAA,cAAc,SAAS,MAAM,GAEpC,KAAK,WAAW,KAAK,aAAa,KAAK,IAAI,GAE3C,KAAK,MAAM,UAAU,GAEZ,SAAA,iBAAiB,WAAW,KAAK,QAAQ;AAAA,EACpD;AAAA,EAEA,OAAa;AACX,SAAK,MAAO,YAAY,IACxB,KAAK,QAAQ,QACJ,SAAA,KAAK,MAAM,WAAW,WACtB,SAAA,oBAAoB,WAAW,KAAK,QAAS;AAAA,EACxD;AAAA,EAEA,aAAaC,GAA4B;AACnC,IAAAA,EAAM,QAAQ,YAChB,KAAK,KAAK;AAAA,EACZ;AAEJ,GC3DMC,IAAoC,CAAC,GAE9BC,KAAW;AAAA,EAEtB,iBAAiBT,GAAiBU,GAAwB;AACpD,IAAAF,EAAcR,CAAI,IACNQ,EAAAR,CAAI,EAAE,KAAKU,CAAQ,IAEnBF,EAAAR,CAAI,IAAI,CAACU,CAAQ;AAAA,EAEnC;AAAA,EAEA,oBAAoBV,GAAiBU,GAAwB;AACvD,IAACF,EAAcR,CAAI,MAIvBQ,EAAcR,CAAI,IAAIQ,EAAcR,CAAI,EAAE,OAAO,CAACW,MACzCA,MAAYD,CACpB,GAEGF,EAAcR,CAAI,EAAE,WAAW,KACjC,OAAOQ,EAAcR,CAAI;AAAA,EAE7B;AAAA,EAEA,SAAYA,GAAiBO,GAA0B;AACjD,WAAAC,EAAcR,CAAI,KACpBQ,EAAcR,CAAI,EAAE,QAAQ,CAACW,MAAYA,EAAQJ,CAAK,CAAC,GAGlDA;AAAA,EAAA;AAGX;ACxBO,SAASK,KAAgB;AAC9B,QAAMC,IAAQxB,GAAgB,GACxBD,IAAYD,GAAkB;AAEpC,iBAAe2B,EAASnB,GAAgBC,GAAa,EAAE,MAAAtB,IAAO,QAAW,gBAAAyC,IAAiB,IAAO,SAAAC,IAAU,GAAA,IAAuB,CAAA,GAAI;AAC3H,oBAAA,KAAK,UAAU,IAAI,aAAa,GAElC,MAAMtB,GAAQ,KAAKC,GAAQC,GAAKtB,GAAMc,EAAU,KAAK,EAAE,KAAK,OAAO6B,MACjE,MAAMJ,EAAM,OAAOI,CAAQ,EAAE,KAAK,CAACxB,MACpCwB,EAAS,WACJC,EAAuBD,EAAS,QAAQ,IAG7CA,EAAS,MACJ,QAAQ,QAAQA,EAAS,GAAG,KAGhCF,KACiBI,EAAA,GAGlBH,IACFI,EAAoB3B,CAAK,IAEzB4B,EAAiB5B,CAAK,GAGjB,QAAQ,QAAQwB,CAAQ,EAChC,CACF,EAAE,MAAM,OAAOK,MACVA,aAAiBjD,KACZ,MAAMwC,EAAM,OAAOS,CAAK,EAAE,KAAK,MAAM,QAAQ,OAAOA,CAAK,CAAC,IAG/DA,EAAM,WAAW,OACVb,GAAA,SAAS,oBAAoB,EAAE,QAAAd,GAAQ,KAAAC,GAAK,SAAS,EAAE,MAAAtB,GAAM,gBAAAyC,GAAgB,SAAAC,EAAQ,EAAA,CAAG,GAE1F,QAAQ,OAAOM,CAAK,MAG7B,QAAQ,MAAMA,CAAK,GAEf,aAAaA,EAAM,WACVpB,GAAA,KAAKoB,EAAM,OAAO,GAGxB,QAAQ,OAAOA,CAAK,EAC5B,EAAE,QAAQ,MAAM;AACN,eAAA,KAAK,UAAU,OAAO,aAAa;AAAA,IAAA,CAC7C;AAAA,EAAA;AAGH,WAASD,EAAiBR,GAAc;AACtC,WAAO,QAAQ,UAAUA,GAAO,IAAIA,EAAM,QAAQ;AAAA,EAAA;AAGpD,WAASO,EAAoBP,GAAc;AACzC,WAAO,QAAQ,aAAaA,GAAO,IAAIA,EAAM,QAAQ;AAAA,EAAA;AAGvD,WAASM,IAAsB;AACtB,WAAA,OAAO,GAAG,CAAC;AAAA,EAAA;AAGpB,iBAAeD,EAAuBK,GAA0B;AAC9D,WAAIA,EAAS,SACJ,MAAM,IAAI,QAAQ,MAAM;AACtB,aAAA,SAAS,OAAOA,EAAS;AAAA,IAAA,CACjC,IAGI,MAAMT,EAAS,OAAOS,EAAS,QAAQ;AAAA,MAC5C,gBAAgB;AAAA,MAChB,SAAS;AAAA,IAAA,CACV;AAAA,EAAA;AAGI,SAAA;AAAA,IACL,UAAAT;AAAA,IAEA,KAAK,eAAgBlB,GAAa;AACzB,aAAA,MAAMkB,EAAS,OAAOlB,CAAG;AAAA,IAClC;AAAA,IAEA,MAAM,eAAgBA,GAAatB,IAAyB,QAAW;AAC9D,aAAA,MAAMwC,EAAS,QAAQlB,GAAK,EAAE,MAAAtB,GAAM,gBAAgB,IAAM;AAAA,IACnE;AAAA,IAEA,OAAO,eAAgBsB,GAAatB,IAAyB,QAAW;AAC/D,aAAA,MAAMwC,EAAS,SAASlB,GAAK,EAAE,MAAAtB,GAAM,gBAAgB,IAAM;AAAA,IACpE;AAAA,IAEA,KAAK,eAAgBsB,GAAatB,IAAyB,QAAW;AAC7D,aAAA,MAAMwC,EAAS,OAAOlB,GAAK,EAAE,MAAAtB,GAAM,gBAAgB,IAAM;AAAA,IAClE;AAAA,IAEA,QAAQ,eAAgBsB,GAAatB,IAAyB,QAAW;AAChE,aAAA,MAAMwC,EAAS,UAAUlB,GAAK,EAAE,MAAAtB,GAAM,gBAAgB,IAAM;AAAA,IAAA;AAAA,EAEvE;AACF;;;;;;;;;ACzGA,MAAIkD,IAAkB,uBAGlBC,IAAiB,6BAIjBC,IAAmB,kBAGnBC,IAAU,qBACVC,IAAS,8BACTC,IAAY,mBAGZC,IAAe,oDACfC,IAAgB,SAChBC,IAAe,OACfC,IAAa,oGAMbC,IAAe,uBAGfC,IAAe,YAGfC,IAAe,+BAGfC,IAAW,oBAGXC,IAAa,OAAOC,KAAU,YAAYA,KAAUA,EAAO,WAAW,UAAUA,GAGhFC,IAAW,OAAO,QAAQ,YAAY,QAAQ,KAAK,WAAW,UAAU,MAGxEC,KAAOH,KAAcE,KAAY,SAAS,aAAa,EAAG;AAU9D,WAASE,GAASC,GAAQC,GAAK;AAC7B,WAAOD,KAAU,OAAO,SAAYA,EAAOC,CAAG;AAAA,EAChD;AASA,WAASC,GAAaC,GAAO;AAG3B,QAAIC,IAAS;AACb,QAAID,KAAS,QAAQ,OAAOA,EAAM,YAAY;AAC5C,UAAI;AACF,QAAAC,IAAS,CAAC,EAAED,IAAQ;AAAA,MACrB,QAAW;AAAA,MAAA;AAEd,WAAOC;AAAA,EACT;AAGA,MAAIC,KAAa,MAAM,WACnBC,KAAY,SAAS,WACrBC,KAAc,OAAO,WAGrBC,IAAaV,GAAK,oBAAoB,GAGtCW,KAAc,WAAW;AAC3B,QAAIC,IAAM,SAAS,KAAKF,KAAcA,EAAW,QAAQA,EAAW,KAAK,YAAY,EAAE;AACvF,WAAOE,IAAO,mBAAmBA,IAAO;AAAA,EAC1C,KAGIC,KAAeL,GAAU,UAGzBM,KAAiBL,GAAY,gBAO7BM,KAAiBN,GAAY,UAG7BO,KAAa;AAAA,IAAO,MACtBH,GAAa,KAAKC,EAAc,EAAE,QAAQrB,GAAc,MAAM,EAC7D,QAAQ,0DAA0D,OAAO,IAAI;AAAA,EAC/E,GAGGwB,KAASjB,GAAK,QACdkB,IAASX,GAAW,QAGpBY,KAAMC,GAAUpB,IAAM,KAAK,GAC3BqB,IAAeD,GAAU,QAAQ,QAAQ,GAGzCE,IAAcL,KAASA,GAAO,YAAY,QAC1CM,KAAiBD,IAAcA,EAAY,WAAW;AAS1D,WAASE,EAAKC,GAAS;AACrB,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASC,KAAY;AACnB,SAAK,WAAWR,IAAeA,EAAa,IAAI,IAAI,CAAE;AAAA,EACxD;AAYA,WAASS,EAAW3B,GAAK;AACvB,WAAO,KAAK,IAAIA,CAAG,KAAK,OAAO,KAAK,SAASA,CAAG;AAAA,EAClD;AAWA,WAAS4B,GAAQ5B,GAAK;AACpB,QAAItE,IAAO,KAAK;AAChB,QAAIwF,GAAc;AAChB,UAAIf,IAASzE,EAAKsE,CAAG;AACrB,aAAOG,MAAWtB,IAAiB,SAAYsB;AAAA,IACnD;AACE,WAAOQ,GAAe,KAAKjF,GAAMsE,CAAG,IAAItE,EAAKsE,CAAG,IAAI;AAAA,EACtD;AAWA,WAAS6B,EAAQ7B,GAAK;AACpB,QAAItE,IAAO,KAAK;AAChB,WAAOwF,IAAexF,EAAKsE,CAAG,MAAM,SAAYW,GAAe,KAAKjF,GAAMsE,CAAG;AAAA,EAC/E;AAYA,WAAS8B,EAAQ9B,GAAKE,GAAO;AAC3B,QAAIxE,IAAO,KAAK;AAChB,WAAAA,EAAKsE,CAAG,IAAKkB,KAAgBhB,MAAU,SAAarB,IAAiBqB,GAC9D;AAAA,EACT;AAGA,EAAAmB,EAAK,UAAU,QAAQK,IACvBL,EAAK,UAAU,SAAYM,GAC3BN,EAAK,UAAU,MAAMO,IACrBP,EAAK,UAAU,MAAMQ,GACrBR,EAAK,UAAU,MAAMS;AASrB,WAASC,EAAUT,GAAS;AAC1B,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASO,KAAiB;AACxB,SAAK,WAAW,CAAE;AAAA,EACpB;AAWA,WAASC,GAAgBjC,GAAK;AAC5B,QAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,QAAIuB,IAAQ;AACV,aAAO;AAET,QAAIY,IAAYzG,EAAK,SAAS;AAC9B,WAAI6F,KAASY,IACXzG,EAAK,IAAK,IAEVqF,EAAO,KAAKrF,GAAM6F,GAAO,CAAC,GAErB;AAAA,EACT;AAWA,WAASa,GAAapC,GAAK;AACzB,QAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,WAAOuB,IAAQ,IAAI,SAAY7F,EAAK6F,CAAK,EAAE,CAAC;AAAA,EAC9C;AAWA,WAASc,EAAarC,GAAK;AACzB,WAAOkC,GAAa,KAAK,UAAUlC,CAAG,IAAI;AAAA,EAC5C;AAYA,WAASsC,GAAatC,GAAKE,GAAO;AAChC,QAAIxE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,WAAIuB,IAAQ,IACV7F,EAAK,KAAK,CAACsE,GAAKE,CAAK,CAAC,IAEtBxE,EAAK6F,CAAK,EAAE,CAAC,IAAIrB,GAEZ;AAAA,EACT;AAGA,EAAA6B,EAAU,UAAU,QAAQC,IAC5BD,EAAU,UAAU,SAAYE,IAChCF,EAAU,UAAU,MAAMK,IAC1BL,EAAU,UAAU,MAAMM,GAC1BN,EAAU,UAAU,MAAMO;AAS1B,WAASC,EAASjB,GAAS;AACzB,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASe,KAAgB;AACvB,SAAK,WAAW;AAAA,MACd,MAAQ,IAAInB;AAAA,MACZ,KAAO,KAAKL,MAAOe;AAAA,MACnB,QAAU,IAAIV;AAAA,IACf;AAAA,EACH;AAWA,WAASoB,GAAezC,GAAK;AAC3B,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,OAAUA,CAAG;AAAA,EAC5C;AAWA,WAAS2C,GAAY3C,GAAK;AACxB,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,EACtC;AAWA,WAAS4C,GAAY5C,GAAK;AACxB,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,EACtC;AAYA,WAAS6C,GAAY7C,GAAKE,GAAO;AAC/B,WAAAwC,GAAW,MAAM1C,CAAG,EAAE,IAAIA,GAAKE,CAAK,GAC7B;AAAA,EACT;AAGA,EAAAqC,EAAS,UAAU,QAAQC,IAC3BD,EAAS,UAAU,SAAYE,IAC/BF,EAAS,UAAU,MAAMI,IACzBJ,EAAS,UAAU,MAAMK,IACzBL,EAAS,UAAU,MAAMM;AAYzB,WAASC,GAAY/C,GAAQC,GAAKE,GAAO;AACvC,QAAI6C,IAAWhD,EAAOC,CAAG;AACzB,KAAI,EAAEW,GAAe,KAAKZ,GAAQC,CAAG,KAAKgD,GAAGD,GAAU7C,CAAK,MACvDA,MAAU,UAAa,EAAEF,KAAOD,QACnCA,EAAOC,CAAG,IAAIE;AAAA,EAElB;AAUA,WAASgC,GAAae,GAAOjD,GAAK;AAEhC,aADIwB,IAASyB,EAAM,QACZzB;AACL,UAAIwB,GAAGC,EAAMzB,CAAM,EAAE,CAAC,GAAGxB,CAAG;AAC1B,eAAOwB;AAGX,WAAO;AAAA,EACT;AAUA,WAAS0B,GAAahD,GAAO;AAC3B,QAAI,CAACiD,GAASjD,CAAK,KAAKkD,GAASlD,CAAK;AACpC,aAAO;AAET,QAAImD,IAAWC,GAAWpD,CAAK,KAAKD,GAAaC,CAAK,IAAKW,KAAarB;AACxE,WAAO6D,EAAQ,KAAKE,GAASrD,CAAK,CAAC;AAAA,EACrC;AAYA,WAASsD,GAAQzD,GAAQ0D,GAAMvD,GAAOwD,GAAY;AAChD,QAAI,CAACP,GAASpD,CAAM;AAClB,aAAOA;AAET,IAAA0D,IAAOE,GAAMF,GAAM1D,CAAM,IAAI,CAAC0D,CAAI,IAAIG,GAASH,CAAI;AAOnD,aALIlC,IAAQ,IACRC,IAASiC,EAAK,QACdtB,KAAYX,IAAS,GACrBqC,KAAS9D,GAEN8D,MAAU,QAAQ,EAAEtC,IAAQC,KAAQ;AACzC,UAAIxB,KAAM8D,GAAML,EAAKlC,CAAK,CAAC,GACvBwC,KAAW7D;AAEf,UAAIqB,KAASY,IAAW;AACtB,YAAIY,IAAWc,GAAO7D,EAAG;AACzB,QAAA+D,KAA4D,QACxDA,OAAa,WACfA,KAAWZ,GAASJ,CAAQ,IACxBA,IACCiB,EAAQP,EAAKlC,IAAQ,CAAC,CAAC,IAAI,CAAE,IAAG;MAE7C;AACI,MAAAuB,GAAYe,IAAQ7D,IAAK+D,EAAQ,GACjCF,KAASA,GAAO7D,EAAG;AAAA,IACvB;AACE,WAAOD;AAAA,EACT;AAUA,WAASkE,GAAa/D,GAAO;AAE3B,QAAI,OAAOA,KAAS;AAClB,aAAOA;AAET,QAAIgE,EAAShE,CAAK;AAChB,aAAOkB,KAAiBA,GAAe,KAAKlB,CAAK,IAAI;AAEvD,QAAIC,IAAUD,IAAQ;AACtB,WAAQC,KAAU,OAAQ,IAAID,KAAU,SAAa,OAAOC;AAAA,EAC9D;AASA,WAASyD,GAAS1D,GAAO;AACvB,WAAOiE,GAAQjE,CAAK,IAAIA,IAAQkE,GAAalE,CAAK;AAAA,EACpD;AAUA,WAASwC,GAAW2B,GAAKrE,GAAK;AAC5B,QAAItE,IAAO2I,EAAI;AACf,WAAOC,GAAUtE,CAAG,IAChBtE,EAAK,OAAOsE,KAAO,WAAW,WAAW,MAAM,IAC/CtE,EAAK;AAAA,EACX;AAUA,WAASuF,GAAUlB,GAAQC,GAAK;AAC9B,QAAIE,IAAQJ,GAASC,GAAQC,CAAG;AAChC,WAAOkD,GAAahD,CAAK,IAAIA,IAAQ;AAAA,EACvC;AAUA,WAAS8D,EAAQ9D,GAAOsB,GAAQ;AAC9B,WAAAA,IAASA,KAAiB1C,GACnB,CAAC,CAAC0C,MACN,OAAOtB,KAAS,YAAYT,EAAS,KAAKS,CAAK,MAC/CA,IAAQ,MAAMA,IAAQ,KAAK,KAAKA,IAAQsB;AAAA,EAC7C;AAUA,WAASmC,GAAMzD,GAAOH,GAAQ;AAC5B,QAAIoE,GAAQjE,CAAK;AACf,aAAO;AAET,QAAIqE,IAAO,OAAOrE;AAClB,WAAIqE,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,aAChDrE,KAAS,QAAQgE,EAAShE,CAAK,IAC1B,KAEFf,EAAc,KAAKe,CAAK,KAAK,CAAChB,EAAa,KAAKgB,CAAK,KACzDH,KAAU,QAAQG,KAAS,OAAOH,CAAM;AAAA,EAC7C;AASA,WAASuE,GAAUpE,GAAO;AACxB,QAAIqE,IAAO,OAAOrE;AAClB,WAAQqE,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YACvErE,MAAU,cACVA,MAAU;AAAA,EACjB;AASA,WAASkD,GAASoB,GAAM;AACtB,WAAO,CAAC,CAAChE,MAAeA,MAAcgE;AAAA,EACxC;AASA,MAAIJ,KAAeK,GAAQ,SAASC,GAAQ;AAC1C,IAAAA,IAASC,EAASD,CAAM;AAExB,QAAIvE,IAAS,CAAE;AACf,WAAIf,EAAa,KAAKsF,CAAM,KAC1BvE,EAAO,KAAK,EAAE,GAEhBuE,EAAO,QAAQrF,GAAY,SAAShC,GAAOuH,GAAQC,GAAOH,GAAQ;AAChE,MAAAvE,EAAO,KAAK0E,IAAQH,EAAO,QAAQnF,GAAc,IAAI,IAAKqF,KAAUvH,CAAM;AAAA,IAC9E,CAAG,GACM8C;AAAA,EACT,CAAC;AASD,WAAS2D,GAAM5D,GAAO;AACpB,QAAI,OAAOA,KAAS,YAAYgE,EAAShE,CAAK;AAC5C,aAAOA;AAET,QAAIC,IAAUD,IAAQ;AACtB,WAAQC,KAAU,OAAQ,IAAID,KAAU,SAAa,OAAOC;AAAA,EAC9D;AASA,WAASoD,GAASiB,GAAM;AACtB,QAAIA,KAAQ,MAAM;AAChB,UAAI;AACF,eAAO9D,GAAa,KAAK8D,CAAI;AAAA,MAC9B,QAAW;AAAA,MAAA;AACZ,UAAI;AACF,eAAQA,IAAO;AAAA,MAChB,QAAW;AAAA,MAAA;AAAA,IAChB;AACE,WAAO;AAAA,EACT;AA8CA,WAASC,GAAQD,GAAMM,GAAU;AAC/B,QAAI,OAAON,KAAQ,cAAeM,KAAY,OAAOA,KAAY;AAC/D,YAAM,IAAI,UAAUlG,CAAe;AAErC,QAAImG,IAAW,WAAW;AACxB,UAAIC,IAAO,WACPhF,IAAM8E,IAAWA,EAAS,MAAM,MAAME,CAAI,IAAIA,EAAK,CAAC,GACpDC,IAAQF,EAAS;AAErB,UAAIE,EAAM,IAAIjF,CAAG;AACf,eAAOiF,EAAM,IAAIjF,CAAG;AAEtB,UAAIG,KAASqE,EAAK,MAAM,MAAMQ,CAAI;AAClC,aAAAD,EAAS,QAAQE,EAAM,IAAIjF,GAAKG,EAAM,GAC/BA;AAAA,IACR;AACD,WAAA4E,EAAS,QAAQ,KAAKN,GAAQ,SAASlC,MAChCwC;AAAA,EACT;AAGA,EAAAN,GAAQ,QAAQlC;AAkChB,WAASS,GAAG9C,GAAOgF,GAAO;AACxB,WAAOhF,MAAUgF,KAAUhF,MAAUA,KAASgF,MAAUA;AAAA,EAC1D;AAyBA,MAAIf,KAAU,MAAM;AAmBpB,WAASb,GAAWpD,GAAO;AAGzB,QAAIiF,IAAMhC,GAASjD,CAAK,IAAIU,GAAe,KAAKV,CAAK,IAAI;AACzD,WAAOiF,KAAOpG,KAAWoG,KAAOnG;AAAA,EAClC;AA2BA,WAASmE,GAASjD,GAAO;AACvB,QAAIqE,IAAO,OAAOrE;AAClB,WAAO,CAAC,CAACA,MAAUqE,KAAQ,YAAYA,KAAQ;AAAA,EACjD;AA0BA,WAASa,EAAalF,GAAO;AAC3B,WAAO,CAAC,CAACA,KAAS,OAAOA,KAAS;AAAA,EACpC;AAmBA,WAASgE,EAAShE,GAAO;AACvB,WAAO,OAAOA,KAAS,YACpBkF,EAAalF,CAAK,KAAKU,GAAe,KAAKV,CAAK,KAAKjB;AAAA,EAC1D;AAuBA,WAAS0F,EAASzE,GAAO;AACvB,WAAOA,KAAS,OAAO,KAAK+D,GAAa/D,CAAK;AAAA,EAChD;AA8BA,WAASmF,EAAItF,GAAQ0D,GAAMvD,GAAO;AAChC,WAAOH,KAAU,OAAOA,IAASyD,GAAQzD,GAAQ0D,GAAMvD,CAAK;AAAA,EAC9D;AAEA,SAAAoF,KAAiBD;;;;;;;;ACn9BjB,MAAIzG,IAAkB,uBAGlBC,IAAiB,6BAMjBE,IAAU,qBACVC,IAAS,8BACTC,IAAY,mBAGZC,IAAe,oDACfC,IAAgB,SAChBC,IAAe,OACfC,IAAa,oGAMbC,IAAe,uBAGfC,IAAe,YAGfC,IAAe,+BAGfE,IAAa,OAAOC,KAAU,YAAYA,KAAUA,EAAO,WAAW,UAAUA,GAGhFC,IAAW,OAAO,QAAQ,YAAY,QAAQ,KAAK,WAAW,UAAU,MAGxEC,IAAOH,KAAcE,KAAY,SAAS,aAAa,EAAG;AAU9D,WAASE,EAASC,GAAQC,GAAK;AAC7B,WAAOD,KAAU,OAAO,SAAYA,EAAOC,CAAG;AAAA,EAChD;AASA,WAASC,GAAaC,GAAO;AAG3B,QAAIC,IAAS;AACb,QAAID,KAAS,QAAQ,OAAOA,EAAM,YAAY;AAC5C,UAAI;AACF,QAAAC,IAAS,CAAC,EAAED,IAAQ;AAAA,MACrB,QAAW;AAAA,MAAA;AAEd,WAAOC;AAAA,EACT;AAGA,MAAIC,KAAa,MAAM,WACnBC,KAAY,SAAS,WACrBC,KAAc,OAAO,WAGrBC,KAAaV,EAAK,oBAAoB,GAGtCW,KAAc,WAAW;AAC3B,QAAIC,IAAM,SAAS,KAAKF,MAAcA,GAAW,QAAQA,GAAW,KAAK,YAAY,EAAE;AACvF,WAAOE,IAAO,mBAAmBA,IAAO;AAAA,EAC1C,KAGIC,IAAeL,GAAU,UAGzBM,KAAiBL,GAAY,gBAO7BM,KAAiBN,GAAY,UAG7BO,KAAa;AAAA,IAAO,MACtBH,EAAa,KAAKC,EAAc,EAAE,QAAQrB,GAAc,MAAM,EAC7D,QAAQ,0DAA0D,OAAO,IAAI;AAAA,EAC/E,GAGGwB,KAASjB,EAAK,QACdkB,KAASX,GAAW,QAGpBY,KAAMC,GAAUpB,GAAM,KAAK,GAC3BqB,IAAeD,GAAU,QAAQ,QAAQ,GAGzCE,KAAcL,KAASA,GAAO,YAAY,QAC1CM,IAAiBD,KAAcA,GAAY,WAAW;AAS1D,WAASE,EAAKC,GAAS;AACrB,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASC,KAAY;AACnB,SAAK,WAAWR,IAAeA,EAAa,IAAI,IAAI,CAAE;AAAA,EACxD;AAYA,WAASS,EAAW3B,GAAK;AACvB,WAAO,KAAK,IAAIA,CAAG,KAAK,OAAO,KAAK,SAASA,CAAG;AAAA,EAClD;AAWA,WAAS4B,GAAQ5B,GAAK;AACpB,QAAItE,IAAO,KAAK;AAChB,QAAIwF,GAAc;AAChB,UAAIf,IAASzE,EAAKsE,CAAG;AACrB,aAAOG,MAAWtB,IAAiB,SAAYsB;AAAA,IACnD;AACE,WAAOQ,GAAe,KAAKjF,GAAMsE,CAAG,IAAItE,EAAKsE,CAAG,IAAI;AAAA,EACtD;AAWA,WAAS6B,EAAQ7B,GAAK;AACpB,QAAItE,IAAO,KAAK;AAChB,WAAOwF,IAAexF,EAAKsE,CAAG,MAAM,SAAYW,GAAe,KAAKjF,GAAMsE,CAAG;AAAA,EAC/E;AAYA,WAAS8B,GAAQ9B,GAAKE,GAAO;AAC3B,QAAIxE,IAAO,KAAK;AAChB,WAAAA,EAAKsE,CAAG,IAAKkB,KAAgBhB,MAAU,SAAarB,IAAiBqB,GAC9D;AAAA,EACT;AAGA,EAAAmB,EAAK,UAAU,QAAQK,IACvBL,EAAK,UAAU,SAAYM,GAC3BN,EAAK,UAAU,MAAMO,IACrBP,EAAK,UAAU,MAAMQ,GACrBR,EAAK,UAAU,MAAMS;AASrB,WAASC,EAAUT,GAAS;AAC1B,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASO,IAAiB;AACxB,SAAK,WAAW,CAAE;AAAA,EACpB;AAWA,WAASC,EAAgBjC,GAAK;AAC5B,QAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,QAAIuB,IAAQ;AACV,aAAO;AAET,QAAIY,IAAYzG,EAAK,SAAS;AAC9B,WAAI6F,KAASY,IACXzG,EAAK,IAAK,IAEVqF,GAAO,KAAKrF,GAAM6F,GAAO,CAAC,GAErB;AAAA,EACT;AAWA,WAASa,GAAapC,GAAK;AACzB,QAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,WAAOuB,IAAQ,IAAI,SAAY7F,EAAK6F,CAAK,EAAE,CAAC;AAAA,EAC9C;AAWA,WAASc,GAAarC,GAAK;AACzB,WAAOkC,GAAa,KAAK,UAAUlC,CAAG,IAAI;AAAA,EAC5C;AAYA,WAASsC,GAAatC,GAAKE,GAAO;AAChC,QAAIxE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,WAAIuB,IAAQ,IACV7F,EAAK,KAAK,CAACsE,GAAKE,CAAK,CAAC,IAEtBxE,EAAK6F,CAAK,EAAE,CAAC,IAAIrB,GAEZ;AAAA,EACT;AAGA,EAAA6B,EAAU,UAAU,QAAQC,GAC5BD,EAAU,UAAU,SAAYE,GAChCF,EAAU,UAAU,MAAMK,IAC1BL,EAAU,UAAU,MAAMM,IAC1BN,EAAU,UAAU,MAAMO;AAS1B,WAASC,EAASjB,GAAS;AACzB,QAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,SADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,UAAIC,IAAQH,EAAQC,CAAK;AACzB,WAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACA;AASA,WAASe,KAAgB;AACvB,SAAK,WAAW;AAAA,MACd,MAAQ,IAAInB;AAAA,MACZ,KAAO,KAAKL,MAAOe;AAAA,MACnB,QAAU,IAAIV;AAAA,IACf;AAAA,EACH;AAWA,WAASoB,EAAezC,GAAK;AAC3B,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,OAAUA,CAAG;AAAA,EAC5C;AAWA,WAAS2C,GAAY3C,GAAK;AACxB,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,EACtC;AAWA,WAAS4C,GAAY5C,GAAK;AACxB,WAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,EACtC;AAYA,WAAS6C,GAAY7C,GAAKE,GAAO;AAC/B,WAAAwC,GAAW,MAAM1C,CAAG,EAAE,IAAIA,GAAKE,CAAK,GAC7B;AAAA,EACT;AAGA,EAAAqC,EAAS,UAAU,QAAQC,IAC3BD,EAAS,UAAU,SAAYE,GAC/BF,EAAS,UAAU,MAAMI,IACzBJ,EAAS,UAAU,MAAMK,IACzBL,EAAS,UAAU,MAAMM;AAUzB,WAASX,GAAae,GAAOjD,GAAK;AAEhC,aADIwB,IAASyB,EAAM,QACZzB;AACL,UAAIwB,GAAGC,EAAMzB,CAAM,EAAE,CAAC,GAAGxB,CAAG;AAC1B,eAAOwB;AAGX,WAAO;AAAA,EACT;AAUA,WAAS+D,GAAQxF,GAAQ0D,GAAM;AAC7B,IAAAA,IAAOE,GAAMF,GAAM1D,CAAM,IAAI,CAAC0D,CAAI,IAAIG,GAASH,CAAI;AAKnD,aAHIlC,IAAQ,GACRC,IAASiC,EAAK,QAEX1D,KAAU,QAAQwB,IAAQC;AAC/B,MAAAzB,IAASA,EAAO+D,GAAML,EAAKlC,GAAO,CAAC,CAAC;AAEtC,WAAQA,KAASA,KAASC,IAAUzB,IAAS;AAAA,EAC/C;AAUA,WAASmD,GAAahD,GAAO;AAC3B,QAAI,CAACiD,GAASjD,CAAK,KAAKkD,GAASlD,CAAK;AACpC,aAAO;AAET,QAAImD,IAAWC,GAAWpD,CAAK,KAAKD,GAAaC,CAAK,IAAKW,KAAarB;AACxE,WAAO6D,EAAQ,KAAKE,GAASrD,CAAK,CAAC;AAAA,EACrC;AAUA,WAAS+D,GAAa/D,GAAO;AAE3B,QAAI,OAAOA,KAAS;AAClB,aAAOA;AAET,QAAIgE,GAAShE,CAAK;AAChB,aAAOkB,IAAiBA,EAAe,KAAKlB,CAAK,IAAI;AAEvD,QAAIC,IAAUD,IAAQ;AACtB,WAAQC,KAAU,OAAQ,IAAID,KAAU,SAAa,OAAOC;AAAA,EAC9D;AASA,WAASyD,GAAS1D,GAAO;AACvB,WAAOiE,GAAQjE,CAAK,IAAIA,IAAQkE,EAAalE,CAAK;AAAA,EACpD;AAUA,WAASwC,GAAW2B,GAAKrE,GAAK;AAC5B,QAAItE,IAAO2I,EAAI;AACf,WAAOC,GAAUtE,CAAG,IAChBtE,EAAK,OAAOsE,KAAO,WAAW,WAAW,MAAM,IAC/CtE,EAAK;AAAA,EACX;AAUA,WAASuF,GAAUlB,GAAQC,GAAK;AAC9B,QAAIE,IAAQJ,EAASC,GAAQC,CAAG;AAChC,WAAOkD,GAAahD,CAAK,IAAIA,IAAQ;AAAA,EACvC;AAUA,WAASyD,GAAMzD,GAAOH,GAAQ;AAC5B,QAAIoE,GAAQjE,CAAK;AACf,aAAO;AAET,QAAIqE,IAAO,OAAOrE;AAClB,WAAIqE,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,aAChDrE,KAAS,QAAQgE,GAAShE,CAAK,IAC1B,KAEFf,EAAc,KAAKe,CAAK,KAAK,CAAChB,EAAa,KAAKgB,CAAK,KACzDH,KAAU,QAAQG,KAAS,OAAOH,CAAM;AAAA,EAC7C;AASA,WAASuE,GAAUpE,GAAO;AACxB,QAAIqE,IAAO,OAAOrE;AAClB,WAAQqE,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YACvErE,MAAU,cACVA,MAAU;AAAA,EACjB;AASA,WAASkD,GAASoB,GAAM;AACtB,WAAO,CAAC,CAAChE,MAAeA,MAAcgE;AAAA,EACxC;AASA,MAAIJ,IAAeK,GAAQ,SAASC,GAAQ;AAC1C,IAAAA,IAASC,GAASD,CAAM;AAExB,QAAIvE,IAAS,CAAE;AACf,WAAIf,EAAa,KAAKsF,CAAM,KAC1BvE,EAAO,KAAK,EAAE,GAEhBuE,EAAO,QAAQrF,GAAY,SAAShC,GAAOuH,GAAQC,GAAOH,GAAQ;AAChE,MAAAvE,EAAO,KAAK0E,IAAQH,EAAO,QAAQnF,GAAc,IAAI,IAAKqF,KAAUvH,CAAM;AAAA,IAC9E,CAAG,GACM8C;AAAA,EACT,CAAC;AASD,WAAS2D,GAAM5D,GAAO;AACpB,QAAI,OAAOA,KAAS,YAAYgE,GAAShE,CAAK;AAC5C,aAAOA;AAET,QAAIC,IAAUD,IAAQ;AACtB,WAAQC,KAAU,OAAQ,IAAID,KAAU,SAAa,OAAOC;AAAA,EAC9D;AASA,WAASoD,GAASiB,GAAM;AACtB,QAAIA,KAAQ,MAAM;AAChB,UAAI;AACF,eAAO9D,EAAa,KAAK8D,CAAI;AAAA,MAC9B,QAAW;AAAA,MAAA;AACZ,UAAI;AACF,eAAQA,IAAO;AAAA,MAChB,QAAW;AAAA,MAAA;AAAA,IAChB;AACE,WAAO;AAAA,EACT;AA8CA,WAASC,GAAQD,GAAMM,GAAU;AAC/B,QAAI,OAAON,KAAQ,cAAeM,KAAY,OAAOA,KAAY;AAC/D,YAAM,IAAI,UAAUlG,CAAe;AAErC,QAAImG,IAAW,WAAW;AACxB,UAAIC,IAAO,WACPhF,IAAM8E,IAAWA,EAAS,MAAM,MAAME,CAAI,IAAIA,EAAK,CAAC,GACpDC,IAAQF,EAAS;AAErB,UAAIE,EAAM,IAAIjF,CAAG;AACf,eAAOiF,EAAM,IAAIjF,CAAG;AAEtB,UAAIG,IAASqE,EAAK,MAAM,MAAMQ,CAAI;AAClC,aAAAD,EAAS,QAAQE,EAAM,IAAIjF,GAAKG,CAAM,GAC/BA;AAAA,IACR;AACD,WAAA4E,EAAS,QAAQ,KAAKN,GAAQ,SAASlC,MAChCwC;AAAA,EACT;AAGA,EAAAN,GAAQ,QAAQlC;AAkChB,WAASS,GAAG9C,GAAOgF,GAAO;AACxB,WAAOhF,MAAUgF,KAAUhF,MAAUA,KAASgF,MAAUA;AAAA,EAC1D;AAyBA,MAAIf,KAAU,MAAM;AAmBpB,WAASb,GAAWpD,GAAO;AAGzB,QAAIiF,IAAMhC,GAASjD,CAAK,IAAIU,GAAe,KAAKV,CAAK,IAAI;AACzD,WAAOiF,KAAOpG,KAAWoG,KAAOnG;AAAA,EAClC;AA2BA,WAASmE,GAASjD,GAAO;AACvB,QAAIqE,IAAO,OAAOrE;AAClB,WAAO,CAAC,CAACA,MAAUqE,KAAQ,YAAYA,KAAQ;AAAA,EACjD;AA0BA,WAASa,GAAalF,GAAO;AAC3B,WAAO,CAAC,CAACA,KAAS,OAAOA,KAAS;AAAA,EACpC;AAmBA,WAASgE,GAAShE,GAAO;AACvB,WAAO,OAAOA,KAAS,YACpBkF,GAAalF,CAAK,KAAKU,GAAe,KAAKV,CAAK,KAAKjB;AAAA,EAC1D;AAuBA,WAAS0F,GAASzE,GAAO;AACvB,WAAOA,KAAS,OAAO,KAAK+D,GAAa/D,CAAK;AAAA,EAChD;AA2BA,WAASsF,GAAIzF,GAAQ0D,GAAMgC,GAAc;AACvC,QAAItF,IAASJ,KAAU,OAAO,SAAYwF,GAAQxF,GAAQ0D,CAAI;AAC9D,WAAOtD,MAAW,SAAYsF,IAAetF;AAAA,EAC/C;AAEA,SAAAuF,KAAiBF;;;mCC95BJG,KAA0B,OAAO,aAAa;AAEpD,SAASC,GAAkBC,IAA+B,IAAIC,IAA2B,IAAO;AAC/F,QAAApK,IAAOqK,EAAIF,CAAO,GAClBG,IAASD,EAAI,EAAE,GACfE,IAAUF,EAAI,EAAE,GAChBG,IAAaH,EAAI,EAAK,GACtBI,IAAWJ,EAAID,CAAe;AAEpC,WAASM,EAAMhJ,GAAc;AACjB,IAAAiJ,GAAAJ,EAAQ,OAAO7I,GAAM,EAAI;AAAA,EAAA;AAG5B,WAAA8C,EAAM9C,GAAc8C,GAAY;AACvC,WAAOoG,GAAU5K,EAAK,OAAO0B,GAAM8C,CAAK;AAAA,EAAA;AAGjC,WAAAqG,EAAKnJ,GAAc8C,GAAY;AAC5B,IAAAmG,GAAA3K,EAAK,OAAO0B,GAAM8C,CAAK;AAAA,EAAA;AAG5B,SAAA;AAAA,IACL,MAAAxE;AAAA,IACA,QAAAsK;AAAA,IACA,SAAAC;AAAA,IACA,YAAAC;AAAA,IACA,UAAAC;AAAA,IACA,OAAAC;AAAA,IACA,OAAAlG;AAAA,IACA,MAAAqG;AAAA,EACF;AACF;AAIgB,SAAAC,GAAoBpJ,GAAwBqJ,GAAqCvG,GAAY;AAC3G,SAAI9C,KAAQqJ,MACVA,EAAI,MAAMrJ,CAAI,GACVqJ,EAAA,KAAKrJ,GAAM8C,CAAK,IAGfA;AACT;AAEgB,SAAAwG,GAAoBtJ,GAAwBqJ,GAAqCvG,GAAY;AAC3G,SAAI9C,KAAQqJ,IACHA,EAAI,MAAMrJ,GAAM8C,CAAK,IAGvBA;AACT;;;;;;AC5CA,QAAIyG,IAAmB,KAGnB9H,IAAiB,6BAGjBC,IAAmB,kBAGnB8H,IAAU,sBACVC,IAAW,kBACXC,IAAU,oBACVC,IAAU,iBACVC,IAAW,kBACXjI,IAAU,qBACVC,IAAS,8BACTiI,IAAS,gBACTC,IAAY,mBACZC,IAAY,mBACZC,IAAa,oBACbC,KAAY,mBACZC,KAAS,gBACTC,KAAY,mBACZtI,KAAY,mBACZuI,KAAa,oBAEbC,KAAiB,wBACjBC,IAAc,qBACdC,KAAa,yBACbC,KAAa,yBACbC,KAAU,sBACVC,KAAW,uBACXC,KAAW,uBACXC,KAAW,uBACXC,IAAkB,8BAClBC,KAAY,wBACZC,IAAY,wBAMZ7I,IAAe,uBAGf8I,KAAU,QAGV5I,IAAe,+BAGfC,KAAW,oBAGX4I,IAAgB,CAAE;AACtB,IAAAA,EAAczB,CAAO,IAAIyB,EAAcxB,CAAQ,IAC/CwB,EAAcZ,EAAc,IAAIY,EAAcX,CAAW,IACzDW,EAAcvB,CAAO,IAAIuB,EAActB,CAAO,IAC9CsB,EAAcV,EAAU,IAAIU,EAAcT,EAAU,IACpDS,EAAcR,EAAO,IAAIQ,EAAcP,EAAQ,IAC/CO,EAAcN,EAAQ,IAAIM,EAAcpB,CAAM,IAC9CoB,EAAcnB,CAAS,IAAImB,EAAclB,CAAS,IAClDkB,EAAchB,EAAS,IAAIgB,EAAcf,EAAM,IAC/Ce,EAAcd,EAAS,IAAIc,EAAcpJ,EAAS,IAClDoJ,EAAcL,EAAQ,IAAIK,EAAcJ,CAAe,IACvDI,EAAcH,EAAS,IAAIG,EAAcF,CAAS,IAAI,IACtDE,EAAcrB,CAAQ,IAAIqB,EAActJ,CAAO,IAC/CsJ,EAAcb,EAAU,IAAI;AAG5B,QAAI9H,KAAa,OAAOC,KAAU,YAAYA,KAAUA,EAAO,WAAW,UAAUA,GAGhFC,IAAW,OAAO,QAAQ,YAAY,QAAQ,KAAK,WAAW,UAAU,MAGxEC,IAAOH,MAAcE,KAAY,SAAS,aAAa,EAAG,GAG1D0I,IAA4CC,KAAW,CAACA,EAAQ,YAAYA,GAG5EC,KAAaF,KAAe,MAA6BG,KAAU,CAACA,EAAO,YAAYA,GAGvFC,KAAgBF,MAAcA,GAAW,YAAYF;AAUzD,aAASK,GAAYtE,GAAKuE,GAAM;AAE9B,aAAAvE,EAAI,IAAIuE,EAAK,CAAC,GAAGA,EAAK,CAAC,CAAC,GACjBvE;AAAA,IACT;AAUA,aAASwE,EAAYxD,GAAKnF,GAAO;AAE/B,aAAAmF,EAAI,IAAInF,CAAK,GACNmF;AAAA,IACT;AAWA,aAASyD,GAAU7F,GAAO8F,GAAU;AAIlC,eAHIxH,IAAQ,IACRC,IAASyB,IAAQA,EAAM,SAAS,GAE7B,EAAE1B,IAAQC,KACXuH,EAAS9F,EAAM1B,CAAK,GAAGA,GAAO0B,CAAK,MAAM;AAA7C;AAIF,aAAOA;AAAA,IACT;AAUA,aAAS+F,EAAU/F,GAAOgG,GAAQ;AAKhC,eAJI1H,IAAQ,IACRC,IAASyH,EAAO,QAChBC,IAASjG,EAAM,QAEZ,EAAE1B,IAAQC;AACf,QAAAyB,EAAMiG,IAAS3H,CAAK,IAAI0H,EAAO1H,CAAK;AAEtC,aAAO0B;AAAA,IACT;AAcA,aAASkG,GAAYlG,GAAO8F,GAAUK,GAAaC,GAAW;AAO5D,eANI9H,IAAQ,IACRC,IAASyB,IAAQA,EAAM,SAAS,GAK7B,EAAE1B,IAAQC;AACf,QAAA4H,IAAcL,EAASK,GAAanG,EAAM1B,CAAK,GAAGA,GAAO0B,CAAK;AAEhE,aAAOmG;AAAA,IACT;AAWA,aAASE,GAAUC,GAAGR,GAAU;AAI9B,eAHIxH,IAAQ,IACRpB,IAAS,MAAMoJ,CAAC,GAEb,EAAEhI,IAAQgI;AACf,QAAApJ,EAAOoB,CAAK,IAAIwH,EAASxH,CAAK;AAEhC,aAAOpB;AAAA,IACT;AAUA,aAASL,GAASC,GAAQC,GAAK;AAC7B,aAAOD,KAAU,OAAO,SAAYA,EAAOC,CAAG;AAAA,IAChD;AASA,aAASC,GAAaC,GAAO;AAG3B,UAAIC,IAAS;AACb,UAAID,KAAS,QAAQ,OAAOA,EAAM,YAAY;AAC5C,YAAI;AACF,UAAAC,IAAS,CAAC,EAAED,IAAQ;AAAA,QACrB,QAAW;AAAA,QAAA;AAEd,aAAOC;AAAA,IACT;AASA,aAASqJ,GAAWnF,GAAK;AACvB,UAAI9C,IAAQ,IACRpB,IAAS,MAAMkE,EAAI,IAAI;AAE3B,aAAAA,EAAI,QAAQ,SAASnE,GAAOF,GAAK;AAC/B,QAAAG,EAAO,EAAEoB,CAAK,IAAI,CAACvB,GAAKE,CAAK;AAAA,MACjC,CAAG,GACMC;AAAA,IACT;AAUA,aAASsJ,GAAQjF,GAAMkF,GAAW;AAChC,aAAO,SAASC,GAAK;AACnB,eAAOnF,EAAKkF,EAAUC,CAAG,CAAC;AAAA,MAC3B;AAAA,IACH;AASA,aAASC,GAAWvE,GAAK;AACvB,UAAI9D,IAAQ,IACRpB,IAAS,MAAMkF,EAAI,IAAI;AAE3B,aAAAA,EAAI,QAAQ,SAASnF,GAAO;AAC1B,QAAAC,EAAO,EAAEoB,CAAK,IAAIrB;AAAA,MACtB,CAAG,GACMC;AAAA,IACT;AAGA,QAAIC,KAAa,MAAM,WACnBC,KAAY,SAAS,WACrBC,KAAc,OAAO,WAGrBC,KAAaV,EAAK,oBAAoB,GAGtCW,KAAc,WAAW;AAC3B,UAAIC,IAAM,SAAS,KAAKF,MAAcA,GAAW,QAAQA,GAAW,KAAK,YAAY,EAAE;AACvF,aAAOE,IAAO,mBAAmBA,IAAO;AAAA,IAC1C,KAGIC,KAAeL,GAAU,UAGzBM,IAAiBL,GAAY,gBAO7BM,KAAiBN,GAAY,UAG7BO,KAAa;AAAA,MAAO,MACtBH,GAAa,KAAKC,CAAc,EAAE,QAAQrB,GAAc,MAAM,EAC7D,QAAQ,0DAA0D,OAAO,IAAI;AAAA,IAC/E,GAGGuK,KAASnB,KAAgB7I,EAAK,SAAS,QACvCiB,KAASjB,EAAK,QACdiK,KAAajK,EAAK,YAClBkK,KAAeN,GAAQ,OAAO,gBAAgB,MAAM,GACpDO,KAAe,OAAO,QACtBC,KAAuB3J,GAAY,sBACnCS,KAASX,GAAW,QAGpB8J,KAAmB,OAAO,uBAC1BC,KAAiBN,KAASA,GAAO,WAAW,QAC5CO,IAAaX,GAAQ,OAAO,MAAM,MAAM,GAGxCY,IAAWpJ,GAAUpB,GAAM,UAAU,GACrCmB,IAAMC,GAAUpB,GAAM,KAAK,GAC3ByK,IAAUrJ,GAAUpB,GAAM,SAAS,GACnC0K,IAAMtJ,GAAUpB,GAAM,KAAK,GAC3B2K,IAAUvJ,GAAUpB,GAAM,SAAS,GACnCqB,IAAeD,GAAU,QAAQ,QAAQ,GAGzCwJ,IAAqBlH,GAAS8G,CAAQ,GACtCK,IAAgBnH,GAASvC,CAAG,GAC5B2J,IAAoBpH,GAAS+G,CAAO,GACpCM,KAAgBrH,GAASgH,CAAG,GAC5BM,KAAoBtH,GAASiH,CAAO,GAGpCrJ,KAAcL,KAASA,GAAO,YAAY,QAC1CgK,KAAgB3J,KAAcA,GAAY,UAAU;AASxD,aAASE,EAAKC,GAAS;AACrB,UAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,WADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,YAAIC,IAAQH,EAAQC,CAAK;AACzB,aAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,MAC/B;AAAA,IACA;AASA,aAASC,KAAY;AACnB,WAAK,WAAWR,IAAeA,EAAa,IAAI,IAAI,CAAE;AAAA,IACxD;AAYA,aAASS,GAAW3B,GAAK;AACvB,aAAO,KAAK,IAAIA,CAAG,KAAK,OAAO,KAAK,SAASA,CAAG;AAAA,IAClD;AAWA,aAAS4B,GAAQ5B,GAAK;AACpB,UAAItE,IAAO,KAAK;AAChB,UAAIwF,GAAc;AAChB,YAAIf,IAASzE,EAAKsE,CAAG;AACrB,eAAOG,MAAWtB,IAAiB,SAAYsB;AAAA,MACnD;AACE,aAAOQ,EAAe,KAAKjF,GAAMsE,CAAG,IAAItE,EAAKsE,CAAG,IAAI;AAAA,IACtD;AAWA,aAAS6B,GAAQ7B,GAAK;AACpB,UAAItE,IAAO,KAAK;AAChB,aAAOwF,IAAexF,EAAKsE,CAAG,MAAM,SAAYW,EAAe,KAAKjF,GAAMsE,CAAG;AAAA,IAC/E;AAYA,aAAS8B,GAAQ9B,GAAKE,GAAO;AAC3B,UAAIxE,IAAO,KAAK;AAChB,aAAAA,EAAKsE,CAAG,IAAKkB,KAAgBhB,MAAU,SAAarB,IAAiBqB,GAC9D;AAAA,IACT;AAGA,IAAAmB,EAAK,UAAU,QAAQK,IACvBL,EAAK,UAAU,SAAYM,IAC3BN,EAAK,UAAU,MAAMO,IACrBP,EAAK,UAAU,MAAMQ,IACrBR,EAAK,UAAU,MAAMS;AASrB,aAASC,GAAUT,GAAS;AAC1B,UAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,WADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,YAAIC,IAAQH,EAAQC,CAAK;AACzB,aAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,MAC/B;AAAA,IACA;AASA,aAASO,KAAiB;AACxB,WAAK,WAAW,CAAE;AAAA,IACpB;AAWA,aAASC,GAAgBjC,GAAK;AAC5B,UAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,UAAIuB,IAAQ;AACV,eAAO;AAET,UAAIY,IAAYzG,EAAK,SAAS;AAC9B,aAAI6F,KAASY,IACXzG,EAAK,IAAK,IAEVqF,GAAO,KAAKrF,GAAM6F,GAAO,CAAC,GAErB;AAAA,IACT;AAWA,aAASa,GAAapC,GAAK;AACzB,UAAItE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,aAAOuB,IAAQ,IAAI,SAAY7F,EAAK6F,CAAK,EAAE,CAAC;AAAA,IAC9C;AAWA,aAASc,GAAarC,GAAK;AACzB,aAAOkC,GAAa,KAAK,UAAUlC,CAAG,IAAI;AAAA,IAC5C;AAYA,aAASsC,GAAatC,GAAKE,GAAO;AAChC,UAAIxE,IAAO,KAAK,UACZ6F,IAAQW,GAAaxG,GAAMsE,CAAG;AAElC,aAAIuB,IAAQ,IACV7F,EAAK,KAAK,CAACsE,GAAKE,CAAK,CAAC,IAEtBxE,EAAK6F,CAAK,EAAE,CAAC,IAAIrB,GAEZ;AAAA,IACT;AAGA,IAAA6B,GAAU,UAAU,QAAQC,IAC5BD,GAAU,UAAU,SAAYE,IAChCF,GAAU,UAAU,MAAMK,IAC1BL,GAAU,UAAU,MAAMM,IAC1BN,GAAU,UAAU,MAAMO;AAS1B,aAASC,GAASjB,GAAS;AACzB,UAAIC,IAAQ,IACRC,IAASF,IAAUA,EAAQ,SAAS;AAGxC,WADA,KAAK,MAAO,GACL,EAAEC,IAAQC,KAAQ;AACvB,YAAIC,IAAQH,EAAQC,CAAK;AACzB,aAAK,IAAIE,EAAM,CAAC,GAAGA,EAAM,CAAC,CAAC;AAAA,MAC/B;AAAA,IACA;AASA,aAASe,KAAgB;AACvB,WAAK,WAAW;AAAA,QACd,MAAQ,IAAInB;AAAA,QACZ,KAAO,KAAKL,KAAOe;AAAA,QACnB,QAAU,IAAIV;AAAA,MACf;AAAA,IACH;AAWA,aAASoB,GAAezC,GAAK;AAC3B,aAAO0C,GAAW,MAAM1C,CAAG,EAAE,OAAUA,CAAG;AAAA,IAC5C;AAWA,aAAS2C,GAAY3C,GAAK;AACxB,aAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,IACtC;AAWA,aAAS4C,GAAY5C,GAAK;AACxB,aAAO0C,GAAW,MAAM1C,CAAG,EAAE,IAAIA,CAAG;AAAA,IACtC;AAYA,aAAS6C,GAAY7C,GAAKE,GAAO;AAC/B,aAAAwC,GAAW,MAAM1C,CAAG,EAAE,IAAIA,GAAKE,CAAK,GAC7B;AAAA,IACT;AAGA,IAAAqC,GAAS,UAAU,QAAQC,IAC3BD,GAAS,UAAU,SAAYE,IAC/BF,GAAS,UAAU,MAAMI,IACzBJ,GAAS,UAAU,MAAMK,IACzBL,GAAS,UAAU,MAAMM;AASzB,aAASkI,GAAMzJ,GAAS;AACtB,WAAK,WAAW,IAAIS,GAAUT,CAAO;AAAA,IACvC;AASA,aAAS0J,KAAa;AACpB,WAAK,WAAW,IAAIjJ;AAAA,IACtB;AAWA,aAASkJ,GAAYjL,GAAK;AACxB,aAAO,KAAK,SAAS,OAAUA,CAAG;AAAA,IACpC;AAWA,aAASkL,GAASlL,GAAK;AACrB,aAAO,KAAK,SAAS,IAAIA,CAAG;AAAA,IAC9B;AAWA,aAASmL,GAASnL,GAAK;AACrB,aAAO,KAAK,SAAS,IAAIA,CAAG;AAAA,IAC9B;AAYA,aAASoL,GAASpL,GAAKE,GAAO;AAC5B,UAAI+E,IAAQ,KAAK;AACjB,UAAIA,aAAiBlD,IAAW;AAC9B,YAAIsJ,IAAQpG,EAAM;AAClB,YAAI,CAACjE,KAAQqK,EAAM,SAAS1E,IAAmB;AAC7C,iBAAA0E,EAAM,KAAK,CAACrL,GAAKE,CAAK,CAAC,GAChB;AAET,QAAA+E,IAAQ,KAAK,WAAW,IAAI1C,GAAS8I,CAAK;AAAA,MAC9C;AACE,aAAApG,EAAM,IAAIjF,GAAKE,CAAK,GACb;AAAA,IACT;AAGA,IAAA6K,GAAM,UAAU,QAAQC,IACxBD,GAAM,UAAU,SAAYE,IAC5BF,GAAM,UAAU,MAAMG,IACtBH,GAAM,UAAU,MAAMI,IACtBJ,GAAM,UAAU,MAAMK;AAUtB,aAASE,GAAcpL,GAAOqL,GAAW;AAGvC,UAAIpL,IAAUgE,GAAQjE,CAAK,KAAKsL,GAAYtL,CAAK,IAC7CoJ,GAAUpJ,EAAM,QAAQ,MAAM,IAC9B,CAAE,GAEFsB,IAASrB,EAAO,QAChBsL,IAAc,CAAC,CAACjK;AAEpB,eAASxB,KAAOE;AACd,QAAkBS,EAAe,KAAKT,GAAOF,CAAG,KAC5C,EAAEyL,MAAgBzL,KAAO,YAAYgE,GAAQhE,GAAKwB,CAAM,OAC1DrB,EAAO,KAAKH,CAAG;AAGnB,aAAOG;AAAA,IACT;AAYA,aAAS2C,GAAY/C,GAAQC,GAAKE,GAAO;AACvC,UAAI6C,IAAWhD,EAAOC,CAAG;AACzB,OAAI,EAAEW,EAAe,KAAKZ,GAAQC,CAAG,KAAKgD,GAAGD,GAAU7C,CAAK,MACvDA,MAAU,UAAa,EAAEF,KAAOD,QACnCA,EAAOC,CAAG,IAAIE;AAAA,IAElB;AAUA,aAASgC,GAAae,GAAOjD,GAAK;AAEhC,eADIwB,IAASyB,EAAM,QACZzB;AACL,YAAIwB,GAAGC,EAAMzB,CAAM,EAAE,CAAC,GAAGxB,CAAG;AAC1B,iBAAOwB;AAGX,aAAO;AAAA,IACT;AAWA,aAASkK,GAAW3L,GAAQ4L,GAAQ;AAClC,aAAO5L,KAAU6L,GAAWD,GAAQE,GAAKF,CAAM,GAAG5L,CAAM;AAAA,IAC1D;AAgBA,aAAS+L,GAAU5L,GAAO6L,GAAQC,GAAQtI,GAAY1D,GAAKD,GAAQkM,IAAO;AACxE,UAAI9L;AAIJ,UAHIuD,MACFvD,IAASJ,IAAS2D,EAAWxD,GAAOF,GAAKD,GAAQkM,EAAK,IAAIvI,EAAWxD,CAAK,IAExEC,MAAW;AACb,eAAOA;AAET,UAAI,CAACgD,GAASjD,CAAK;AACjB,eAAOA;AAET,UAAIgM,KAAQ/H,GAAQjE,CAAK;AACzB,UAAIgM;AAEF,YADA/L,IAASgM,GAAejM,CAAK,GACzB,CAAC6L;AACH,iBAAOK,GAAUlM,GAAOC,CAAM;AAAA,aAE3B;AACL,YAAIgF,KAAMkH,GAAOnM,CAAK,GAClBoM,KAASnH,MAAOpG,KAAWoG,MAAOnG;AAEtC,YAAIuN,GAASrM,CAAK;AAChB,iBAAOsM,GAAYtM,GAAO6L,CAAM;AAElC,YAAI5G,MAAOgC,KAAahC,MAAOyB,KAAY0F,MAAU,CAACvM,GAAS;AAC7D,cAAIE,GAAaC,CAAK;AACpB,mBAAOH,IAASG,IAAQ,CAAE;AAG5B,cADAC,IAASsM,GAAgBH,KAAS,CAAA,IAAKpM,CAAK,GACxC,CAAC6L;AACH,mBAAOW,GAAYxM,GAAOwL,GAAWvL,GAAQD,CAAK,CAAC;AAAA,QAE3D,OAAW;AACL,cAAI,CAACmI,EAAclD,EAAG;AACpB,mBAAOpF,IAASG,IAAQ,CAAE;AAE5B,UAAAC,IAASwM,GAAezM,GAAOiF,IAAK2G,IAAWC,CAAM;AAAA,QAC3D;AAAA,MACA;AAEE,MAAAE,OAAUA,KAAQ,IAAIlB;AACtB,UAAI6B,KAAUX,GAAM,IAAI/L,CAAK;AAC7B,UAAI0M;AACF,eAAOA;AAIT,UAFAX,GAAM,IAAI/L,GAAOC,CAAM,GAEnB,CAAC+L;AACH,YAAIW,KAAQb,IAASc,GAAW5M,CAAK,IAAI2L,GAAK3L,CAAK;AAErD,aAAA4I,GAAU+D,MAAS3M,GAAO,SAAS6M,IAAU/M,IAAK;AAChD,QAAI6M,OACF7M,KAAM+M,IACNA,KAAW7M,EAAMF,EAAG,IAGtB8C,GAAY3C,GAAQH,IAAK8L,GAAUiB,IAAUhB,GAAQC,GAAQtI,GAAY1D,IAAKE,GAAO+L,EAAK,CAAC;AAAA,MAC/F,CAAG,GACM9L;AAAA,IACT;AAUA,aAAS6M,GAAWC,GAAO;AACzB,aAAO9J,GAAS8J,CAAK,IAAIjD,GAAaiD,CAAK,IAAI,CAAE;AAAA,IACnD;AAaA,aAASC,GAAenN,GAAQoN,GAAUC,GAAa;AACrD,UAAIjN,IAASgN,EAASpN,CAAM;AAC5B,aAAOoE,GAAQpE,CAAM,IAAII,IAAS6I,EAAU7I,GAAQiN,EAAYrN,CAAM,CAAC;AAAA,IACzE;AASA,aAASsN,GAAWnN,GAAO;AACzB,aAAOU,GAAe,KAAKV,CAAK;AAAA,IAClC;AAUA,aAASgD,GAAahD,GAAO;AAC3B,UAAI,CAACiD,GAASjD,CAAK,KAAKkD,GAASlD,CAAK;AACpC,eAAO;AAET,UAAImD,IAAWC,GAAWpD,CAAK,KAAKD,GAAaC,CAAK,IAAKW,KAAarB;AACxE,aAAO6D,EAAQ,KAAKE,GAASrD,CAAK,CAAC;AAAA,IACrC;AASA,aAASoN,GAASvN,GAAQ;AACxB,UAAI,CAACwN,GAAYxN,CAAM;AACrB,eAAOqK,EAAWrK,CAAM;AAE1B,UAAII,IAAS,CAAE;AACf,eAASH,KAAO,OAAOD,CAAM;AAC3B,QAAIY,EAAe,KAAKZ,GAAQC,CAAG,KAAKA,KAAO,iBAC7CG,EAAO,KAAKH,CAAG;AAGnB,aAAOG;AAAA,IACT;AAUA,aAASqM,GAAYgB,GAAQzB,GAAQ;AACnC,UAAIA;AACF,eAAOyB,EAAO,MAAO;AAEvB,UAAIrN,IAAS,IAAIqN,EAAO,YAAYA,EAAO,MAAM;AACjD,aAAAA,EAAO,KAAKrN,CAAM,GACXA;AAAA,IACT;AASA,aAASsN,GAAiBC,GAAa;AACrC,UAAIvN,IAAS,IAAIuN,EAAY,YAAYA,EAAY,UAAU;AAC/D,iBAAI5D,GAAW3J,CAAM,EAAE,IAAI,IAAI2J,GAAW4D,CAAW,CAAC,GAC/CvN;AAAA,IACT;AAUA,aAASwN,GAAcC,GAAU7B,GAAQ;AACvC,UAAIyB,IAASzB,IAAS0B,GAAiBG,EAAS,MAAM,IAAIA,EAAS;AACnE,aAAO,IAAIA,EAAS,YAAYJ,GAAQI,EAAS,YAAYA,EAAS,UAAU;AAAA,IAClF;AAWA,aAASC,GAASxJ,GAAK0H,GAAQ+B,GAAW;AACxC,UAAI7K,IAAQ8I,IAAS+B,EAAUtE,GAAWnF,CAAG,GAAG,EAAI,IAAImF,GAAWnF,CAAG;AACtE,aAAO8E,GAAYlG,GAAO0F,IAAa,IAAItE,EAAI,aAAW;AAAA,IAC5D;AASA,aAAS0J,GAAYC,GAAQ;AAC3B,UAAI7N,IAAS,IAAI6N,EAAO,YAAYA,EAAO,QAAQ5F,GAAQ,KAAK4F,CAAM,CAAC;AACvE,aAAA7N,EAAO,YAAY6N,EAAO,WACnB7N;AAAA,IACT;AAWA,aAAS8N,GAAS5I,GAAK0G,GAAQ+B,GAAW;AACxC,UAAI7K,IAAQ8I,IAAS+B,EAAUlE,GAAWvE,CAAG,GAAG,EAAI,IAAIuE,GAAWvE,CAAG;AACtE,aAAO8D,GAAYlG,GAAO4F,GAAa,IAAIxD,EAAI,aAAW;AAAA,IAC5D;AASA,aAAS6I,GAAYC,GAAQ;AAC3B,aAAOrD,KAAgB,OAAOA,GAAc,KAAKqD,CAAM,CAAC,IAAI,CAAE;AAAA,IAChE;AAUA,aAASC,GAAgBC,GAAYtC,GAAQ;AAC3C,UAAIyB,IAASzB,IAAS0B,GAAiBY,EAAW,MAAM,IAAIA,EAAW;AACvE,aAAO,IAAIA,EAAW,YAAYb,GAAQa,EAAW,YAAYA,EAAW,MAAM;AAAA,IACpF;AAUA,aAASjC,GAAUT,GAAQ1I,GAAO;AAChC,UAAI1B,IAAQ,IACRC,IAASmK,EAAO;AAGpB,WADA1I,MAAUA,IAAQ,MAAMzB,CAAM,IACvB,EAAED,IAAQC;AACf,QAAAyB,EAAM1B,CAAK,IAAIoK,EAAOpK,CAAK;AAE7B,aAAO0B;AAAA,IACT;AAYA,aAAS2I,GAAWD,GAAQkB,GAAO9M,GAAQ2D,GAAY;AACrD,MAAA3D,MAAWA,IAAS;AAKpB,eAHIwB,IAAQ,IACRC,IAASqL,EAAM,QAEZ,EAAEtL,IAAQC,KAAQ;AACvB,YAAIxB,KAAM6M,EAAMtL,CAAK,GAEjBwC,IAEA;AAEJ,QAAAjB,GAAY/C,GAAQC,IAAK+D,MAAa,SAAY4H,EAAO3L,EAAG,IAAI+D,CAAQ;AAAA,MAC5E;AACE,aAAOhE;AAAA,IACT;AAUA,aAAS2M,GAAYf,GAAQ5L,GAAQ;AACnC,aAAO6L,GAAWD,GAAQ2C,GAAW3C,CAAM,GAAG5L,CAAM;AAAA,IACtD;AASA,aAAS+M,GAAW/M,GAAQ;AAC1B,aAAOmN,GAAenN,GAAQ8L,IAAMyC,EAAU;AAAA,IAChD;AAUA,aAAS5L,GAAW2B,GAAKrE,GAAK;AAC5B,UAAItE,IAAO2I,EAAI;AACf,aAAOC,GAAUtE,CAAG,IAChBtE,EAAK,OAAOsE,KAAO,WAAW,WAAW,MAAM,IAC/CtE,EAAK;AAAA,IACX;AAUA,aAASuF,GAAUlB,GAAQC,GAAK;AAC9B,UAAIE,IAAQJ,GAASC,GAAQC,CAAG;AAChC,aAAOkD,GAAahD,CAAK,IAAIA,IAAQ;AAAA,IACvC;AASA,QAAIoO,KAAapE,KAAmBT,GAAQS,IAAkB,MAAM,IAAIqE,IASpElC,KAASgB;AAIb,KAAKhD,KAAYgC,GAAO,IAAIhC,EAAS,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK3C,KACxD1G,KAAOqL,GAAO,IAAIrL,GAAG,KAAKiG,KAC1BqD,KAAW+B,GAAO/B,EAAQ,QAAS,CAAA,KAAKlD,KACxCmD,KAAO8B,GAAO,IAAI9B,GAAG,KAAKjD,MAC1BkD,KAAW6B,GAAO,IAAI7B,GAAO,KAAKhD,QACrC6E,KAAS,SAASnM,GAAO;AACvB,UAAIC,IAASS,GAAe,KAAKV,CAAK,GAClCsO,IAAOrO,KAAUgH,IAAYjH,EAAM,cAAc,QACjDuO,IAAaD,IAAOjL,GAASiL,CAAI,IAAI;AAEzC,UAAIC;AACF,gBAAQA,GAAU;AAAA,UAChB,KAAKhE;AAAoB,mBAAO/C;AAAA,UAChC,KAAKgD;AAAe,mBAAOzD;AAAA,UAC3B,KAAK0D;AAAmB,mBAAOvD;AAAA,UAC/B,KAAKwD;AAAe,mBAAOtD;AAAA,UAC3B,KAAKuD;AAAmB,mBAAOrD;AAAA,QACvC;AAEI,aAAOrH;AAAA,IACR;AAUH,aAASgM,GAAelJ,GAAO;AAC7B,UAAIzB,IAASyB,EAAM,QACf9C,IAAS8C,EAAM,YAAYzB,CAAM;AAGrC,aAAIA,KAAU,OAAOyB,EAAM,CAAC,KAAK,YAAYtC,EAAe,KAAKsC,GAAO,OAAO,MAC7E9C,EAAO,QAAQ8C,EAAM,OACrB9C,EAAO,QAAQ8C,EAAM,QAEhB9C;AAAA,IACT;AASA,aAASsM,GAAgB1M,GAAQ;AAC/B,aAAQ,OAAOA,EAAO,eAAe,cAAc,CAACwN,GAAYxN,CAAM,IAClEiN,GAAWjD,GAAahK,CAAM,CAAC,IAC/B,CAAE;AAAA,IACR;AAeA,aAAS4M,GAAe5M,GAAQoF,GAAK2I,GAAW/B,GAAQ;AACtD,UAAIyC,IAAOzO,EAAO;AAClB,cAAQoF,GAAG;AAAA,QACT,KAAKsC;AACH,iBAAOgG,GAAiB1N,CAAM;AAAA,QAEhC,KAAK+G;AAAA,QACL,KAAKC;AACH,iBAAO,IAAIyH,EAAK,CAACzO,CAAM;AAAA,QAEzB,KAAK2H;AACH,iBAAOiG,GAAc5N,GAAQgM,CAAM;AAAA,QAErC,KAAKpE;AAAA,QAAY,KAAKC;AAAA,QACtB,KAAKC;AAAA,QAAS,KAAKC;AAAA,QAAU,KAAKC;AAAA,QAClC,KAAKC;AAAA,QAAU,KAAKC;AAAA,QAAiB,KAAKC;AAAA,QAAW,KAAKC;AACxD,iBAAOiG,GAAgBrO,GAAQgM,CAAM;AAAA,QAEvC,KAAK9E;AACH,iBAAO4G,GAAS9N,GAAQgM,GAAQ+B,CAAS;AAAA,QAE3C,KAAK5G;AAAA,QACL,KAAKK;AACH,iBAAO,IAAIiH,EAAKzO,CAAM;AAAA,QAExB,KAAKsH;AACH,iBAAO0G,GAAYhO,CAAM;AAAA,QAE3B,KAAKuH;AACH,iBAAO2G,GAASlO,GAAQgM,GAAQ+B,CAAS;AAAA,QAE3C,KAAK7O;AACH,iBAAOiP,GAAYnO,CAAM;AAAA,MAC/B;AAAA,IACA;AAUA,aAASiE,GAAQ9D,GAAOsB,GAAQ;AAC9B,aAAAA,IAASA,KAAiB1C,GACnB,CAAC,CAAC0C,MACN,OAAOtB,KAAS,YAAYT,GAAS,KAAKS,CAAK,MAC/CA,IAAQ,MAAMA,IAAQ,KAAK,KAAKA,IAAQsB;AAAA,IAC7C;AASA,aAAS8C,GAAUpE,GAAO;AACxB,UAAIqE,IAAO,OAAOrE;AAClB,aAAQqE,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YAAYA,KAAQ,YACvErE,MAAU,cACVA,MAAU;AAAA,IACjB;AASA,aAASkD,GAASoB,GAAM;AACtB,aAAO,CAAC,CAAChE,MAAeA,MAAcgE;AAAA,IACxC;AASA,aAAS+I,GAAYrN,GAAO;AAC1B,UAAIsO,IAAOtO,KAASA,EAAM,aACtB+M,IAAS,OAAOuB,KAAQ,cAAcA,EAAK,aAAclO;AAE7D,aAAOJ,MAAU+M;AAAA,IACnB;AASA,aAAS1J,GAASiB,GAAM;AACtB,UAAIA,KAAQ,MAAM;AAChB,YAAI;AACF,iBAAO9D,GAAa,KAAK8D,CAAI;AAAA,QAC9B,QAAW;AAAA,QAAA;AACZ,YAAI;AACF,iBAAQA,IAAO;AAAA,QAChB,QAAW;AAAA,QAAA;AAAA,MAChB;AACE,aAAO;AAAA,IACT;AAoBA,aAASkK,GAAUxO,GAAO;AACxB,aAAO4L,GAAU5L,GAAO,IAAM,EAAI;AAAA,IACpC;AAkCA,aAAS8C,GAAG9C,GAAOgF,GAAO;AACxB,aAAOhF,MAAUgF,KAAUhF,MAAUA,KAASgF,MAAUA;AAAA,IAC1D;AAoBA,aAASsG,GAAYtL,GAAO;AAE1B,aAAOyO,GAAkBzO,CAAK,KAAKS,EAAe,KAAKT,GAAO,QAAQ,MACnE,CAAC+J,GAAqB,KAAK/J,GAAO,QAAQ,KAAKU,GAAe,KAAKV,CAAK,KAAK0G;AAAA,IAClF;AAyBA,QAAIzC,KAAU,MAAM;AA2BpB,aAASyK,GAAY1O,GAAO;AAC1B,aAAOA,KAAS,QAAQ2O,GAAS3O,EAAM,MAAM,KAAK,CAACoD,GAAWpD,CAAK;AAAA,IACrE;AA2BA,aAASyO,GAAkBzO,GAAO;AAChC,aAAOkF,GAAalF,CAAK,KAAK0O,GAAY1O,CAAK;AAAA,IACjD;AAmBA,QAAIqM,KAAWpC,MAAkB2E;AAmBjC,aAASxL,GAAWpD,GAAO;AAGzB,UAAIiF,IAAMhC,GAASjD,CAAK,IAAIU,GAAe,KAAKV,CAAK,IAAI;AACzD,aAAOiF,KAAOpG,KAAWoG,KAAOnG;AAAA,IAClC;AA4BA,aAAS6P,GAAS3O,GAAO;AACvB,aAAO,OAAOA,KAAS,YACrBA,IAAQ,MAAMA,IAAQ,KAAK,KAAKA,KAASpB;AAAA,IAC7C;AA2BA,aAASqE,GAASjD,GAAO;AACvB,UAAIqE,IAAO,OAAOrE;AAClB,aAAO,CAAC,CAACA,MAAUqE,KAAQ,YAAYA,KAAQ;AAAA,IACjD;AA0BA,aAASa,GAAalF,GAAO;AAC3B,aAAO,CAAC,CAACA,KAAS,OAAOA,KAAS;AAAA,IACpC;AA8BA,aAAS2L,GAAK9L,GAAQ;AACpB,aAAO6O,GAAY7O,CAAM,IAAIuL,GAAcvL,CAAM,IAAIuN,GAASvN,CAAM;AAAA,IACtE;AAoBA,aAASwO,KAAY;AACnB,aAAO,CAAE;AAAA,IACX;AAeA,aAASO,KAAY;AACnB,aAAO;AAAA,IACT;AAEA,IAAArG,EAAA,UAAiBiG;AAAA;;;mCCzsDJK,KAA0BC,GAAgB;AAAA,EACrD,MAAM;AAAA,EACN,OAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,IACA,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACX;AAAA,IACA,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS,CAAA;AAAA,IACX;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACX;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,IAAA;AAAA,EAEd;AAAA,EACA,OAAO;AAAA,EAUP,MAAMnC,GAAO,EAAE,OAAAoC,GAAO,QAAAC,KAAU;AAC9B,UAAMC,IAAUpJ,EAAI,GACdU,IAAMb,GAAkBwJ,GAAgBC,GAAQxC,EAAM,IAAI,CAAC,GAAGwC,GAAQxC,EAAM,QAAQ,CAAC,GACrFyC,IAAOtR,GAAc,GAErB,EAAE,MAAAtC,GAAM,YAAAwK,GAAY,UAAAC,GAAU,QAAAH,GAAQ,SAAAC,MAAYQ;AAExD,aAAS8I,IAAS;AAChB,MAAAJ,EAAQ,MAAM,cAAc,IAAI,YAAY,QAAQ,CAAC;AAAA,IAAA;AAGvD,aAASjR,IAAW;AAClB,UAAI2O,EAAM;AACR,eAAOA,EAAM,SAASnR,EAAK,OAAO+K,CAAG;AAGnC,UAAA,CAACoG,EAAM;AACH,cAAA,IAAI,MAAM,6DAA6D;AAGxE,aAAAyC,EAAK,SAASzC,EAAM,QAAQA,EAAM,QAAQ,EAAE,MAAMnR,EAAK,OAAO;AAAA,IAAA;AAGvE,aAAS8T,EAAa7R,GAAc;AAClC,MAAAA,EAAM,eAAe,GACrBA,EAAM,gBAAgB,GAEtBuI,EAAW,QAAQ,IACnBF,EAAO,QAAQ,CAAC,GAChBC,EAAQ,QAAQ,CAAC,GAGjBwJ,GAAS,MAAMvR,EAAA,EAAW,MAAM,CAACQ,MAAuC;AACtE,QAAIA,aAAiBjD,OACnBuK,EAAO,QAAQtH,EAAM;AAAA,MACvB,CACD,EAAE,QAAQ,MAAM;AACf,QAAAwH,EAAW,QAAQ;AAAA,MAAA,CACpB,CAAC;AAAA,IAAA;AAGJ,WAAAwJ,GAAM,MAAM7C,EAAM,MAAM,CAAC5D,MAAW;AAClC,MAAAvN,EAAK,QAAQ0T,GAAgBC,GAAQpG,CAAM,CAAC;AAAA,IAAA,CAC7C,GAEDyG,GAAM,MAAM7C,EAAM,UAAU,CAAC3M,MAAU;AAC5B,MAAAiG,EAAA,QAAQkJ,GAAQnP,CAAK;AAAA,IAAA,CAC/B,GAEMgP,EAAA;AAAA,MACL,KAAAzI;AAAA,MACA,QAAA8I;AAAA,IAAA,CACD,GAEDI,EAAQhK,IAAyBc,CAAG,GAE7B,MAAMmJ,GAAE,QAAQ;AAAA,MACrB,KAAK,CAACC,MAAOV,EAAQ,QAAQU;AAAA,MAC7B,QAAQhD,EAAM;AAAA,MACd,QAAQA,EAAM;AAAA,MACd,YAAY;AAAA,MACZ,UAAU2C;AAAA,IAAA,GACTP,EAAM,QAAQ;AAAA,MACf,MAAMvT,EAAK;AAAA,MACX,YAAYwK,EAAW;AAAA,MACvB,QAAQF,EAAO;AAAA,MACf,SAASC,EAAQ;AAAA,MACjB,KAAAQ;AAAA,MACA,QAAA8I;AAAA,IAAA,CACD,CAAC;AAAA,EAAA;AAEN,CAAC,GClHYO,KAAkC,OAAO,cAAc,GACvDC,KAA0B,OAAO,aAAa,GAC9CC,KAA+B,OAAO,kBAAkB,GACxDC,KAAgC,OAAO,mBAAmB,GAC1DC,KAAkC,OAAO,qBAAqB,GAC9DC,KAA+B,OAAO,kBAAkB;ACT9D,SAASC,GAAQC,GAAsB;AAC5C,SAAO,MAAM,QAAQA,CAAI,IAAIA,IAAO,CAACA,CAAI;AAC3C;ACEO,SAASC,KAAgC;AACxC,QAAAxL,IAAW5I,EAAO4T,EAA+B;AAEvD,MAAI,CAAChL;AACG,UAAA,IAAI,MAAM,0DAA2D;AAGtE,SAAAA;AACT;ACRO,SAASyL,KAAqD;AAC7D,QAAAC,IAAOtU,EAAO6T,EAAuB;AAE3C,MAAI,CAACS;AACG,UAAA,IAAI,MAAM,0DAA2D;AAGtE,SAAAA;AACT;ACTO,SAASC,KAA4B;AACpC,QAAAD,IAAOtU,EAAO8T,EAA4B;AAEhD,MAAI,CAACQ;AACG,UAAA,IAAI,MAAM,wDAAyD;AAGpE,SAAAA;AACT;ACHO,MAAME,KAAsB1B,GAAgB;AAAA,EACjD,cAAc;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACL,cAAc;AAAA,MACZ,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IAAA;AAAA,EAEb;AAAA,EACA,MAAMnC,GAAO;AACX,UAAM/H,IAAWwL,GAAgB,GAC3BK,IAAQF,GAAa,GACrBD,IAAOD,GAAa,GAEpBjU,IAAWsU,EAAS,MAAM;;AAAA,cAAAC,IAAAL,EAAK,UAAL,gBAAAK,EAAY;AAAA,KAAQ,GAC9CC,IAAQF,EAAS,MAAM;;AAAA,cAAAC,IAAAL,EAAK,UAAL,gBAAAK,EAAY;AAAA,KAAK,GAExC5E,IAAQ2E,EAAS,MAAM;AAC3B,UAAIJ,EAAK,SAASA,EAAK,MAAM;AAC3B,eAAO,EAAE,GAAGA,EAAK,MAAM,OAAO,QAAQA,EAAK,MAAM;AAAA,IAGnD,CACD;AAED,WAAAb,EAAQI,IAAyB9D,CAAK,GACtC0D,EAAQK,IAA8BY,EAAS,MAAMD,EAAM,QAAQ,CAAC,CAAC,GACrEhB,EAAQM,IAA+BW,EAAS,MAAM;;AAAA,cAAAC,IAAAL,EAAK,UAAL,gBAAAK,EAAY;AAAA,KAAM,CAAC,GACzElB,EAAQO,IAAiC5T,CAAQ,GACjDqT,EAAQQ,IAA8BW,CAAK,GAEpC,MAAM;AACX,UAAIN,EAAK,SAAS,eAAeA,EAAK,OAAO;AAC3C,YAAIO,IAAYjM,EAAS0L,EAAK,MAAM,SAAS,GACzCQ,IAAYR,EAAK,MAAM;AAEjB,QAAAO,EAAA,eAAe,CAAC,CAACA,EAAU;AAEjC,YAAAE,IAAWrB,GAAEmB,GAAWC,CAAS;AAEjC,eAAAnE,EAAM,gBAAgBkE,EAAU,WAClCE,IAAWb,GAAKW,EAAU,MAAM,EAAE,OAAOE,CAAQ,EAAE,QAAA,EAAU,OAAO,CAACC,GAAOC,OAC1EA,IAAS,OAAOA,KAAW,WAAWrM,EAASqM,CAAM,IAAIA,GAElDA,EAAA,eAAe,CAAC,CAACA,EAAO,cAExBvB,GAAEuB,GAAQH,GAAW,MAAME,CAAK,EACxC,IAGID;AAAA,MAAA;AAAA,IAEX;AAAA,EAAA;AAEJ,CAAC,GC1DYG,KAAsBpC,GAAgB;AAAA,EACjD,MAAM;AAAA,EACN,OAAO;AAAA,IACL,QAAQ,EAAE,MAAM,QAA4B,UAAU,IAAO,SAAS,MAAM;AAAA,IAC5E,MAAM,EAAE,MAAM,QAA+C,UAAU,GAAM;AAAA,IAC7E,MAAM,EAAE,MAAM,CAAC,QAAQ,OAAO,QAAQ,IAAI,GAAqB,UAAU,GAAM;AAAA,IAC/E,gBAAgB,EAAE,MAAM,SAAS,UAAU,GAAM;AAAA,IACjD,SAAS,EAAE,MAAM,SAAS,UAAU,GAAM;AAAA,IAC1C,QAAQ,EAAE,MAAM,QAA4B,UAAU,GAAM;AAAA,IAC5D,UAAU,EAAE,MAAM,SAAS,UAAU,GAAM;AAAA,IAC3C,UAAU,EAAE,MAAM,SAAS,UAAU,GAAM;AAAA,EAC7C;AAAA,EACA,MAAMnC,GAAO,EAAE,OAAAwE,GAAO,OAAApC,KAAS;AAC7B,UAAM3S,IAAWD,GAAY,GACvBiT,IAAOtR,GAAc,GACrBsT,IAAUvL,EAAI,EAAK,GAEnBwL,IAASX,EAAS,MAAM;;AAC5B,UAAIhU,IAAUN,EAAS,MAAM,QAAQ,OAAO,EAAE,GAC1CkV,KAASX,IAAAhE,EAAM,SAAN,gBAAAgE,EAAY,QAAQ,OAAO,KACpCY,IAAW7U,MAAY4U,GACvBE,IAAY,CAAC7E,EAAM,YAAY2E,KAAUlV,EAAS,MAAM,WAAWkV,CAAM;AAE7E,aAAOC,KAAYC;AAAA,IAAA,CACpB,GAEKC,IAAKf,EAAS,MAAM/D,EAAM,OAAO,MAAM,QAAQ,GAC/C+E,IAAWhB,EAAS,MAAM/D,EAAM,OAAO,EAAE,QAAQA,EAAM,OAAA,IAAW,EAAE,UAAUA,EAAM,UAAU;AAEpG,aAASgF,EAAQlU,GAAmB;AAOlC,UANI,CAACkP,EAAM,QAAQ,CAACiF,GAAqBnU,GAAOkP,EAAM,MAAMA,EAAM,MAAM,MAIxElP,EAAM,eAAe,GAEjBkP,EAAM;AACR;AAGF,UAAI,EAAE,QAAA9P,GAAQ,MAAAgV,GAAM,MAAArW,GAAM,gBAAAyC,GAAgB,SAAAC,MAAYyO;AAEtD,MAAAyE,EAAQ,QAAQ,IAGhB7B,GAAS,MAAM;AACR,QAAAH,EAAA,SAASvS,GAAQgV,GAAM,EAAE,MAAArW,GAAM,gBAAAyC,GAAgB,SAAAC,EAAQ,CAAC,EAAE,KAAK,MAAM;AACxE,UAAAkT,EAAQ,QAAQ;AAAA,QAAA,CACjB,EAAE,MAAM,MAAM;AACb,UAAAA,EAAQ,QAAQ;AAAA,QAAA,CACjB;AAAA,MAAA,CACF;AAAA,IAAA;AAGH,WAAO,MAAM1B;AAAA,MACX+B,EAAG;AAAA,MACH;AAAA,QACE,MAAM9E,EAAM;AAAA,QACZ,SAAAgF;AAAA,QACA,GAAGD,EAAS;AAAA,QACZ,GAAGP;AAAA,QACH,OAAO,CAAC,EAAE,QAAQE,EAAO,OAAO,SAASD,EAAQ,OAAO,UAAUzE,EAAM,SAAU,CAAA;AAAA,MACpF;AAAA;AAAA,MAEAoC,EAAM,QAAQ,EAAE,QAAAsC,GAAQ,SAAAD,EAAS,CAAA;AAAA,IACnC;AAAA,EAAA;AAEJ,CAAC;AAED,SAASQ,GAAqBnU,GAAmBoU,GAAcP,GAAiB;AAC9E,SAAIA,MAAW,YAAYQ,GAAkBD,CAAI,IACxC,KAGF,EACLpU,EAAM,oBACNA,EAAM,SAAS,KACfA,EAAM,UACNA,EAAM,WACNA,EAAM,WACNA,EAAM;AAEV;AAEA,SAASqU,GAAkBD,GAAc;AACnC,MAAA;AACE,QAAAE,IAAgB,OAAO,SAAS,MAChCC,IAAe,IAAI,IAAIH,CAAI,EAAE;AAEjC,WAAOE,MAAkBC;AAAA,UACf;AACH,WAAA;AAAA,EAAA;AAEX;AC/Fa,MAAAC,KAA4B,OAAO,eAAe;AAExD,SAASC,KAAY;AACtB,MAAAC,IAASnW,EAAOiW,EAAyB;AAE7C,MAAI,CAACE;AACG,UAAA,IAAI,MAAM,wCAAwC;AAGnD,SAAAA;AACT;ACTO,MAAMC,KAA2BtD,GAAgB;AAAA,EACtD,MAAM;AAAA,EACN,OAAO;AAAA,EAGP,MAAMnC,GAAO,EAAE,OAAAoC,GAAO,OAAAoC,KAAS;AAC7B,UAAMgB,IAASD,GAAU;AAElB,WAAA,MAAMxC,GAAE,OAAOyB,GAAOpC,EAAM,QAAQ,EAAE,QAAQoD,EAAO,MAAM,CAAC,CAAC;AAAA,EAAA;AAExE,CAAC,GAEYE,KAAiBvD,GAAgB;AAAA,EAC5C,MAAM;AAAA,EACN,OAAO;AAAA,IACL,OAAO,EAAE,MAAM,QAA2B,UAAU,GAAK;AAAA,EAC3D;AAAA,EACA,OAAO;AAAA,EAGP,MAAMnC,GAAO,EAAE,OAAAoC,GAAO,OAAAoC,KAAS;AAC7B,UAAMgB,IAASD,GAAU,GACnBI,IAAUzM,EAAI;AAEpB,aAAS0M,IAAQ;AACf,mBAAaD,EAAQ,KAAK,GACnBH,EAAA,QAAQA,EAAO,MAAM,OAAO,CAACK,MAAUA,EAAM,OAAO7F,EAAM,MAAM,EAAE;AAAA,IAAA;AAG3E,WAAA8F,GAAU,MAAM;AACN,MAAAH,EAAA,QAAQ,WAAW,MAAMC,KAAS5F,EAAM,MAAM,WAAW,GAAI;AAAA,IAAA,CACtE,GAED+F,GAAgB,MAAM;AACpB,mBAAaJ,EAAQ,KAAK;AAAA,IAAA,CAC3B,GAEM,MAAM5C,GAAE,MAAMyB,GAAOpC,EAAM,QAAQ,EAAE,OAAOpC,EAAM,OAAO,OAAA4F,EAAO,CAAA,CAAC;AAAA,EAAA;AAE5E,CAAC,GCvCYI,KAA0C7D,GAAgB;AAAA,EACrE,MAAM;AAAA,EACN,OAAO;AAAA,IACL,QAAQ,EAAE,MAAM,QAAQ,UAAU,GAAK;AAAA,EACzC;AAAA,EACA,OAAO;AAAA,EAGP,MAAMnC,GAAO,EAAE,OAAAoC,GAAO,OAAAoC,KAAS;AAC7B,UAAM/B,IAAOtR,GAAc,GACrB8U,IAAW/M,EAAI,GACfgN,IAAOhN,EAAI,EAAK;AAEtB,aAASiN,EAAkBrV,GAAY;AACrC,MAAAmV,EAAS,QAAQnV,GACjBoV,EAAK,QAAQ;AAAA,IAAA;AAGf,mBAAexD,EAAO7T,GAAW;AAC/B,UAAI,EAAE,QAAAqB,GAAQ,KAAAC,GAAK,SAAAiW,MAAYH,EAAS;AAEjC,aAAA,MAAMxD,EAAK,KAAKzC,EAAM,QAAQnR,CAAI,EAAE,KAAK,YACvC,MAAM4T,EAAK,SAASvS,GAAQC,GAAKiW,CAAO,EAAE,KAAK,OAAOC,OACpDC,EAAA,GACA,MAAM1D,GAAS,MAAMyD,CAAG,EAChC,CACF;AAAA,IAAA;AAGH,aAASC,IAAS;AAChB,MAAAJ,EAAK,QAAQ,IACbD,EAAS,QAAQ;AAAA,IAAA;AAGnB,WAAAH,GAAU,MAAM;AACL,MAAA9U,GAAA,iBAAiB,oBAAoBmV,CAAiB;AAAA,IAAA,CAChE,GAEDJ,GAAgB,MAAM;AACX,MAAA/U,GAAA,oBAAoB,oBAAoBmV,CAAiB;AAAA,IAAA,CACnE,GAEM,MAAMpD,GAAE,OAAOyB,GAAOpC,EAAM,QAAQ,EAAE,MAAM8D,EAAK,OAAO,QAAAxD,GAAQ,QAAA4D,EAAQ,CAAA,CAAC;AAAA,EAAA;AAEpF,CAAC;AC3Ce,SAAAC,GAAMpT,GAAa5B,GAAqD;AACtF,SAAOiV,GAAiB7N,GAAIxF,CAAG,GAAG5B,CAAO;AAC3C;AAEgB,SAAAkV,GAAYtT,GAAa4E,GAAgBxG,GAAqD;AAC5G,SAAOiV,GAAiBE,GAAO/N,GAAIxF,CAAG,GAAG4E,CAAM,GAAGxG,CAAO;AAC3D;AAEA,SAASoH,GAAIxF,GAAa;AACpB,MAAAwT,IAAc,iBAAiBxT,CAAG;AAElC,SAAA,OAAOwT,IAAgB,QACXA,IAAAxT,IAGTwT;AACT;AAEA,SAASD,GAAOE,GAAc7O,GAAgB;AACxC,MAAA8O,IAAWD,EAAK,MAAM,GAAG,GACzBvT,IAAQyT,GAAQD,GAAU9O,CAAM;AAEpC,MAAI1E;AACF,WAAOA,EAAM,KAAK;AAGpB,EAAAwT,IAAWE,GAAgBF,CAAQ;AAC/B,MAAAG,IAAcC,GAAelP,CAAM;AAEvC,SAAI8O,EAAS,WAAW,KAAKA,EAASG,CAAW,KAAK,OAC7CH,EAAS,CAAC,IAGZA,EAASG,CAAW;AAC7B;AAEA,SAASF,GAAQD,GAAoB9O,GAAgB;AACnD,WAASmP,KAAQL,GAAU;AACrB,QAAAD,IAAOO,GAAkBD,GAAMnP,CAAM;AAEzC,QAAI6O;AACK,aAAAA;AAAA,EACT;AAEJ;AAEA,SAASO,GAAkBD,GAAcnP,GAAgB;AACvD,QAAMqP,IAAQ,oCACRC,IAAUH,EAAK,MAAME,CAAK;AAEhC,MAAI,CAACC,KAAWA,EAAQ,WAAW;AAC1B,WAAA;AAGH,QAAAC,IAAYD,EAAQ,CAAC,GACrBhU,IAAQgU,EAAQ,CAAC;AAEnB,MAAAC,EAAU,SAAS,GAAG,GAAG;AAC3B,UAAM,CAACC,GAAMC,CAAE,IAAIF,EAAU,MAAM,KAAK,CAAC;AAEzC,QAAIE,MAAO,OAAOzP,KAAU,OAAOwP,CAAI;AAC9B,aAAAlU;QACEkU,MAAS,OAAOxP,KAAU,OAAOyP,CAAE;AACrC,aAAAnU;AACT,QAAW0E,KAAU,OAAOwP,CAAI,KAAKxP,KAAU,OAAOyP,CAAE;AAC/C,aAAAnU;AAAA,EACT;AAGF,SAAO,OAAOiU,CAAS,KAAKvP,IAAS1E,IAAQ;AAC/C;AAEA,SAAS0T,GAAgBF,GAAoB;AAC3C,SAAOA,EAAS,IAAI,CAAAK,MAAQA,EAAK,QAAQ,+BAA+B,EAAE,CAAC;AAC7E;AAEA,SAASV,GAAiBI,GAAcrV,GAAqD;AAC3F,SAAIA,IACK,OAAO,KAAKA,CAAO,EAAE,OAAO,CAACkW,GAAMtU,MAAQsU,EAAK,QAAQ,IAAItU,CAAG,IAAI5B,EAAQ4B,CAAG,EAAE,SAAS,CAAC,GAAGyT,CAAI,IAGnGA;AACT;AAEA,SAASK,GAAelP,GAAgB;AACtC,UAAQ,YAAY;AAAA,IAClB,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACI,aAAA;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,KAAU,IAAK,IAAI;AAAA,IAC7B,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAASA,KAAU,KAAOA,KAAU,IAAM,IAAI;AAAA,IAChD,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAASA,IAAS,MAAM,KAAOA,IAAS,OAAO,KAAO,IAAOA,IAAS,MAAM,KAAOA,IAAS,MAAM,MAAQA,IAAS,MAAM,MAAQA,IAAS,OAAO,MAAQ,IAAI;AAAA,IAC/J,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAQA,KAAU,IAAK,IAAOA,KAAU,KAAOA,KAAU,IAAM,IAAI;AAAA,IACrE,KAAK;AAAA,IACL,KAAK;AACH,aAAQA,KAAU,IAAK,IAAMA,KAAU,IAAK,IAAI;AAAA,IAClD,KAAK;AAAA,IACL,KAAK;AACH,aAASA,IAAS,MAAM,KAAOA,IAAS,OAAO,KAAO,IAAOA,IAAS,MAAM,MAAQA,IAAS,MAAM,MAAQA,IAAS,OAAO,MAAQ,IAAI;AAAA,IACzI,KAAK;AAAA,IACL,KAAK;AACH,aAAQA,IAAS,OAAO,IAAK,IAAMA,IAAS,OAAO,IAAK,IAAOA,IAAS,OAAO,KAAOA,IAAS,OAAO,IAAM,IAAI;AAAA,IAClH,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,IAAS,MAAM,IAAK,IAAI;AAAA,IAClC,KAAK;AAAA,IACL,KAAK;AACH,aAAQA,KAAU,IAAK,IAAOA,KAAU,KAAQA,IAAS,MAAM,KAAOA,IAAS,MAAM,KAAQ,IAAOA,IAAS,MAAM,MAAQA,IAAS,MAAM,KAAO,IAAI;AAAA,IACvJ,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,KAAU,IAAK,IAAOA,IAAS,MAAM,KAAOA,IAAS,OAAO,KAAO,IAAI;AAAA,IACjF,KAAK;AAAA,IACL,KAAK;AACH,aAAQA,KAAU,IAAK,IAAOA,IAAS,MAAM,KAAOA,IAAS,MAAM,MAAQA,IAAS,MAAM,MAAQA,IAAS,MAAM,MAAQ,IAAI;AAAA,IAC/H,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,KAAU,IAAK,IAAMA,KAAU,IAAK,IAAOA,KAAU,KAAOA,KAAU,KAAO,IAAI;AAAA,IAC3F,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,KAAU,IAAK,IAAOA,KAAU,KAAQA,IAAS,MAAM,KAAOA,IAAS,MAAM,KAAQ,IAAI;AAAA,IACnG,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACK,aAAAA,KAAU,IAAK,IAAMA,KAAU,IAAK,IAAMA,KAAU,IAAK,IAAOA,IAAS,OAAO,KAAOA,IAAS,OAAO,KAAO,IAAOA,IAAS,OAAO,MAAQA,IAAS,OAAO,KAAO,IAAI;AAAA,IAClL;AACS,aAAA;AAAA,EAAA;AAEb;ACnYO,SAAS5H,GAAIuX,GAAaC,GAA8BC,GAAeC,GAAsB;AAClG,QAAM1X,IAAM,IAAI,IAAIuX,GAAKG,KAAQ,OAAO;AAExC,SAAIF,KACqBxX,GAAAA,EAAI,cAAcwX,CAAM,GAG7CC,MACFzX,EAAI,OAAOyX,IAGNzX,EAAI,SAAS;AACtB;AAGA,SAAS2X,GAAuBC,GAAyBJ,GAA6B;AACpF,SAAO,KAAKA,CAAM,EAAE,QAAQ,CAACxU,MAAQ;AACnC,IAAA6U,GAAsBD,GAAQ5U,GAAK8U,GAAMN,EAAOxU,CAAG,CAAC,CAAC;AAAA,EAAA,CACtD;AACH;AAGA,SAAS6U,GAAsBD,GAAyBxX,GAAc8C,GAAYoU,GAAe;AAK/F,SAJIA,MACKlX,IAAAkX,IAAO,MAAMlX,IAAO,MAGzB8C,KAAS,QACJ0U,EAAA,OAAOxX,GAAM,EAAE,GACfwX,KAGL,MAAM,QAAQ1U,CAAK,KACfA,EAAA,QAAQ,CAAC6U,GAAUC,MAAa;AACpC,IAAAH,GAAsBD,GAAQI,EAAS,SAAS,GAAGD,GAAU3X,CAAI;AAAA,EAAA,CAClE,GAEMwX,KAGL,OAAO1U,KAAU,YACnB,OAAO,KAAKA,CAAK,EAAE,QAAQ,CAACF,MAAQ;AAClC,IAAA6U,GAAsBD,GAAQ5U,GAAKE,EAAMF,CAAG,GAAG5C,CAAI;AAAA,EAAA,CACpD,GAEMwX,MAGL,OAAO1U,KAAU,cACnBA,IAAQ,OAAOA,CAAK,IAGlBA,KAAS,SACHA,IAAA,KAGH0U,EAAA,OAAOxX,GAAM8C,CAAK,GAElB0U;AACT;ACjDO,SAASK,GAAM7X,GAAcoX,IAAiB,CAAA,GAAIC,GAAe;AACtE,SAAOS,GAAMC,GAAa/X,CAAI,GAAGoX,GAAQC,CAAI;AAC/C;AAGA,SAASU,GAAa/X,GAAc;AAC9B,SAAAA,EAAK,WAAW,mBAAmB,IAC9BA,EAAK,QAAQ,GAAG,mBAAmB,KAAK,EAAE,IAG/C,sBAAsB,UAAU,CAAQgY,MAAAhY,EAAK,WAAWgY,CAAI,CAAC,KAAK,KAIlE,CAAChY,EAAK,WAAW,MAAM,IAClBA,IAGL,eAAe,sBACV,GAAG,UAAU,IAAIA,CAAI,KAGvBA;AACT;AAGA,SAAS8X,GAAM9X,GAAcoX,GAAgBC,GAAe;AACpDQ,QAAAA,IAAQ,WAAW7X,CAAI;AAE7B,MAAI,CAAC6X;AACH,UAAM,IAAI,MAAM,oBAAoB7X,CAAI,EAAE;AAGtC,QAAAmX,IAAMc,GAAuBJ,GAAOT,CAAM,GAE1CI,IAAS,OAAO,KAAKJ,CAAM,EAAE,OAAO,CAACF,GAAMtU,OAC1CiV,EAAM,OAAO,SAASjV,CAAG,MAC5BsU,EAAKtU,CAAG,IAAI8U,GAAMN,EAAOxU,CAAG,CAAC,IAGxBsU,IACN,EAAE;AAEL,SAAOtX,GAAIuX,GAAKK,GAAQH,GAAMQ,EAAM,MAAM;AAC5C;AAGA,SAASI,GAAuBJ,GAAcT,GAAgB;AAC5D,SAAOS,EAAM,OAAO,OAAO,CAACV,GAAKe,MAAU;AACzC,QAAIC,IAAUN,EAAM,QAAQK,CAAK,KAAK,MAClCpV,IAAQ4U,GAAMN,EAAOc,CAAK,CAAC;AAM/B,QAJI,OAAOpV,KAAU,aACnBA,IAAQA,EAAMqV,CAAO,IAGnB,CAACrV;AACH,YAAM,IAAI,MAAM,aAAaoV,CAAK,wBAAwBL,EAAM,GAAG,GAAG;AAGjE,WAAAV,EAAI,QAAQ,IAAI,OAAO,IAAKe,CAAK,KAAO,GAAGpV,CAAK;AAAA,EAAA,GACtD+U,EAAM,GAAG;AACd;AC1EA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAEA,SAASO,GAAQC,GAAK;AACpB,QAAMpR,IAAsB,uBAAO,OAAO,IAAI;AAC9C,aAAWrE,KAAOyV,EAAI,MAAM,GAAG,EAAG,CAAApR,EAAIrE,CAAG,IAAI;AAC7C,SAAO,CAAC0V,MAAQA,KAAOrR;AACzB;AAEA,MAAMsR,KAAe,QAAQ,IAAI,aAAa,eAAgB,OAAO,OAAO,CAAE,CAAA,IAAI,CAAE;AAC/D,QAAQ,IAAI,aAAa,gBAAgB,OAAO,OAAO,CAAA,CAAE;AAC9E,MAAMC,KAAO,MAAM;AACnB,GAEMC,KAAO,CAAC7V,MAAQA,EAAI,WAAW,CAAC,MAAM,OAAOA,EAAI,WAAW,CAAC,MAAM;AAAA,CACxEA,EAAI,WAAW,CAAC,IAAI,OAAOA,EAAI,WAAW,CAAC,IAAI,KAW1CmE,KAAU,MAAM,SAKhBb,KAAa,CAACoS,MAAQ,OAAOA,KAAQ,YACrCI,IAAW,CAACJ,MAAQ,OAAOA,KAAQ,UAEnCvS,KAAW,CAACuS,MAAQA,MAAQ,QAAQ,OAAOA,KAAQ,UACnDK,KAAY,CAACL,OACTvS,GAASuS,CAAG,KAAKpS,GAAWoS,CAAG,MAAMpS,GAAWoS,EAAI,IAAI,KAAKpS,GAAWoS,EAAI,KAAK,GAgBrFM,KAAsB,CAACC,MAAO;AAClC,QAAMhR,IAAwB,uBAAO,OAAO,IAAI;AAChD,SAAO,CAACwQ,MACMxQ,EAAMwQ,CAAG,MACNxQ,EAAMwQ,CAAG,IAAIQ,EAAGR,CAAG;AAEtC,GAOMS,KAAc,cACdC,KAAYH;AAAA,EAChB,CAACP,MAAQA,EAAI,QAAQS,IAAa,KAAK,EAAE,YAAW;AACtD;AAgCA,IAAIE;AACJ,MAAMC,KAAgB,MACbD,OAAgBA,KAAc,OAAO,aAAe,MAAc,aAAa,OAAO,OAAS,MAAc,OAAO,OAAO,SAAW,MAAc,SAAS,OAAO,SAAW,MAAc,SAAS;AAiJ/M,SAASE,GAAepW,GAAO;AAC7B,MAAIiE,GAAQjE,CAAK,GAAG;AAClB,UAAMgT,IAAM,CAAE;AACd,aAASqD,IAAI,GAAGA,IAAIrW,EAAM,QAAQqW,KAAK;AACrC,YAAMlG,IAAOnQ,EAAMqW,CAAC,GACdC,IAAaV,EAASzF,CAAI,IAAIoG,GAAiBpG,CAAI,IAAIiG,GAAejG,CAAI;AAChF,UAAImG;AACF,mBAAWxW,KAAOwW;AAChB,UAAAtD,EAAIlT,CAAG,IAAIwW,EAAWxW,CAAG;AAAA,IAGnC;AACI,WAAOkT;AAAA,EACR,WAAU4C,EAAS5V,CAAK,KAAKiD,GAASjD,CAAK;AAC1C,WAAOA;AAEX;AACA,MAAMwW,KAAkB,iBAClBC,KAAsB,WACtBC,KAAiB;AACvB,SAASH,GAAiBI,GAAS;AACjC,QAAMC,IAAM,CAAE;AACd,SAAAD,EAAQ,QAAQD,IAAgB,EAAE,EAAE,MAAMF,EAAe,EAAE,QAAQ,CAACrG,MAAS;AAC3E,QAAIA,GAAM;AACR,YAAM0G,IAAM1G,EAAK,MAAMsG,EAAmB;AAC1C,MAAAI,EAAI,SAAS,MAAMD,EAAIC,EAAI,CAAC,EAAE,KAAI,CAAE,IAAIA,EAAI,CAAC,EAAE,KAAI;AAAA,IACzD;AAAA,EACA,CAAG,GACMD;AACT;AACA,SAASE,GAAeC,GAAQ;AAC9B,MAAI,CAACA,EAAQ,QAAO;AACpB,MAAInB,EAASmB,CAAM,EAAG,QAAOA;AAC7B,MAAIH,IAAM;AACV,aAAW9W,KAAOiX,GAAQ;AACxB,UAAM/W,IAAQ+W,EAAOjX,CAAG;AACxB,QAAI8V,EAAS5V,CAAK,KAAK,OAAOA,KAAU,UAAU;AAChD,YAAMgX,IAAgBlX,EAAI,WAAW,IAAI,IAAIA,IAAMmW,GAAUnW,CAAG;AAChE,MAAA8W,KAAO,GAAGI,CAAa,IAAIhX,CAAK;AAAA,IACtC;AAAA,EACA;AACE,SAAO4W;AACT;AACA,SAASK,GAAejX,GAAO;AAC7B,MAAIgT,IAAM;AACV,MAAI4C,EAAS5V,CAAK;AAChB,IAAAgT,IAAMhT;AAAA,WACGiE,GAAQjE,CAAK;AACtB,aAASqW,IAAI,GAAGA,IAAIrW,EAAM,QAAQqW,KAAK;AACrC,YAAMC,IAAaW,GAAejX,EAAMqW,CAAC,CAAC;AAC1C,MAAIC,MACFtD,KAAOsD,IAAa;AAAA,IAE5B;AAAA,WACarT,GAASjD,CAAK;AACvB,eAAW9C,KAAQ8C;AACjB,MAAIA,EAAM9C,CAAI,MACZ8V,KAAO9V,IAAO;AAIpB,SAAO8V,EAAI,KAAM;AACnB;AAcA,MAAMkE,KAAW,qpBAEXC,KAAY,wEAEZC,KAA2B,gBAAA9B,GAAQ4B,EAAQ,GAE3CG,KAA4B,gBAAA/B,GAAQ6B,EAAS,GAE7CG,KAAsB,+EAEtBC,KAAgC,gBAAAjC;AAAA,EACpCgC,KAAsB;AACxB;AACA,SAASE,GAAmBxX,GAAO;AACjC,SAAO,CAAC,CAACA,KAASA,MAAU;AAC9B;AACA,MAAMyX,KAAmB,mCACnBC,KAAsB,CAAE;AAC9B,SAASC,GAAkBza,GAAM;AAC/B,MAAIwa,GAAoB,eAAexa,CAAI;AACzC,WAAOwa,GAAoBxa,CAAI;AAEjC,QAAM0a,IAAWH,GAAiB,KAAKva,CAAI;AAC3C,SAAI0a,KACF,QAAQ,MAAM,0BAA0B1a,CAAI,EAAE,GAEzCwa,GAAoBxa,CAAI,IAAI,CAAC0a;AACtC;AACA,MAAMC,KAAiB;AAAA,EACrB,eAAe;AAAA,EACf,WAAW;AAAA,EACX,SAAS;AAAA,EACT,WAAW;AACb;AAUA,SAASC,GAAsB9X,GAAO;AACpC,MAAIA,KAAS;AACX,WAAO;AAET,QAAMqE,IAAO,OAAOrE;AACpB,SAAOqE,MAAS,YAAYA,MAAS,YAAYA,MAAS;AAC5D;AAEA,MAAM0T,KAAW;AACjB,SAASC,GAAWxT,GAAQ;AAC1B,QAAM+Q,IAAM,KAAK/Q,GACXrH,IAAQ4a,GAAS,KAAKxC,CAAG;AAC/B,MAAI,CAACpY;AACH,WAAOoY;AAET,MAAIlY,IAAO,IACP4a,GACA5W,GACAY,IAAY;AAChB,OAAKZ,IAAQlE,EAAM,OAAOkE,IAAQkU,EAAI,QAAQlU,KAAS;AACrD,YAAQkU,EAAI,WAAWlU,CAAK,GAAC;AAAA,MAC3B,KAAK;AACH,QAAA4W,IAAU;AACV;AAAA,MACF,KAAK;AACH,QAAAA,IAAU;AACV;AAAA,MACF,KAAK;AACH,QAAAA,IAAU;AACV;AAAA,MACF,KAAK;AACH,QAAAA,IAAU;AACV;AAAA,MACF,KAAK;AACH,QAAAA,IAAU;AACV;AAAA,MACF;AACE;AAAA,IACR;AACI,IAAIhW,MAAcZ,MAChBhE,KAAQkY,EAAI,MAAMtT,GAAWZ,CAAK,IAEpCY,IAAYZ,IAAQ,GACpBhE,KAAQ4a;AAAA,EACZ;AACE,SAAOhW,MAAcZ,IAAQhE,IAAOkY,EAAI,MAAMtT,GAAWZ,CAAK,IAAIhE;AACpE;AACA,MAAM6a,KAAiB;AACvB,SAASC,GAAkBC,GAAK;AAC9B,SAAOA,EAAI,QAAQF,IAAgB,EAAE;AACvC;ACpaA;AAAA;AAAA;AAAA;AAAA;AASA,MAAMG,KAAmC,gBAAA/C;AAAA,EACvC;AACF;AACA,SAASgD,GAAe3L,GAAO1H,GAAK;AAClC,MAAI2R,IAAM;AACV,aAAW9W,KAAO6M,GAAO;AACvB,QAAI0L,GAAiBvY,CAAG,KAAK6V,GAAK7V,CAAG,KAAKmF,MAAQ,cAAcnF,MAAQ;AACtE;AAEF,UAAME,IAAQ2M,EAAM7M,CAAG;AACvB,IAAIA,MAAQ,UACV8W,KAAO,WAAW2B,GAAevY,CAAK,CAAC,MAC9BF,MAAQ,UACjB8W,KAAO,WAAW4B,GAAexY,CAAK,CAAC,MAC9BF,MAAQ,cACjB8W,KAAO,WAAW,OAAO5W,CAAK,CAAC,MAE/B4W,KAAO6B,GAAqB3Y,GAAKE,GAAOiF,CAAG;AAAA,EAEjD;AACE,SAAO2R;AACT;AACA,SAAS6B,GAAqB3Y,GAAKE,GAAOiF,GAAK;AAC7C,MAAI,CAAC6S,GAAsB9X,CAAK;AAC9B,WAAO;AAET,QAAM0Y,IAAUzT,MAAQA,EAAI,QAAQ,GAAG,IAAI,KAAKmS,GAASnS,CAAG,KAAKnF,IAAM+X,GAAe/X,CAAG,KAAKA,EAAI,YAAa;AAC/G,SAAIyX,GAAcmB,CAAO,IAChBlB,GAAmBxX,CAAK,IAAI,IAAI0Y,CAAO,KAAK,KAC1Cf,GAAkBe,CAAO,IAC3B1Y,MAAU,KAAK,IAAI0Y,CAAO,KAAK,IAAIA,CAAO,KAAKV,GAAWhY,CAAK,CAAC,OAEvE,QAAQ;AAAA,IACN,mEAAmE0Y,CAAO;AAAA,EAC3E,GACM;AAEX;AAOA,SAASH,GAAeI,GAAK;AAC3B,SAAOX,GAAWf,GAAe0B,CAAG,CAAC;AACvC;AACA,SAASH,GAAeG,GAAK;AAC3B,MAAI,CAACA;AACH,WAAO;AAET,MAAI/C,EAAS+C,CAAG;AACd,WAAOX,GAAWW,CAAG;AAEvB,QAAM5B,IAASX,GAAeuC,CAAG;AACjC,SAAOX,GAAWlB,GAAeC,CAAM,CAAC;AAC1C;AAUA,MAAM,EAAE,kBAAA6B,GAAkB,IAAGC;AA+E7B,SAASC,GAAkBC,GAAYC,GAAiB1H,GAAQ2H,GAAUC,GAAiB;AACzF,EAAAH,EAAW,uBAAuB;AAClC,QAAMI,IAAUD,EAAgB,WAAW,SAASE,EAAa,GAC3DC,IAAkBF,EAAQ,sBAAsBA,EAAQ,oBAAoB,CAAA,IAC5EG,IAAeD,EAAgB/H,CAAM,MAAM+H,EAAgB/H,CAAM,IAAI,KACrEiI,IAAcD,EAAa;AACjC,MAAIE;AACJ,MAAIP;AACF,IAAAD,EAAgBD,CAAU,GAC1BS,IAAkB;AAAA,OACb;AACL,UAAM,EAAE,WAAAC,GAAW,MAAAC,EAAM,IAAGC,GAAc;AAC1C,IAAAD,EAAK,8BAA8B,GACnCV,EAAgBU,CAAI,GACpBA,EAAK,wBAAwB,GAC7BF,IAAkBC,EAAW;AAAA,EACjC;AACE,EAAAH,EAAa,OAAOC,GAAa,GAAGC,CAAe,GACnDT,EAAW,qBAAqB;AAClC;AA+GA;AAAA,EACK,QAAQ,IAAI,aAAa,eAAgB,mBAAmB;AACjE;AACA;AAAA,EACK,QAAQ,IAAI,aAAa,eAAgB,qBAAqB;AACnE;AACA;AAAA,EACK,QAAQ,IAAI,aAAa,eAAgB,kBAAkB;AAChE;AA4BA,SAASnE,GAAMgF,GAAU;AACvB,QAAMjB,IAAMiB,KAAYA,EAAS;AACjC,SAAOjB,IAAM/D,GAAM+D,CAAG,IAAIiB;AAC5B;AAEA,SAASC,GAAMC,GAAG;AAChB,SAAOA,IAAIA,EAAE,cAAiB,KAAO;AACvC;AAEA,MAAM/N,KAAQ,CAAE;AAChB,SAASgO,GAAqBC,GAAO;AACnC,EAAAjO,GAAM,KAAKiO,CAAK;AAClB;AACA,SAASC,KAAsB;AAC7B,EAAAlO,GAAM,IAAK;AACb;AACA,IAAImO,KAAY;AAChB,SAASC,GAAOC,MAAQtV,GAAM;AAC5B,MAAIoV,GAAW;AACf,EAAAA,KAAY;AAEZ,QAAMG,IAAWtO,GAAM,SAASA,GAAMA,GAAM,SAAS,CAAC,EAAE,YAAY,MAC9DuO,IAAiBD,KAAYA,EAAS,WAAW,OAAO,aACxDE,IAAQC,GAAmB;AACjC,MAAIF;AACF,IAAAG;AAAA,MACEH;AAAA,MACAD;AAAA,MACA;AAAA,MACA;AAAA;AAAA,QAEED,IAAMtV,EAAK,IAAI,CAACvH,MAAM;AACpB,cAAIoT,GAAI+J;AACR,kBAAQA,KAAM/J,IAAKpT,EAAE,aAAa,OAAO,SAASoT,EAAG,KAAKpT,CAAC,MAAM,OAAOmd,IAAK,KAAK,UAAUnd,CAAC;AAAA,QACvG,CAAS,EAAE,KAAK,EAAE;AAAA,QACV8c,KAAYA,EAAS;AAAA,QACrBE,EAAM;AAAA,UACJ,CAAC,EAAE,OAAAP,EAAO,MAAK,OAAOW,GAAoBN,GAAUL,EAAM,IAAI,CAAC;AAAA,QACzE,EAAU,KAAK;AAAA,CAAI;AAAA,QACXO;AAAA,MACR;AAAA,IACK;AAAA,OACI;AACL,UAAMK,IAAW,CAAC,eAAeR,CAAG,IAAI,GAAGtV,CAAI;AAC/C,IAAIyV,EAAM,UAERK,EAAS,KAAK;AAAA,GACjB,GAAGC,GAAYN,CAAK,CAAC,GAEpB,QAAQ,KAAK,GAAGK,CAAQ;AAAA,EAC5B;AAEE,EAAAV,KAAY;AACd;AACA,SAASM,KAAoB;AAC3B,MAAIM,IAAe/O,GAAMA,GAAM,SAAS,CAAC;AACzC,MAAI,CAAC+O;AACH,WAAO,CAAE;AAEX,QAAMC,IAAkB,CAAE;AAC1B,SAAOD,KAAc;AACnB,UAAME,IAAOD,EAAgB,CAAC;AAC9B,IAAIC,KAAQA,EAAK,UAAUF,IACzBE,EAAK,iBAELD,EAAgB,KAAK;AAAA,MACnB,OAAOD;AAAA,MACP,cAAc;AAAA,IACtB,CAAO;AAEH,UAAMG,IAAiBH,EAAa,aAAaA,EAAa,UAAU;AACxE,IAAAA,IAAeG,KAAkBA,EAAe;AAAA,EACpD;AACE,SAAOF;AACT;AACA,SAASF,GAAYN,GAAO;AAC1B,QAAMW,IAAO,CAAE;AACf,SAAAX,EAAM,QAAQ,CAAChZ,GAAO8U,MAAM;AAC1B,IAAA6E,EAAK,KAAK,GAAG7E,MAAM,IAAI,CAAE,IAAG,CAAC;AAAA,CAChC,GAAG,GAAG8E,GAAiB5Z,CAAK,CAAC;AAAA,EAC9B,CAAG,GACM2Z;AACT;AACA,SAASC,GAAiB,EAAE,OAAAnB,GAAO,cAAAoB,KAAgB;AACjD,QAAMC,IAAUD,IAAe,IAAI,QAAQA,CAAY,sBAAsB,IACvEE,IAAStB,EAAM,YAAYA,EAAM,UAAU,UAAU,OAAO,IAC5DnH,IAAO,QAAQ8H;AAAA,IACnBX,EAAM;AAAA,IACNA,EAAM;AAAA,IACNsB;AAAA,EACJ,CAAG,IACK/I,IAAQ,MAAM8I;AACpB,SAAOrB,EAAM,QAAQ,CAACnH,GAAM,GAAG0I,GAAYvB,EAAM,KAAK,GAAGzH,CAAK,IAAI,CAACM,IAAON,CAAK;AACjF;AACA,SAASgJ,GAAY5O,GAAO;AAC1B,QAAMqG,IAAM,CAAE,GACRrH,IAAO,OAAO,KAAKgB,CAAK;AAC9B,SAAAhB,EAAK,MAAM,GAAG,CAAC,EAAE,QAAQ,CAAC7L,MAAQ;AAChC,IAAAkT,EAAI,KAAK,GAAGwI,GAAW1b,GAAK6M,EAAM7M,CAAG,CAAC,CAAC;AAAA,EAC3C,CAAG,GACG6L,EAAK,SAAS,KAChBqH,EAAI,KAAK,MAAM,GAEVA;AACT;AACA,SAASwI,GAAW1b,GAAKE,GAAO2Y,GAAK;AACnC,SAAI/C,EAAS5V,CAAK,KAChBA,IAAQ,KAAK,UAAUA,CAAK,GACrB2Y,IAAM3Y,IAAQ,CAAC,GAAGF,CAAG,IAAIE,CAAK,EAAE,KAC9B,OAAOA,KAAU,YAAY,OAAOA,KAAU,aAAaA,KAAS,OACtE2Y,IAAM3Y,IAAQ,CAAC,GAAGF,CAAG,IAAIE,CAAK,EAAE,IAC9B6Z,GAAM7Z,CAAK,KACpBA,IAAQwb,GAAW1b,GAAK8U,GAAM5U,EAAM,KAAK,GAAG,EAAI,GACzC2Y,IAAM3Y,IAAQ,CAAC,GAAGF,CAAG,SAASE,GAAO,GAAG,KACtCoD,GAAWpD,CAAK,IAClB,CAAC,GAAGF,CAAG,MAAME,EAAM,OAAO,IAAIA,EAAM,IAAI,MAAM,EAAE,EAAE,KAEzDA,IAAQ4U,GAAM5U,CAAK,GACZ2Y,IAAM3Y,IAAQ,CAAC,GAAGF,CAAG,KAAKE,CAAK;AAE1C;AAEA,MAAMyb,KAAmB;AAAA,EACtB,IAAO;AAAA,EACP,IAAO;AAAA,EACP,GAAM;AAAA,EACN,IAAO;AAAA,EACP,GAAM;AAAA,EACN,IAAO;AAAA,EACP,GAAM;AAAA,EACN,KAAQ;AAAA,EACR,IAAO;AAAA,EACP,GAAM;AAAA,EACN,IAAO;AAAA,EACP,IAAO;AAAA,EACP,KAAQ;AAAA,EACR,KAAQ;AAAA,EACR,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,GAAI;AAAA,EACJ,IAAK;AAAA,EACL,IAAK;AAAA,EACL,IAAK;AAAA,EACL,IAAK;AAAA,EACL,IAAK;AAAA,EACL,IAAK;AAAA,EACL,IAAK;AACR;AACA,SAAShB,GAAsB1E,GAAIsE,GAAUhW,GAAMS,GAAM;AACvD,MAAI;AACF,WAAOA,IAAOiR,EAAG,GAAGjR,CAAI,IAAIiR,EAAI;AAAA,EACjC,SAAQ2F,GAAK;AACZ,IAAAC,GAAYD,GAAKrB,GAAUhW,CAAI;AAAA,EACnC;AACA;AACA,SAASsX,GAAYD,GAAKrB,GAAUhW,GAAMuX,IAAa,IAAM;AAC3D,QAAMC,IAAexB,IAAWA,EAAS,QAAQ,MAC3C,EAAE,cAAAyB,GAAc,iCAAAC,EAAiC,IAAG1B,KAAYA,EAAS,WAAW,UAAU5E;AACpG,MAAI4E,GAAU;AACZ,QAAI2B,IAAM3B,EAAS;AACnB,UAAM4B,IAAkB5B,EAAS,OAC3B6B,IAAe,QAAQ,IAAI,aAAa,eAAgBT,GAAiBpX,CAAI,IAAI,8CAA8CA,CAAI;AACzI,WAAO2X,KAAK;AACV,YAAMG,IAAqBH,EAAI;AAC/B,UAAIG;AACF,iBAAS9F,IAAI,GAAGA,IAAI8F,EAAmB,QAAQ9F;AAC7C,cAAI8F,EAAmB9F,CAAC,EAAEqF,GAAKO,GAAiBC,CAAS,MAAM;AAC7D;AAAA;AAIN,MAAAF,IAAMA,EAAI;AAAA,IAChB;AACI,QAAIF,GAAc;AAEhB,MAAArB,GAAsBqB,GAAc,MAAM,IAAI;AAAA,QAC5CJ;AAAA,QACAO;AAAA,QACAC;AAAA,MACR,CAAO;AAED;AAAA,IACN;AAAA,EACA;AACE,EAAAE,GAASV,GAAKrX,GAAMwX,GAAcD,GAAYG,CAA+B;AAC/E;AACA,SAASK,GAASV,GAAKrX,GAAMwX,GAAcD,IAAa,IAAMS,IAAc,IAAO;AACjF,MAAO,QAAQ,IAAI,aAAa,cAAe;AAC7C,UAAMC,IAAOb,GAAiBpX,CAAI;AAQlC,QAPIwX,KACF9B,GAAqB8B,CAAY,GAEnC1B,GAAO,kBAAkBmC,IAAO,wBAAwBA,CAAI,KAAK,EAAE,EAAE,GACjET,KACF5B,GAAqB,GAEnB2B;AACF,YAAMF;AAEN,YAAQ,MAAMA,CAAG;AAAA,EAEpB,OAAM;AAAA,QAAIW;AACT,YAAMX;AAEN,YAAQ,MAAMA,CAAG;AAAA;AAErB;AAEA,IAAIa,IACAjP,KAAS,CAAE;AACf,SAASkP,GAAgBC,GAAMnL,GAAQ;AACrC,MAAIX,GAAI+J;AACR,EAAA6B,KAAWE,GACPF,MACFA,GAAS,UAAU,IACnBjP,GAAO,QAAQ,CAAC,EAAE,OAAA7P,GAAO,MAAAqH,EAAI,MAAOyX,GAAS,KAAK9e,GAAO,GAAGqH,CAAI,CAAC,GACjEwI,KAAS,CAAE,4KAKX,OAAO,SAAW;AAAA,EAClB,OAAO;AAAA;AAAA,EAEP,GAAGoN,KAAM/J,IAAK,OAAO,cAAc,OAAO,SAASA,EAAG,cAAc,QAAgB+J,EAAG,SAAS,OAAO,OAExFpJ,EAAO,+BAA+BA,EAAO,gCAAgC,CAAE,GACvF,KAAK,CAACoL,MAAY;AACvB,IAAAF,GAAgBE,GAASpL,CAAM;AAAA,EACrC,CAAK,GACD,WAAW,MAAM;AACf,IAAKiL,OACHjL,EAAO,+BAA+B,MACtChE,KAAS,CAAE;AAAA,EAEd,GAAE,GAAG,KAENA,KAAS,CAAE;AAEf;AAEA;AACE,QAAMqP,IAAIxG,GAAe,GACnByG,IAAuB,CAAC9c,GAAK+c,MAAW;AAC5C,QAAIC;AACJ,YAAMA,IAAUH,EAAE7c,CAAG,OAAIgd,IAAUH,EAAE7c,CAAG,IAAI,CAAE,IAC9Cgd,EAAQ,KAAKD,CAAM,GACZ,CAACE,MAAM;AACZ,MAAID,EAAQ,SAAS,IAAGA,EAAQ,QAAQ,CAAC3X,MAAQA,EAAI4X,CAAC,CAAC,IAClDD,EAAQ,CAAC,EAAEC,CAAC;AAAA,IAClB;AAAA,EACF;AACD,EAAAH;AAAA,IACE;AAAA,IACA,CAACG,MAAMA;AAAA,EACR,GACDH;AAAA,IACE;AAAA,IACA,CAACG,MAAMA;AAAA,EACR;AACH;AACG,QAAQ,IAAI;AAmBf,MAAMC,KAAa,mBACbC,KAAW,CAAC1H,MAAQA,EAAI,QAAQyH,IAAY,CAACE,MAAMA,EAAE,YAAa,CAAA,EAAE,QAAQ,SAAS,EAAE;AAC7F,SAASC,GAAiBC,GAAWC,IAAkB,IAAM;AAC3D,SAAOja,GAAWga,CAAS,IAAIA,EAAU,eAAeA,EAAU,OAAOA,EAAU,QAAQC,KAAmBD,EAAU;AAC1H;AACA,SAASzC,GAAoBN,GAAU+C,GAAW9B,IAAS,IAAO;AAChE,MAAIpe,IAAOigB,GAAiBC,CAAS;AACrC,MAAI,CAAClgB,KAAQkgB,EAAU,QAAQ;AAC7B,UAAMjgB,IAAQigB,EAAU,OAAO,MAAM,iBAAiB;AACtD,IAAIjgB,MACFD,IAAOC,EAAM,CAAC;AAAA,EAEpB;AACE,MAAI,CAACD,KAAQmd,KAAYA,EAAS,QAAQ;AACxC,UAAMiD,IAAoB,CAACC,MAAa;AACtC,iBAAWzd,KAAOyd;AAChB,YAAIA,EAASzd,CAAG,MAAMsd;AACpB,iBAAOtd;AAAA,IAGZ;AACD,IAAA5C,IAAOogB;AAAA,MACLjD,EAAS,cAAcA,EAAS,OAAO,KAAK;AAAA,IAC7C,KAAIiD,EAAkBjD,EAAS,WAAW,UAAU;AAAA,EACzD;AACE,SAAOnd,IAAO+f,GAAS/f,CAAI,IAAIoe,IAAS,QAAQ;AAClD;AAKgB,QAAQ,IAAI;AACzB,QAAQ,IAAI;AACZ,QAAQ,IAAI;AAkFf,SAASkC,GAAWC,GAAUpD,GAAU;AAEpC,QAAM,IAAI;AAAA,IACR;AAAA,EACD;AAEL;AAEA,MAAM;AAAA,EACJ,yBAAAqD;AAAA,EACA,6BAAAC;AAAA,EACA,gBAAAC;AAAA,EACA,qBAAAC;AAAA,EACA,gBAAAC;AAAA,EACA,oBAAAC;AAAA,EACA,mBAAAC;AACF,IAAInF;AACJ,SAASc,KAAe;AACtB,MAAIsE,IAAa;AACjB,QAAM3Q,IAAS,CAAE;AACjB,SAAO;AAAA,IACL,YAAY;AACV,aAAOA;AAAA,IACR;AAAA,IACD,KAAK6C,GAAM;AACT,YAAM+N,IAAetI,EAASzF,CAAI;AAClC,UAAI8N,KAAcC,GAAc;AAC9B,QAAA5Q,EAAOA,EAAO,SAAS,CAAC,KAAK6C;AAC7B;AAAA,MACR;AACM,MAAA7C,EAAO,KAAK6C,CAAI,GAChB8N,IAAaC,IACTrI,GAAU1F,CAAI,KAAKlM,GAAQkM,CAAI,KAAKA,EAAK,cAC3C7C,EAAO,WAAW;AAAA,IAE1B;AAAA,EACG;AACH;AACA,SAAS6Q,GAAqBnE,GAAOd,IAAkB,MAAMkF,GAAa;AACxE,QAAM/D,IAAWL,EAAM,YAAY0D;AAAA,IACjC1D;AAAA,IACAd;AAAA,IACA;AAAA,EACD;AACD,EAAO,QAAQ,IAAI,aAAa,gBAAe6E,GAAmB/D,CAAK;AACvE,QAAMhH,IAAM4K;AAAA,IACVvD;AAAA,IACA;AAAA;AAAA,EAED;AACD,EAAO,QAAQ,IAAI,aAAa,gBAAe2D,GAAmB;AAClE,QAAMK,IAAgBxI,GAAU7C,CAAG;AACnC,MAAIsL,IAAajE,EAAS;AAC1B,SAAIgE,KAAiBC,IACT,QAAQ,QAAQtL,CAAG,EAAE,KAAK,MAAM;AAExC,QADIqL,MAAeC,IAAajE,EAAS,KACrCiE;AACF,aAAO,QAAQ;AAAA,QACbA,EAAW,IAAI,CAACC,MAAaA,EAAS,KAAKlE,EAAS,KAAK,CAAC;AAAA,MAC3D;AAAA,EAET,CAAK,EAAE,MAAM3E,EAAI,EACJ,KAAK,MAAM8I,GAAuBnE,GAAU+D,CAAW,CAAC,IAE1DI,GAAuBnE,GAAU+D,CAAW;AAEvD;AACA,SAASI,GAAuBnE,GAAU+D,GAAa;AACrD,EAAO,QAAQ,IAAI,aAAa,gBAAeL,GAAmB1D,EAAS,KAAK;AAChF,QAAMoE,IAAOpE,EAAS,MAChB,EAAE,WAAAZ,GAAW,MAAAC,EAAM,IAAGC,GAAc;AAC1C,MAAIvW,GAAWqb,CAAI,GAAG;AACpB,QAAI9e,IAAOke,GAAoBxD,CAAQ;AACvC,QAAI,CAACoE,EAAK;AACR,iBAAW3e,KAAOua,EAAS;AACzB,QAAIva,EAAI,WAAW,SAAS,OACzBH,EAAK,UAAUA,EAAK,QAAQ,CAAA,IAAKG,CAAG,IAAI;AAI/C,IAAA4e,GAAYhF,GAAMW,EAAS,UAAU1a,GAAM0a,GAAU+D,CAAW;AAAA,EACpE,OAAS;AACL,KAAK,CAAC/D,EAAS,UAAUA,EAAS,WAAW3E,OAAS,CAAC2E,EAAS,aAAa,CAACoE,EAAK,aAAa7I,EAAS6I,EAAK,QAAQ,MACpHA,EAAK,YAAYjB,GAAWiB,EAAK,QAAQ;AAE3C,UAAME,IAAYtE,EAAS,aAAaoE,EAAK;AAC7C,QAAIE,GAAW;AACb,UAAIxN,IAAQkJ,EAAS,iBAAiB,KAAQA,EAAS,QAAQ,QAC3DuE,IAAY,IACZ5C,IAAM3B;AACV,iBAAa;AACX,cAAMwE,IAAU7C,EAAI,MAAM;AAC1B,QAAI6C,MACGD,MACHzN,IAAQ,EAAE,GAAGA,EAAO,GACpByN,IAAY,KAEdzN,EAAM0N,CAAO,IAAI;AAEnB,cAAMC,IAAS9C,EAAI;AACnB,YAAI8C,KAAUA,EAAO,WAAWA,EAAO,YAAY9C,EAAI;AACrD,UAAAA,IAAM8C;AAAA;AAEN;AAAA,MAEV;AACM,UAAIV,GAAa;AACf,QAAKQ,MAAWzN,IAAQ,EAAE,GAAGA,EAAO;AACpC,cAAM4N,IAAkBX,EAAY,KAAI,EAAG,MAAM,GAAG;AACpD,iBAAS/H,IAAI,GAAGA,IAAI0I,EAAgB,QAAQ1I;AAC1C,UAAAlF,EAAM4N,EAAgB1I,CAAC,CAAC,IAAI;AAAA,MAEtC;AACM,YAAMjC,IAAOuJ,GAA4BtD,CAAQ;AACjD,UAAI;AACF,QAAAsE;AAAA,UACEtE,EAAS;AAAA,UACTX;AAAA,UACAW;AAAA,UACAlJ;AAAA;AAAA,UAEAkJ,EAAS;AAAA,UACTA,EAAS;AAAA,UACTA,EAAS;AAAA,UACTA,EAAS;AAAA,QACV;AAAA,MACT,UAAgB;AACR,QAAAsD,GAA4BvJ,CAAI;AAAA,MACxC;AAAA,IACK,WAAUiG,EAAS,UAAUA,EAAS,WAAW3E;AAChD,MAAAgJ;AAAA,QACEhF;AAAA,QACAW,EAAS,UAAUwD,GAAoBxD,CAAQ;AAAA,QAC/CA;AAAA,QACA+D;AAAA,MACD;AAAA,SACI;AACL,YAAMY,IAAgBP,EAAK,QAAQA,EAAK,UAAU;AAClDQ,MAAAA,GAAO,aAAaD,CAAa,0CAA0C,GAC3EtF,EAAK,SAAS;AAAA,IACpB;AAAA,EACA;AACE,SAAO,QAAQ,IAAI,aAAa,gBAAesE,GAAmB,GAC3DvE,EAAW;AACpB;AACA,SAASiF,GAAYhF,GAAMM,GAAOd,GAAiBkF,GAAa;AAC9D,QAAM,EAAE,MAAA/Z,GAAM,WAAA6a,GAAW,UAAAnO,GAAU,MAAAoO,GAAM,OAAAxS,EAAK,IAAKqN;AAInD,UAHImF,MACFnF,EAAM,QAAQoF,GAAmBpF,GAAOrN,GAAOwS,CAAI,IAE7C9a,GAAI;AAAA,IACV,KAAKgb;AACH,MAAA3F,EAAK1B,GAAWjH,CAAQ,CAAC;AACzB;AAAA,IACF,KAAKuO;AACH,MAAA5F;AAAA,QACE3I,IAAW,OAAOoH,GAAkBpH,CAAQ,CAAC,QAAQ;AAAA,MACtD;AACD;AAAA,IACF,KAAKwO;AACH,MAAA7F,EAAK3I,CAAQ;AACb;AAAA,IACF,KAAKyO;AACH,MAAIxF,EAAM,iBACRoE,KAAeA,IAAcA,IAAc,MAAM,MAAMpE,EAAM,aAAa,KAAK,GAAG,IAEpFN,EAAK,UAAU,GACf+F;AAAA,QACE/F;AAAA,QACA3I;AAAA,QACAmI;AAAA,QACAkF;AAAA,MACD,GACD1E,EAAK,UAAU;AACf;AAAA,IACF;AACE,MAAIwF,IAAY,IACdQ,GAAmBhG,GAAMM,GAAOd,GAAiBkF,CAAW,IACnDc,IAAY,IACrBxF,EAAKyE,GAAqBnE,GAAOd,GAAiBkF,CAAW,CAAC,IACrDc,IAAY,KACrBS,GAAoBjG,GAAMM,GAAOd,GAAiBkF,CAAW,IACpDc,IAAY,MACrBR,GAAYhF,GAAMM,EAAM,WAAWd,GAAiBkF,CAAW,IAE/Da;AAAAA,QACE;AAAA,QACA5a;AAAA,QACA,IAAI,OAAOA,CAAI;AAAA,MAChB;AAAA,EAET;AACA;AACA,SAASob,GAAoB/F,GAAM3I,GAAUmI,GAAiBkF,GAAa;AACzE,WAAS/H,IAAI,GAAGA,IAAItF,EAAS,QAAQsF;AACnC,IAAAqI,GAAYhF,GAAMoE,GAAe/M,EAASsF,CAAC,CAAC,GAAG6C,GAAiBkF,CAAW;AAE/E;AACA,SAASsB,GAAmBhG,GAAMM,GAAOd,GAAiBkF,GAAa;AACrE,QAAMnZ,IAAM+U,EAAM;AAClB,MAAI,EAAE,OAAArN,GAAO,UAAAoE,GAAU,WAAAmO,GAAW,SAAAL,EAAS,IAAG7E,GAC1C4F,IAAU,IAAI3a,CAAG;AACrB,EAAI0H,MACFiT,KAAWtH,GAAe3L,GAAO1H,CAAG,IAElC4Z,MACFe,KAAW,IAAIf,CAAO;AAExB,MAAIgB,IAAY3G,GACZ4G,IAAW9F;AACf,SAAO6F,KAAaC,MAAaD,EAAU;AACzC,IAAAC,IAAWD,EAAU,OACjBC,EAAS,YACXF,KAAW,IAAIE,EAAS,OAAO,KAEjCD,IAAYA,EAAU;AAMxB,MAJIzB,MACFwB,KAAW,IAAIxB,CAAW,KAE5B1E,EAAKkG,IAAU,GAAG,GACd,CAACvI,GAAUpS,CAAG,GAAG;AACnB,QAAI8a,IAAsB;AAC1B,IAAIpT,MACEA,EAAM,aACRoT,IAAsB,IACtBrG,EAAK/M,EAAM,SAAS,KACXA,EAAM,eACfoT,IAAsB,IACtBrG,EAAK1B,GAAWrL,EAAM,WAAW,CAAC,KACzB1H,MAAQ,cAAc0H,EAAM,UACrCoT,IAAsB,IACtBrG,EAAK1B,GAAWrL,EAAM,KAAK,CAAC,KAG3BoT,MACCb,IAAY,IACdxF,EAAK1B,GAAWjH,CAAQ,CAAC,IAChBmO,IAAY,MACrBO;AAAA,MACE/F;AAAA,MACA3I;AAAA,MACAmI;AAAA,MACAkF;AAAA,IACD,IAGL1E,EAAK,KAAKzU,CAAG,GAAG;AAAA,EACpB;AACA;AACA,SAASma,GAAmBpF,GAAOgG,GAAUb,GAAM;AACjD,QAAMc,IAAU,CAAE;AAClB,WAAS5J,IAAI,GAAGA,IAAI8I,EAAK,QAAQ9I,KAAK;AACpC,UAAMhB,IAAU8J,EAAK9I,CAAC,GAChB;AAAA,MACJ,KAAK,EAAE,aAAA6J,EAAW;AAAA,IACxB,IAAQ7K;AACJ,QAAI6K,GAAa;AACf,YAAMvT,IAAQuT,EAAY7K,GAAS2E,CAAK;AACxC,MAAIrN,KAAOsT,EAAQ,KAAKtT,CAAK;AAAA,IACnC;AAAA,EACA;AACE,SAAOwT,GAAWH,KAAY,CAAE,GAAE,GAAGC,CAAO;AAC9C;AACA,SAASN,GAAoBjG,GAAMM,GAAOd,GAAiBkF,GAAa;AACtE,QAAM9M,IAAS0I,EAAM,SAASA,EAAM,MAAM,IACpCf,IAAWe,EAAM,SAASA,EAAM,MAAM;AAC5C,MAAI,CAAC1I;AACH,WAAK2H,KACHgG,GAAO,yDAAyD,GAE3D,CAAE;AAEX,MAAI,CAACrJ,EAAStE,CAAM;AAClB2N,WAAAA;AAAAA,MACE;AAAA,IACD,GACM,CAAE;AAEX,EAAAnG;AAAA,IACEY;AAAA,IACA,CAAC0G,MAAU;AACT,MAAAX;AAAA,QACEW;AAAA,QACApG,EAAM;AAAA,QACNd;AAAA,QACAkF;AAAA,MACD;AAAA,IACF;AAAA,IACD9M;AAAA,IACA2H,KAAYA,MAAa;AAAA,IACzBC;AAAA,EACD;AACH;AAEA,MAAM,EAAE,SAASmH,GAAS,IAAKxH;AAC/B,SAASyH,GAAmBhT,GAAQiT,GAAWC,GAAY;AACzD,MAAI,CAAClT,EAAO;AACV,WAAOiT,IAAYE,GAAmBnT,CAAM;AAE9C,MAAIsJ,IAAM2J;AACV,WAASlK,IAAImK,GAAYnK,IAAI/I,EAAO,QAAQ+I,KAAK,GAAG;AAClD,UAAMlG,IAAO7C,EAAO+I,CAAC;AACrB,QAAIT,EAASzF,CAAI,GAAG;AAClB,MAAAyG,KAAOzG;AACP;AAAA,IACN;AACI,QAAI0F,GAAU1F,CAAI;AAChB,aAAOA,EAAK,KAAK,CAACuQ,OAChBpT,EAAO+I,CAAC,IAAIqK,GACLJ,GAAmBhT,GAAQsJ,GAAKP,CAAC,EACzC;AAEH,UAAMpW,IAASqgB,GAAmBnQ,GAAMyG,GAAK,CAAC;AAC9C,QAAIf,GAAU5V,CAAM;AAClB,aAAOA,EAAO,KAAK,CAACygB,OAClBpT,EAAO+I,CAAC,IAAIqK,GACLJ,GAAmBhT,GAAQ,IAAI+I,CAAC,EACxC;AAEH,IAAAO,IAAM3W;AAAA,EACV;AACE,SAAO2W;AACT;AACA,SAAS+J,GAAerT,GAAQ;AAC9B,SAAOgT,GAAmBhT,GAAQ,IAAI,CAAC;AACzC;AACA,SAASmT,GAAmBnT,GAAQ;AAClC,MAAIsJ,IAAM;AACV,WAASP,IAAI,GAAGA,IAAI/I,EAAO,QAAQ+I,KAAK;AACtC,QAAIlG,IAAO7C,EAAO+I,CAAC;AACnB,IAAIT,EAASzF,CAAI,IACfyG,KAAOzG,IAEPyG,KAAO6J,GAAmBtQ,CAAI;AAAA,EAEpC;AACE,SAAOyG;AACT;AACA,eAAegK,GAAeC,GAAO1H,IAAU,IAAI;AACjD,MAAIkH,GAAUQ,CAAK;AACjB,WAAOD,GAAeE,GAAU,EAAE,QAAQ,MAAMD,EAAK,CAAE,GAAG1H,CAAO;AAEnE,QAAMa,IAAQ+G,GAAYF,EAAM,YAAYA,EAAM,MAAM;AACxD,EAAA7G,EAAM,aAAa6G,EAAM,UACzBA,EAAM,QAAQzH,IAAeD,CAAO;AACpC,QAAM7L,IAAS,MAAM6Q,GAAqBnE,CAAK,GACzC/Z,IAAS,MAAM0gB,GAAerT,CAAM;AAE1C,MADA,MAAM0T,GAAiB7H,CAAO,GAC1BA,EAAQ;AACV,eAAW8H,KAAW9H,EAAQ;AAC5B,MAAA8H,EAAS;AAGb,SAAOhhB;AACT;AACA,eAAe+gB,GAAiB7H,GAAS;AACvC,MAAIA,EAAQ,mBAAmB;AAC7B,IAAAA,EAAQ,YAAYA,EAAQ,aAAa,CAAE;AAC3C,eAAWrZ,KAAOqZ,EAAQ;AACxB,MAAAA,EAAQ,UAAUrZ,CAAG,IAAI,MAAM6gB;AAAA,QAC7B,MAAM,QAAQ,IAAI,CAACxH,EAAQ,kBAAkBrZ,CAAG,CAAC,CAAC;AAAA,MACnD;AAAA,EAEP;AACA;AAEA,MAAM,EAAE,SAAAohB,GAAS,IAAGrI;AAoIpBsI,GAAsB;AC3rCf,MAAMC,KAAkBtS,GAAgB;AAAA,EAC7C,cAAc;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACL,UAAU;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,IACA,OAAO;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,IAAA;AAAA,EAEd;AAAA,EACA,MAAMnC,GAAO;AACX,UAAM5Q,IAAY8J,EAAI8G,EAAM,MAAM,SAAS,GACrCzQ,IAAgB2J,EAAI8G,EAAM,MAAM,aAAa,GAC7CvQ,IAAWyJ,EAAI8G,EAAM,MAAM,QAAQ,GACnCZ,IAAQlG,EAAI8G,EAAM,MAAM,KAAK,GAC7BrQ,IAAYuJ,EAAI8G,EAAM,MAAM,SAAS,GACrCwF,IAAStM,EAAI8G,EAAM,MAAM,MAAM;AAErC,aAAS0U,IAAa;AACb,aAAA;AAAA,QACL,UAAUzM,GAAMzF,GAAQ/S,CAAQ,CAAC;AAAA,QACjC,WAAWwY,GAAMzF,GAAQ7S,CAAS,CAAC;AAAA,QACnC,OAAOsY,GAAMzF,GAAQpD,CAAK,CAAC;AAAA,MAC7B;AAAA,IAAA;AAGF,mBAAeuV,EAAO3kB,GAAyC;AAC7D,aAAAZ,EAAU,QAAQY,EAAM,WACxBT,EAAc,QAAQS,EAAM,eAExBA,EAAM,aACRP,EAAS,QAAQO,EAAM,WAGrBA,EAAM,cACRL,EAAU,QAAQK,EAAM,YAGtBA,EAAM,UACFoP,EAAA,QAAQtP,GAAYmY,GAAMzF,GAAQpD,EAAM,KAAK,CAAC,GAAGpP,EAAM,KAAK,IAGhEA,EAAM,UAAUA,EAAM,OAAO,SAAS,MACxCwV,EAAO,QAAQ,CAAC,GAAGA,EAAO,OAAO,GAAGxV,EAAM,MAAM,IAG3C,MAAM4S,GAAS,MAAM8R,GAAY;AAAA,IAAA;AAG1C,IAAA5R,EAAQ7T,IAAgBG,CAAS,GACjC0T,EAAQ9T,IAAoBO,CAAa,GACzCuT,EAAQhU,IAA2BW,CAAQ,GAC3CqT,EAAQ/T,IAAiCY,CAAS,GAClDmT,EAAQ5T,IAA0BylB,CAAM,GAChC7R,EAAAG,IAAiCjD,EAAM,QAAQ,GACvD8C,EAAQK,IAA8BY,EAAS,MAAM,CAAC,CAAC,GACvDjB,EAAQI,IAAyB9D,CAAK,GACtC0D,EAAQwC,IAA2BE,CAAM;AAEzC,aAASoP,EAAoB9jB,GAAsB;AACjD,MAAIA,EAAM,SACCrB,EAAA,QAAQqB,EAAM,MAAM,UACvBsO,EAAA,QAAQtO,EAAM,MAAM,OAChBnB,EAAA,QAAQmB,EAAM,MAAM,cAE9B,OAAO,QAAQ,aAAa4jB,EAAc,GAAA,IAAIjlB,EAAS,KAAK,GACrD,OAAA,OAAO,GAAG,CAAC;AAAA,IACpB;AAGF,WAAAqW,GAAU,MAAM;AACd,aAAO,QAAQ,aAAa4O,EAAc,GAAA,IAAIjlB,EAAS,KAAK,GACrD,OAAA,iBAAiB,YAAYmlB,CAAmB;AAAA,IAAA,CACxD,GAED7O,GAAgB,MAAM;AACb,aAAA,oBAAoB,YAAY6O,CAAmB;AAAA,IAAA,CAC3D,GAEM,MACE7R,GAAEc,EAAmB;AAAA,EAC9B;AAEJ,CAAC;AC9ED,eAAsBgR,GAA2B,EAAE,SAAA7b,GAAS,UAAAf,GAAU,OAAA6c,KAAkB;AAChF,QAAAC,IAAW,OAAO,SAAW,KAC7B3jB,IAAQ4H,KAAWgc,GAAiB,GAEpCC,IAAMH,EAAM,EAAE,QAAQL,IAAiB,OAAO,EAAE,UAAAxc,GAAU,OAAA7G,EAAM,GAAG;AAEzE,SAAI2jB,IACK,MAAMd,GAAegB,CAAG,IAG1B;AACT;AAGA,SAASD,KAA0B;AAC7B,MAAA1S,IAAU,SAAS,eAAe,KAAK;AAE3C,MAAI,CAACA,KAAW,CAACA,EAAQ;AACjB,UAAA,IAAI,MAAM,oDAAoD;AAG/D,SAAA,KAAK,MAAMA,EAAQ,WAAW;AACvC;ACvBA,MAAM4S,KAAehc,EAAI;AAEzB,eAAeic,GAAsBC,GAAgBnkB,GAAmC;AACtF,SAAO,IAAI,QAAQ,CAACZ,GAASC,MAAW;AACtC,aAAS+kB,IAAU;AACjB,MAAAH,GAAa,MAAO,aAAa,IAEjCtS,GAAS,MAAM;AACb,gBAAQ,QAAQ3R,EAAS,CAAC,EAAE,KAAK,CAACoC,MAAa;AAC7C,UAAA6hB,GAAa,QAAQ,QACZtS,GAAA,MAAMvS,EAAQgD,CAAK,CAAC;AAAA,QAAA,CAC9B,EAAE,MAAM,CAACxB,MAAU;AAClB,UAAAqjB,GAAa,QAAQ,QACZtS,GAAA,MAAMtS,EAAOuB,CAAK,CAAC;AAAA,QAAA,CAC7B;AAAA,MAAA,CACF;AAAA,IAAA;AAGH,aAASyU,IAAS;AAChB,MAAA4O,GAAa,QAAQ,QACZtS,GAAA,MAAMtS,GAAQ;AAAA,IAAA;AAGzB,IAAA4kB,GAAa,QAAQ,EAAE,GAAGE,GAAQ,YAAY,IAAO,SAAAC,GAAS,QAAA/O,EAAO;AAAA,EAAA,CACtE;AACH;AAIA,eAAegP,GAAWC,GAAuBtkB,GAAoC;AACnF,SAAIA,MAAa,SACRkkB,GAAmBI,GAAkBtkB,CAAQ,IAE7CkkB,GAAmB,CAAC,GAAGI,CAAgB;AAElD;AAEO,SAASC,KAAyB;AAChC,SAAAN;AACT;AAEO,SAASO,KAAkB;AACzB,SAAAH;AACT;ACpDO,SAASI,KAAa;AAC3B,SAAOxc,EAAI;AACb;ACPO,SAASyc,KAA8C;AACrD,SAAAtmB,EAAOyJ,IAAyB,IAAI;AAC7C;AAEO,SAAS8c,KAAiD;AAC3D,MAAApJ,IAAUnd,EAAOyJ,EAAuB;AAE5C,MAAI,CAAC0T;AACG,UAAA,IAAI,MAAM,oCAAoC;AAG/C,SAAAA;AACT;ACZO,SAASqJ,KAA2C;AACnD,QAAAlS,IAAOtU,EAAOgU,EAA+B;AAEnD,MAAI,CAACM;AACG,UAAA,IAAI,MAAM,iEAAkE;AAG7E,SAAAA;AACT;ACNO,SAASmS,KAAsD;AAC9D,QAAAnS,IAAOtU,EAAO+T,EAA6B;AAEjD,MAAI,CAACO;AACG,UAAA,IAAI,MAAM,yDAA0D;AAGrE,SAAAA;AACT;AAEO,SAASoS,KAAwB;AACtC,QAAM5D,IAAS2D,GAAc;AAE7B,SAAO/R,EAAS,MAAM;AACpB,QAAIoO,KAAUA,EAAO,SAASA,EAAO,MAAM;AACzC,aAAOhiB,GAAIgiB,EAAO,MAAM,UAAUA,EAAO,MAAM,KAAK;AAAA,EACtD,CACD;AACH;ACpBO,SAAS6D,KAAqD;AAC7D,QAAArS,IAAOtU,EAAOiU,EAA4B;AAEhD,MAAI,CAACK;AACG,UAAA,IAAI,MAAM,uEAAwE;AAGnF,SAAAA;AACT;ACXO,SAASsS,GAAM5iB,GAAY;AAC5B,SAAuBA,KAAU,OAC5B,KAGL,OAAOA,KAAU,YAAY,OAAOA,KAAU,YACzC,KAGL,OAAOA,KAAU,WACZA,EAAM,WAAW,KAGtBA,aAAiB,QACZA,EAAM,SAAS,IAGpBA,aAAiB,OAAOA,aAAiB,MACpCA,EAAM,OAAO,IAGf,CAACA;AACV;AAEO,SAAS6iB,GAAO7iB,GAAY;AAC1B,SAAA,CAAC4iB,GAAM5iB,CAAK;AACrB;AC1BgB,SAAAuU,GAAKjT,IAAiB,IAAY;AACzC,SAAA,MAAM,KAAK,OAAO,OAAO,gBAAgB,IAAI,WAAW,KAAK,KAAKA,IAAS,CAAC,CAAC,CAAC,GAAG,CAACwhB,OAAO,OAAOA,IAAI,KAAM,SAAS,EAAE,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE;AACnJ;ACQO,SAASC,GAA6CvnB,GAAoB;AAC/E,SAAOA,EAAK,OAAO,CAACwnB,MAASA,EAAK,aAAa,IAAI;AACrD;AAEgB,SAAAC,GAAiDznB,GAAoB2U,GAAS;AAC5F,SAAO3U,EAAK,OAAO,CAACwnB,MAAUA,EAAK,OAAO7S,EAAK,QAAQ6S,EAAK,QAAQ7S,EAAK,SAAS6S,EAAK,aAAa7S,EAAK,EAAG;AAC9G;AAEgB,SAAA+S,GAAkD1nB,GAAoB2U,GAAS;AACtF,SAAA3U,EAAK,OAAO,CAACwnB,MAAUA,EAAK,OAAO7S,EAAK,QAAQ6S,EAAK,QAAQ7S,EAAK,KAAM;AACjF;AAEgB,SAAAgT,GAAoD3nB,GAAoB2U,GAAS;AACxF,SAAA3U,EAAK,OAAO,CAACwnB,MAAUA,EAAK,OAAO7S,EAAK,QAAQ6S,EAAK,QAAQ7S,EAAK,KAAM;AACjF;ACxBY,IAAAiT,uBAAAA,OACVA,EAAA,UAAU,WACVA,EAAA,SAAS,UACTA,EAAA,OAAO,QACPA,EAAA,UAAU,WAJAA,IAAAA,MAAA,CAAA,CAAA;ACuDL,SAASC,KAAwC;AAC/C,SAAA;AAAA,IACL,QAAQzB,GAAU;AACZ,MAAAA,EAAA,UAAU,cAAcpR,EAAmB,GAC3CoR,EAAA,UAAU,cAAc1Q,EAAmB,GAC3C0Q,EAAA,UAAU,kBAAkB/S,EAAuB,GACnD+S,EAAA,UAAU,mBAAmBxP,EAAwB,GACrDwP,EAAA,UAAU,kCAAkCjP,EAAuC,GACnFiP,EAAA,UAAU,SAASvP,EAAc,GAEjCuP,EAAA,OAAO,iBAAiB,KAAK1O,IAC7B0O,EAAA,OAAO,iBAAiB,MAAMxO,IAC9BwO,EAAA,OAAO,iBAAiB,SAAS7M;AAAA,IAAA;AAAA,EAEzC;AACF;","x_google_ignoreList":[6,7,9,24,25]}